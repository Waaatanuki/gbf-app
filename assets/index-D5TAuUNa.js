import{S as I,k as L,l as M,m as x}from"./_Uint8Array-DQJVZihF.js";import{b as E}from"./isEqual-DvEPJO_D.js";import{b8 as y,bC as D,bD as p,bf as F,b5 as C,bE as O,bm as _,bF as w,aO as H,b0 as T}from"./index-DQvV8JhW.js";function G(n){return n}var S=1,B=2;function U(n,e,r,s){var t=r.length,u=t,a=!s;if(n==null)return!u;for(n=Object(n);t--;){var i=r[t];if(a&&i[2]?i[1]!==n[i[0]]:!(i[0]in n))return!1}for(;++t<u;){i=r[t];var o=i[0],l=n[o],c=i[1];if(a&&i[2]){if(l===void 0&&!(o in n))return!1}else{var d=new I;if(s)var h=s(l,c,o,n,e,d);if(!(h===void 0?E(c,l,S|B,s,d):h))return!1}}return!0}function P(n){return n===n&&!y(n)}function K(n){for(var e=L(n),r=e.length;r--;){var s=e[r],t=n[s];e[r]=[s,t,P(t)]}return e}function R(n,e){return function(r){return r==null?!1:r[n]===e&&(e!==void 0||n in Object(r))}}function N(n){var e=K(n);return e.length==1&&e[0][2]?R(e[0][0],e[0][1]):function(r){return r===n||U(r,n,e)}}function $(n,e){return n!=null&&e in Object(n)}function q(n,e,r){e=D(e,n);for(var s=-1,t=e.length,u=!1;++s<t;){var a=p(e[s]);if(!(u=n!=null&&r(n,a)))break;n=n[a]}return u||++s!=t?u:(t=n==null?0:n.length,!!t&&M(t)&&F(a,t)&&(C(n)||x(n)))}function J(n,e){return n!=null&&q(n,e,$)}var Q=1,W=2;function X(n,e){return O(n)&&P(e)?R(p(n),e):function(r){var s=_(r,n);return s===void 0&&s===e?J(r,n):E(e,s,Q|W)}}function Y(n){return function(e){return e==null?void 0:e[n]}}function Z(n){return function(e){return w(e,n)}}function k(n){return O(n)?Y(p(n)):Z(n)}function j(n){return typeof n=="function"?n:n==null?G:typeof n=="object"?C(n)?X(n[0],n[1]):N(n):k(n)}const f=new Map;let m;H&&(document.addEventListener("mousedown",n=>m=n),document.addEventListener("mouseup",n=>{for(const e of f.values())for(const{documentHandler:r}of e)r(n,m)}));function A(n,e){let r=[];return Array.isArray(e.arg)?r=e.arg:T(e.arg)&&r.push(e.arg),function(s,t){const u=e.instance.popperRef,a=s.target,i=t==null?void 0:t.target,o=!e||!e.instance,l=!a||!i,c=n.contains(a)||n.contains(i),d=n===a,h=r.length&&r.some(g=>g==null?void 0:g.contains(a))||r.length&&r.includes(i),v=u&&(u.contains(a)||u.contains(i));o||l||c||d||h||v||e.value(s,t)}}const nn={beforeMount(n,e){f.has(n)||f.set(n,[]),f.get(n).push({documentHandler:A(n,e),bindingFn:e.value})},updated(n,e){f.has(n)||f.set(n,[]);const r=f.get(n),s=r.findIndex(u=>u.bindingFn===e.oldValue),t={documentHandler:A(n,e),bindingFn:e.value};s>=0?r.splice(s,1,t):r.push(t)},unmounted(n){f.delete(n)}};export{nn as C,j as b,J as h,G as i};
