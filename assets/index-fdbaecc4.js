import{al as M,am as $,B as O,d as I,a as o,c as r,N as m,a4 as _,j as s,L as T,an as q,f as n,ao as F,k as V,w as f,a3 as c,n as w,ap as G,aq as W,t as H,ah as J,a9 as K,aa as P,a8 as D}from"./index-eec80e3a.js";import{d as Q,e as U,m as X,t as j,a as z,w as S,b as C}from"./evoker-1b0d3c03.js";import"./el-tooltip-4ed993c7.js";import{E as Y}from"./el-popper-7bf948a5.js";import"./el-tag-73ba1f92.js";import{E as Z,a as ee}from"./el-select-30d2becf.js";import"./aria-60e0cdc6.js";import"./focus-trap-1b6df800.js";import"./strings-468507ce.js";import"./index-0b2fffe3.js";import"./scroll-ecd9bd7f.js";import"./validator-bcd2e044.js";const N=M("evoker",()=>{const d=$("materialInfo",{}),l=$("evokerInfo",Q),y=O(()=>{const a={},v=["tarotUncap","evokerUncap","weaponUncap","domainUncap"];for(let e=0;e<10;e++)if(l.value[e].target){const p=l.value[e].no,k=l.value[e].tarotLevel||0,h=l.value[e].evokerLevel||0,g=l.value[e].weaponLevel||0,L=l.value[e].domainLevel||0,t=[k,h,g,L];for(let u=0;u<4;u++){const x=v[u];for(let b=t[u];b<U[p][x].length;b++){const R=U[p][x][b];for(const[E,A]of Object.entries(R))E in a||(a[E]=0),a[E]+=A}}if(!l.value[e].isAbility4Release){const u=U[p].ability4Release;for(const[x,b]of Object.entries(u))x in a||(a[x]=0),a[x]+=b}}const i=[];for(const e in a)i.push({id:e,total:a[e],need:e in d.value?a[e]-d.value[e]:a[e]});return i});return{materialInfo:d,evokerInfo:l,result:y}}),le=["src"],ae=["onUpdate:modelValue"],te=I({__name:"MaterialInfo",setup(d){const l=N();return(y,a)=>(o(),r("div",null,[(o(!0),r(m,null,_(n(X),(v,i)=>(o(),r("div",{key:i,"w-250px":"",flex:"","justify-start":""},[(o(!0),r(m,null,_(v,(e,p)=>(o(),r("div",{key:p,"w-50px":"",fc:"","flex-col":"","p-5px":""},[s("img",{src:`https://prd-game-a-granbluefantasy.akamaized.net/assets/img/sp/assets/item/article/s/${e}.jpg`},null,8,le),T(s("input",{"onUpdate:modelValue":k=>n(l).materialInfo[e]=k,"w-40px":"","text-12px":"","text-right":"","pr-2px":""},null,8,ae),[[q,n(l).materialInfo[e],void 0,{number:!0}]])]))),128))]))),128))]))}}),oe=["src"],se={class:"h-170px flex flex-col items-center justify-evenly"},B=I({__name:"EvokerCard",props:{modelValue:{required:!0}},emits:["update:modelValue"],setup(d){const l=F(d,"modelValue");return(y,a)=>{const v=Z,i=ee,e=G,p=W;return o(),V(p,{class:"evoker-card w-130px","body-style":{padding:"0px"},shadow:"hover"},{default:f(()=>{var k,h,g,L;return[s("img",{src:`./images/npc/304016${l.value.no}000_01.jpg`},null,8,oe),s("div",se,[c(i,{modelValue:l.value.tarotLevel,"onUpdate:modelValue":a[0]||(a[0]=t=>l.value.tarotLevel=t),class:w(["w-100px",{completed:l.value.tarotLevel===((k=n(j).at(-1))==null?void 0:k.value)}]),size:"small",placeholder:"塔罗牌进度",placement:"bottom"},{default:f(()=>[(o(!0),r(m,null,_(n(j),(t,u)=>(o(),V(v,{key:u,label:t.label,value:t.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","class"]),c(i,{modelValue:l.value.evokerLevel,"onUpdate:modelValue":a[1]||(a[1]=t=>l.value.evokerLevel=t),class:w(["w-100px",{completed:l.value.evokerLevel===((h=n(z).at(-1))==null?void 0:h.value)}]),size:"small",placeholder:"贤者进度",placement:"bottom"},{default:f(()=>[(o(!0),r(m,null,_(n(z),(t,u)=>(o(),V(v,{key:u,label:t.label,value:t.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","class"]),c(i,{modelValue:l.value.weaponLevel,"onUpdate:modelValue":a[2]||(a[2]=t=>l.value.weaponLevel=t),class:w(["w-100px",{completed:l.value.weaponLevel===((g=n(S).at(-1))==null?void 0:g.value)}]),size:"small",placeholder:"贤武进度",placement:"bottom"},{default:f(()=>[(o(!0),r(m,null,_(n(S),(t,u)=>(o(),V(v,{key:u,label:t.label,value:t.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","class"]),c(i,{modelValue:l.value.domainLevel,"onUpdate:modelValue":a[3]||(a[3]=t=>l.value.domainLevel=t),class:w(["w-100px",{completed:l.value.domainLevel===((L=n(C).at(-1))==null?void 0:L.value)}]),size:"small",placeholder:"领域进度",placement:"bottom"},{default:f(()=>[(o(!0),r(m,null,_(n(C),(t,u)=>(o(),V(v,{key:u,label:t.label,value:t.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","class"]),s("div",null,[c(e,{modelValue:l.value.isAbility4Release,"onUpdate:modelValue":a[4]||(a[4]=t=>l.value.isAbility4Release=t),label:"四技能解锁",size:"small"},null,8,["modelValue"])]),s("div",null,[c(e,{modelValue:l.value.target,"onUpdate:modelValue":a[5]||(a[5]=t=>l.value.target=t),label:"目标",size:"small"},null,8,["modelValue"])])])]}),_:1})}}});const ne=d=>(K("data-v-e9974634"),d=d(),P(),d),re={flex:"","flex-col":"","text-sm":""},ue={flex:"","justify-around":"","items-center":"","my-2":"","gap-2":""},de={flex:"","justify-around":"","items-center":"","my-2":"","gap-2":""},ce={key:0},ie=ne(()=>s("h1",{style:{"text-align":"center"}}," 请先去游戏的素材界面读取素材信息 ",-1)),pe=[ie],ve={key:1},me={class:"showBox"},_e=["src"],fe=I({__name:"EvokerInfo",setup(d){const l=N();return(y,a)=>{const v=Y,i=J;return o(),r(m,null,[s("div",re,[s("div",ue,[(o(),r(m,null,_(5,e=>s("div",{key:e},[c(B,{modelValue:n(l).evokerInfo[e-1],"onUpdate:modelValue":p=>n(l).evokerInfo[e-1]=p},null,8,["modelValue","onUpdate:modelValue"])])),64))]),s("div",de,[(o(),r(m,null,_(5,e=>s("div",{key:e},[c(B,{modelValue:n(l).evokerInfo[e+4],"onUpdate:modelValue":p=>n(l).evokerInfo[e+4]=p},null,8,["modelValue","onUpdate:modelValue"])])),64))])]),n(l).result.length===0?(o(),r("div",ce,pe)):(o(),r("div",ve,[c(i,{"max-height":"210"},{default:f(()=>[s("div",me,[(o(!0),r(m,null,_(n(l).result.filter(e=>e.need>0),e=>(o(),r("div",{key:e.id,class:"item"},[c(v,{content:`总需${e.total}`,placement:"top"},{default:f(()=>[s("img",{"w-full":"",src:`https://prd-game-a-granbluefantasy.akamaized.net/assets/img/sp/assets/item/article/s/${e.id}.jpg`},null,8,_e)]),_:2},1032,["content"]),s("label",null,H(e.need),1)]))),128))])]),_:1})]))],64)}}});const ke=D(fe,[["__scopeId","data-v-e9974634"]]),xe={class:"app-container"},ye={class:"evoker-page","rounded-5px":"",flex:"","flex-wrap":"","justify-evenly":"","items-center":""},be={flex:"","flex-col":"","max-w-700px":""},Ve=I({__name:"index",setup(d){return(l,y)=>(o(),r("div",xe,[s("div",ye,[c(te),s("div",be,[c(ke)])])]))}});const Be=D(Ve,[["__scopeId","data-v-48ef36f4"]]);export{Be as default};
