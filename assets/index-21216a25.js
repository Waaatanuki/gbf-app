import{a6 as M,x as N,d as E,a,c as r,F as v,P as _,h as s,D as T,a7 as F,f as n,a8 as q,j as V,w as f,O as d,n as w,t as G,U as P,V as W}from"./index-b8cc9633.js";import{d as H,e as U,m as J,t as $,a as j,w as z,b as S}from"./evoker-1b0d3c03.js";import{c as C}from"./index-7cababca.js";import"./base-368cc041.js";import{E as K}from"./el-scrollbar-5c49334b.js";import"./el-tooltip-4ed993c7.js";import{E as Q}from"./el-popper-93e0f017.js";import{E as X}from"./el-card-7d5511d8.js";import{E as Y}from"./el-checkbox-2ff25142.js";import"./el-input-1373d167.js";import"./el-tag-2d43f1ce.js";import{E as Z,a as ee}from"./el-select-16880b75.js";import{_ as B}from"./_plugin-vue_export-helper-c27b6911.js";import"./index-154cd8fa.js";import"./aria-60e0cdc6.js";import"./focus-trap-05b093ee.js";import"./use-form-item-3d666019.js";import"./isEqual-fc203dc5.js";import"./_Uint8Array-459b4200.js";import"./flatten-5876618e.js";import"./strings-1579d1ef.js";import"./index-7c03407d.js";import"./scroll-a750d4a3.js";import"./validator-f683d4b9.js";const O=M("evoker",()=>{const i=C("materialInfo",{}),l=C("evokerInfo",H),y=N(()=>{const t={},m=["tarotUncap","evokerUncap","weaponUncap","domainUncap"];for(let e=0;e<10;e++)if(l.value[e].target){const c=l.value[e].no,k=l.value[e].tarotLevel||0,h=l.value[e].evokerLevel||0,g=l.value[e].weaponLevel||0,L=l.value[e].domainLevel||0,o=[k,h,g,L];for(let u=0;u<4;u++){const x=m[u];for(let b=o[u];b<U[c][x].length;b++){const R=U[c][x][b];for(const[I,A]of Object.entries(R))I in t||(t[I]=0),t[I]+=A}}if(!l.value[e].isAbility4Release){const u=U[c].ability4Release;for(const[x,b]of Object.entries(u))x in t||(t[x]=0),t[x]+=b}}const p=[];for(const e in t)p.push({id:e,total:t[e],need:e in i.value?t[e]-i.value[e]:t[e]});return p});return{materialInfo:i,evokerInfo:l,result:y}}),le=["src"],te=["onUpdate:modelValue"],oe=E({__name:"MaterialInfo",setup(i){const l=O();return(y,t)=>(a(),r("div",null,[(a(!0),r(v,null,_(n(J),(m,p)=>(a(),r("div",{key:p,"w-250px":"",flex:"","justify-start":""},[(a(!0),r(v,null,_(m,(e,c)=>(a(),r("div",{key:c,"w-50px":"",fc:"","flex-col":"","p-5px":""},[s("img",{src:`https://prd-game-a-granbluefantasy.akamaized.net/assets/img/sp/assets/item/article/s/${e}.jpg`},null,8,le),T(s("input",{"onUpdate:modelValue":k=>n(l).materialInfo[e]=k,"w-40px":"","text-12px":"","text-right":"","pr-2px":""},null,8,te),[[F,n(l).materialInfo[e],void 0,{number:!0}]])]))),128))]))),128))]))}}),ae=["src"],se={class:"h-170px flex flex-col items-center justify-evenly"},D=E({__name:"EvokerCard",props:{modelValue:{required:!0}},emits:["update:modelValue"],setup(i){const l=q(i,"modelValue");return(y,t)=>{const m=Z,p=ee,e=Y,c=X;return a(),V(c,{class:"evoker-card w-130px","body-style":{padding:"0px"},shadow:"hover"},{default:f(()=>{var k,h,g,L;return[s("img",{src:`./images/npc/304016${l.value.no}000_01.jpg`},null,8,ae),s("div",se,[d(p,{modelValue:l.value.tarotLevel,"onUpdate:modelValue":t[0]||(t[0]=o=>l.value.tarotLevel=o),class:w(["w-100px",{completed:l.value.tarotLevel===((k=n($).at(-1))==null?void 0:k.value)}]),size:"small",placeholder:"塔罗牌进度",placement:"bottom"},{default:f(()=>[(a(!0),r(v,null,_(n($),(o,u)=>(a(),V(m,{key:u,label:o.label,value:o.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","class"]),d(p,{modelValue:l.value.evokerLevel,"onUpdate:modelValue":t[1]||(t[1]=o=>l.value.evokerLevel=o),class:w(["w-100px",{completed:l.value.evokerLevel===((h=n(j).at(-1))==null?void 0:h.value)}]),size:"small",placeholder:"贤者进度",placement:"bottom"},{default:f(()=>[(a(!0),r(v,null,_(n(j),(o,u)=>(a(),V(m,{key:u,label:o.label,value:o.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","class"]),d(p,{modelValue:l.value.weaponLevel,"onUpdate:modelValue":t[2]||(t[2]=o=>l.value.weaponLevel=o),class:w(["w-100px",{completed:l.value.weaponLevel===((g=n(z).at(-1))==null?void 0:g.value)}]),size:"small",placeholder:"贤武进度",placement:"bottom"},{default:f(()=>[(a(!0),r(v,null,_(n(z),(o,u)=>(a(),V(m,{key:u,label:o.label,value:o.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","class"]),d(p,{modelValue:l.value.domainLevel,"onUpdate:modelValue":t[3]||(t[3]=o=>l.value.domainLevel=o),class:w(["w-100px",{completed:l.value.domainLevel===((L=n(S).at(-1))==null?void 0:L.value)}]),size:"small",placeholder:"领域进度",placement:"bottom"},{default:f(()=>[(a(!0),r(v,null,_(n(S),(o,u)=>(a(),V(m,{key:u,label:o.label,value:o.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","class"]),s("div",null,[d(e,{modelValue:l.value.isAbility4Release,"onUpdate:modelValue":t[4]||(t[4]=o=>l.value.isAbility4Release=o),label:"四技能解锁",size:"small"},null,8,["modelValue"])]),s("div",null,[d(e,{modelValue:l.value.target,"onUpdate:modelValue":t[5]||(t[5]=o=>l.value.target=o),label:"目标",size:"small"},null,8,["modelValue"])])])]}),_:1})}}});const ne=i=>(P("data-v-e9974634"),i=i(),W(),i),re={flex:"","flex-col":"","text-sm":""},ue={flex:"","justify-around":"","items-center":"","my-2":"","gap-2":""},ie={flex:"","justify-around":"","items-center":"","my-2":"","gap-2":""},de={key:0},pe=ne(()=>s("h1",{style:{"text-align":"center"}}," 请先去游戏的素材界面读取素材信息 ",-1)),ce=[pe],me={key:1},ve={class:"showBox"},_e=["src"],fe=E({__name:"EvokerInfo",setup(i){const l=O();return(y,t)=>{const m=Q,p=K;return a(),r(v,null,[s("div",re,[s("div",ue,[(a(),r(v,null,_(5,e=>s("div",{key:e},[d(D,{modelValue:n(l).evokerInfo[e-1],"onUpdate:modelValue":c=>n(l).evokerInfo[e-1]=c},null,8,["modelValue","onUpdate:modelValue"])])),64))]),s("div",ie,[(a(),r(v,null,_(5,e=>s("div",{key:e},[d(D,{modelValue:n(l).evokerInfo[e+4],"onUpdate:modelValue":c=>n(l).evokerInfo[e+4]=c},null,8,["modelValue","onUpdate:modelValue"])])),64))])]),n(l).result.length===0?(a(),r("div",de,ce)):(a(),r("div",me,[d(p,{"max-height":"210"},{default:f(()=>[s("div",ve,[(a(!0),r(v,null,_(n(l).result.filter(e=>e.need>0),e=>(a(),r("div",{key:e.id,class:"item"},[d(m,{content:`总需${e.total}`,placement:"top"},{default:f(()=>[s("img",{"w-full":"",src:`https://prd-game-a-granbluefantasy.akamaized.net/assets/img/sp/assets/item/article/s/${e.id}.jpg`},null,8,_e)]),_:2},1032,["content"]),s("label",null,G(e.need),1)]))),128))])]),_:1})]))],64)}}});const ke=B(fe,[["__scopeId","data-v-e9974634"]]),xe={class:"app-container"},ye={class:"evoker-page","rounded-5px":"",flex:"","flex-wrap":"","justify-evenly":"","items-center":""},be={flex:"","flex-col":"","max-w-700px":""},Ve=E({__name:"index",setup(i){return(l,y)=>(a(),r("div",xe,[s("div",ye,[d(oe),s("div",be,[d(ke)])])]))}});const We=B(Ve,[["__scopeId","data-v-48ef36f4"]]);export{We as default};
