import{d as b,h as y,s as T,o as c,k,w as r,e as t,F as V,n as x,j as g,a as m,l as E,c as w,E as L}from"./index-kh4_3tnz.js";/* empty css               */import{E as F,a as M}from"./el-form-item-bPdNt8H2.js";import{E as S}from"./el-input-EMuTv3Rn.js";import{E as U,a as C}from"./el-radio-group-0fvxW4y7.js";import{E as I}from"./index-msozl0tt.js";import"./use-form-item-ZuYs7LEE.js";import"./castArray-iqluTSQD.js";import"./_baseClone-i60ojiCo.js";import"./_Uint8Array-KwYoMc4c.js";import"./_initCloneObject-tVU8VaW3.js";import"./typescript-WBLZcIum.js";import"./event-vOXeFsAk.js";const P=b({__name:"index",setup(h){const B=[{name:"古战场",type:0,boxToken:[[1600,1],[2400,3],[2e3,41],[1e4,35]],last:15e3},{name:"月末剧情",type:1,boxToken:[[1200,1],[1580,1],[1980,1],[2112,17]],last:2104},{name:"公会战",type:2,boxToken:[[1600,1],[2400,3],[2e3,16],[1e4,20]],last:15e3}],e=y({type:0,currentToken:0,drawnBox:0,targetBox:0}),p=T(()=>{const f=B.find(n=>n.type===e.type),o=f.boxToken.reduce((n,d)=>{for(let _=0;_<d[1];_++)n.push(d[0]);return n},[]);let u=e.currentToken,i=e.drawnBox,l=e.drawnBox,s=0;for(let n=0;n<o.length;n++){if(e.drawnBox>n)continue;const d=o[n];if(u>=d)i++,l++,u-=d;else{if(l>=e.targetBox)break;l++,s+=d}}return i>=o.length&&(i+=Math.floor(u/f.last)),l>=o.length&&l<e.targetBox&&(s+=(e.targetBox-l)*f.last),{totalBox:i,needToken:s-u}});return(f,o)=>{const u=U,i=C,l=F,s=S,n=M,d=I,_=L;return c(),k(_,{"m-auto":"","w-500px":"",header:"战货计算"},{default:r(()=>[m(n,{model:t(e),"label-width":"120px"},{default:r(()=>[m(l,{label:"类型"},{default:r(()=>[m(i,{modelValue:t(e).type,"onUpdate:modelValue":o[0]||(o[0]=a=>t(e).type=a)},{default:r(()=>[(c(),w(V,null,E(B,a=>m(u,{key:a.type,label:a.type},{default:r(()=>[g(x(a.name),1)]),_:2},1032,["label"])),64))]),_:1},8,["modelValue"])]),_:1}),m(l,{label:"当前战货数量"},{default:r(()=>[m(s,{modelValue:t(e).currentToken,"onUpdate:modelValue":o[1]||(o[1]=a=>t(e).currentToken=a),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1}),m(l,{label:"已抽箱数"},{default:r(()=>[m(s,{modelValue:t(e).drawnBox,"onUpdate:modelValue":o[2]||(o[2]=a=>t(e).drawnBox=a),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1}),m(l,{label:"目标箱数"},{default:r(()=>[m(s,{modelValue:t(e).targetBox,"onUpdate:modelValue":o[3]||(o[3]=a=>t(e).targetBox=a),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),t(p).needToken<=0?(c(),k(d,{key:0,type:"success",size:"large"},{default:r(()=>[g(" 目前一共【 "+x(t(p).totalBox.toLocaleString())+" 】箱,目标已达成！ ",1)]),_:1})):(c(),k(d,{key:1,type:"warning",size:"large"},{default:r(()=>[g(" 目前一共【 "+x(t(p).totalBox.toLocaleString())+" 】箱,距离目标还差【 "+x(t(p).needToken.toLocaleString())+" 】战货 ",1)]),_:1}))]),_:1})}}});export{P as default};
