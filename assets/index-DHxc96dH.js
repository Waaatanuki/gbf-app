import{G as R,J as M,aC as F,am as h,aD as U,i as C,O as Y,f as _,c3 as L,d as B,N as G,o as y,c as w,b as x,a4 as P,cg as D,e,ak as A,W as g,X as S,_ as $,h as E,t as V,a0 as N,x as K,v as Z,a2 as ee,V as oe,j as O,l as ae,Q as te,R as le,ao as ne,aA as j,p as T,w as b,a as v,F as re,n as se,E as ie}from"./index-DSIS1sJP.js";/* empty css               */import{E as de,a as ue}from"./el-form-item-CkzN1TXq.js";import{E as me}from"./el-input-nOtal3oB.js";import{U as z,C as pe}from"./event-BB_Ol6Sd.js";import{a as fe,b as ce,u as be,c as ve}from"./use-form-item-D5STt9IQ.js";import{u as _e}from"./index-Bo-2kVyV.js";import{u as ge}from"./constants-CWbjjnLV.js";import{E as ye}from"./index-C325kmpy.js";import"./castArray-BBzIkgNF.js";import"./_baseClone-BaHfPs3s.js";import"./_Uint8Array-BI96aJQQ.js";import"./_initCloneObject-BzbD6JbF.js";import"./typescript-Bp3YSIOJ.js";const W=R({modelValue:{type:[String,Number,Boolean],default:void 0},size:M,disabled:Boolean,label:{type:[String,Number,Boolean],default:void 0},value:{type:[String,Number,Boolean],default:void 0},name:{type:String,default:void 0}}),Be=R({...W,border:Boolean}),q={[z]:d=>F(d)||h(d)||U(d),[pe]:d=>F(d)||h(d)||U(d)},H=Symbol("radioGroupKey"),J=(d,c)=>{const o=C(),t=Y(H,void 0),p=_(()=>!!t),r=_(()=>L(d.value)?d.label:d.value),u=_({get(){return p.value?t.modelValue:d.modelValue},set(l){p.value?t.changeEvent(l):c&&c(z,l),o.value.checked=d.modelValue===r.value}}),f=fe(_(()=>t==null?void 0:t.size)),a=ce(_(()=>t==null?void 0:t.disabled)),i=C(!1),m=_(()=>a.value||p.value&&u.value!==r.value?-1:0);return _e({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-radio",ref:"https://element-plus.org/en-US/component/radio.html"},_(()=>p.value&&L(d.value))),{radioRef:o,isGroup:p,radioGroup:t,focus:i,size:f,disabled:a,tabIndex:m,modelValue:u,actualValue:r}},ke=["value","name","disabled"],xe=B({name:"ElRadio"}),Ve=B({...xe,props:Be,emits:q,setup(d,{emit:c}){const o=d,t=G("radio"),{radioRef:p,radioGroup:r,focus:u,size:f,disabled:a,modelValue:i,actualValue:m}=J(o,c);function l(){K(()=>c("change",i.value))}return(s,n)=>{var k;return y(),w("label",{class:g([e(t).b(),e(t).is("disabled",e(a)),e(t).is("focus",e(u)),e(t).is("bordered",s.border),e(t).is("checked",e(i)===e(m)),e(t).m(e(f))])},[x("span",{class:g([e(t).e("input"),e(t).is("disabled",e(a)),e(t).is("checked",e(i)===e(m))])},[P(x("input",{ref_key:"radioRef",ref:p,"onUpdate:modelValue":n[0]||(n[0]=I=>A(i)?i.value=I:null),class:g(e(t).e("original")),value:e(m),name:s.name||((k=e(r))==null?void 0:k.name),disabled:e(a),type:"radio",onFocus:n[1]||(n[1]=I=>u.value=!0),onBlur:n[2]||(n[2]=I=>u.value=!1),onChange:l,onClick:n[3]||(n[3]=S(()=>{},["stop"]))},null,42,ke),[[D,e(i)]]),x("span",{class:g(e(t).e("inner"))},null,2)],2),x("span",{class:g(e(t).e("label")),onKeydown:n[4]||(n[4]=S(()=>{},["stop"]))},[$(s.$slots,"default",{},()=>[E(V(s.label),1)])],34)],2)}}});var Ee=N(Ve,[["__file","radio.vue"]]);const Se=R({...W}),Re=["value","name","disabled"],we=B({name:"ElRadioButton"}),Ie=B({...we,props:Se,setup(d){const c=d,o=G("radio"),{radioRef:t,focus:p,size:r,disabled:u,modelValue:f,radioGroup:a,actualValue:i}=J(c),m=_(()=>({backgroundColor:(a==null?void 0:a.fill)||"",borderColor:(a==null?void 0:a.fill)||"",boxShadow:a!=null&&a.fill?`-1px 0 0 0 ${a.fill}`:"",color:(a==null?void 0:a.textColor)||""}));return(l,s)=>{var n;return y(),w("label",{class:g([e(o).b("button"),e(o).is("active",e(f)===e(i)),e(o).is("disabled",e(u)),e(o).is("focus",e(p)),e(o).bm("button",e(r))])},[P(x("input",{ref_key:"radioRef",ref:t,"onUpdate:modelValue":s[0]||(s[0]=k=>A(f)?f.value=k:null),class:g(e(o).be("button","original-radio")),value:e(i),type:"radio",name:l.name||((n=e(a))==null?void 0:n.name),disabled:e(u),onFocus:s[1]||(s[1]=k=>p.value=!0),onBlur:s[2]||(s[2]=k=>p.value=!1),onClick:s[3]||(s[3]=S(()=>{},["stop"]))},null,42,Re),[[D,e(f)]]),x("span",{class:g(e(o).be("button","inner")),style:Z(e(f)===e(i)?e(m):{}),onKeydown:s[4]||(s[4]=S(()=>{},["stop"]))},[$(l.$slots,"default",{},()=>[E(V(l.label),1)])],38)],2)}}});var Q=N(Ie,[["__file","radio-button.vue"]]);const Te=R({id:{type:String,default:void 0},size:M,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:void 0},fill:{type:String,default:""},label:{type:String,default:void 0},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0}}),Ce=q,Ge=["id","aria-label","aria-labelledby"],$e=B({name:"ElRadioGroup"}),Ne=B({...$e,props:Te,emits:Ce,setup(d,{emit:c}){const o=d,t=G("radio"),p=ge(),r=C(),{formItem:u}=be(),{inputId:f,isLabeledByFormItem:a}=ve(o,{formItemContext:u}),i=l=>{c(z,l),K(()=>c("change",l))};ee(()=>{const l=r.value.querySelectorAll("[type=radio]"),s=l[0];!Array.from(l).some(n=>n.checked)&&s&&(s.tabIndex=0)});const m=_(()=>o.name||p.value);return oe(H,O({...ae(o),changeEvent:i,name:m})),te(()=>o.modelValue,()=>{o.validateEvent&&(u==null||u.validate("change").catch(l=>le()))}),(l,s)=>(y(),w("div",{id:e(f),ref_key:"radioGroupRef",ref:r,class:g(e(t).b("group")),role:"radiogroup","aria-label":e(a)?void 0:l.label||"radio-group","aria-labelledby":e(a)?e(u).labelId:void 0},[$(l.$slots,"default")],10,Ge))}});var X=N(Ne,[["__file","radio-group.vue"]]);const ze=ne(Ee,{RadioButton:Q,RadioGroup:X}),Fe=j(X);j(Q);const Qe=B({__name:"index",setup(d){const c=[{name:"古战场",type:0,boxToken:[[1600,1],[2400,3],[2e3,41],[1e4,35]],last:15e3},{name:"月末剧情",type:1,boxToken:[[1200,1],[1580,1],[1980,1],[2112,17]],last:2104},{name:"公会战",type:2,boxToken:[[1600,1],[2400,3],[2e3,16],[1e4,20]],last:15e3}],o=O({type:0,currentToken:0,drawnBox:0,targetBox:0}),t=_(()=>{const p=c.find(m=>m.type===o.type),r=p.boxToken.reduce((m,l)=>{for(let s=0;s<l[1];s++)m.push(l[0]);return m},[]);let u=o.currentToken,f=o.drawnBox,a=o.drawnBox,i=0;for(let m=0;m<r.length;m++){if(o.drawnBox>m)continue;const l=r[m];if(u>=l)f++,a++,u-=l;else{if(a>=o.targetBox)break;a++,i+=l}}return f>=r.length&&(f+=Math.floor(u/p.last)),a>=r.length&&a<o.targetBox&&(i+=(o.targetBox-a)*p.last),{totalBox:f,needToken:i-u}});return(p,r)=>{const u=ze,f=Fe,a=de,i=me,m=ue,l=ye,s=ie;return y(),T(s,{"m-auto":"","w-500px":"",header:"战货计算"},{default:b(()=>[v(m,{model:e(o),"label-width":"120px"},{default:b(()=>[v(a,{label:"类型"},{default:b(()=>[v(f,{modelValue:e(o).type,"onUpdate:modelValue":r[0]||(r[0]=n=>e(o).type=n)},{default:b(()=>[(y(),w(re,null,se(c,n=>v(u,{key:n.type,value:n.type},{default:b(()=>[E(V(n.name),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"])]),_:1}),v(a,{label:"当前战货数量"},{default:b(()=>[v(i,{modelValue:e(o).currentToken,"onUpdate:modelValue":r[1]||(r[1]=n=>e(o).currentToken=n),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1}),v(a,{label:"已抽箱数"},{default:b(()=>[v(i,{modelValue:e(o).drawnBox,"onUpdate:modelValue":r[2]||(r[2]=n=>e(o).drawnBox=n),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1}),v(a,{label:"目标箱数"},{default:b(()=>[v(i,{modelValue:e(o).targetBox,"onUpdate:modelValue":r[3]||(r[3]=n=>e(o).targetBox=n),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),e(t).needToken<=0?(y(),T(l,{key:0,type:"success",size:"large"},{default:b(()=>[E(" 目前一共【 "+V(e(t).totalBox.toLocaleString())+" 】箱,目标已达成！ ",1)]),_:1})):(y(),T(l,{key:1,type:"warning",size:"large"},{default:b(()=>[E(" 目前一共【 "+V(e(t).totalBox.toLocaleString())+" 】箱,距离目标还差【 "+V(e(t).needToken.toLocaleString())+" 】战货 ",1)]),_:1}))]),_:1})}}});export{Qe as default};
