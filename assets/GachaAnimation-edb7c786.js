import{d as y,g as n,a2 as v,o,c as l,b as h,F as $,k as M,T as x,n as L,_ as S}from"./index-af5fb7c0.js";const k={class:"gacha_bg"},I=["src"],R=y({__name:"GachaAnimation",props:["resultList"],emits:["close"],setup(c,{emit:p}){const s=c,d=p,i=n(),r=n(0),u=n([]);function _(){for(let e=0;e<s.resultList.length;e++){const m=375-Math.cos(e*36*Math.PI/180)*100,a=250+Math.sin(e*36*Math.PI/180)*100,t=375-Math.cos(e*36*Math.PI/180)*500,f=250+Math.sin(e*36*Math.PI/180)*500;u.value.push(document.styleSheets[0].cssRules.length),document.styleSheets[0].insertRule(`@keyframes move${e}{0% {top: 50%;left: 50%;}90% {top: ${m}px;left: ${a}px;opacity: 1;}100% {top: ${t}px;left: ${f}px;opacity: 0;}}`,document.styleSheets[0].cssRules.length),u.value.push(document.styleSheets[0].cssRules.length);const g=s.resultList.length>10?`animation: move${e} 0.5s ${.1*e}s;`:`animation: move${e} 2s ${.5*e}s;`;document.styleSheets[0].insertRule(`.result${e}{${g} animation-fill-mode: forwards;}`,document.styleSheets[0].cssRules.length)}}return v(()=>{i.value.addEventListener("animationend",()=>{r.value++,r.value===s.resultList.length&&d("close")}),_()}),(e,m)=>(o(),l("div",{ref_key:"playground",ref:i,class:"playground"},[h("div",null,[h("div",k,[(o(!0),l($,null,M(c.resultList,(a,t)=>(o(),l("img",{key:t,class:x(["list",`result${t}`]),src:`./images/gacha/${a.type}.png`,style:L(`transform:translate(-50%, -150%) rotateZ(${36*t}deg );opacity: 0;`)},null,14,I))),128))])])],512))}});const P=S(R,[["__scopeId","data-v-9e3b71a6"]]);export{P as default};
