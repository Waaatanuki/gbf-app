import{b2 as Je,ac as Xe,b3 as Gt,aB as H,b4 as At,aU as we,b as _e,g as re,b5 as qt,aF as Zt,d as Ce,b6 as Yt,as as Fe,u as $e,aM as Ca,h as Ze,r as J,B as I,H as xe,W as Ie,aO as Nt,b7 as Ma,b8 as Jt,b9 as Pa,az as Ta,f as e,ba as $a,p as Mt,a as T,k as ve,w as q,aE as qe,n as k,ae as Ft,a5 as Ae,E as he,l as dt,af as de,c as W,j as K,e as ft,t as fe,v as Xt,_ as Be,aw as pt,bb as Va,o as Oa,N as be,a4 as De,Z as Ne,ah as xa,L as Ee,a3 as V,bc as Ia,D as Ya,bd as Ea,T as Ra,be as Aa,aW as rt,A as Qt,bf as ea,X as ut,M as lt,bg as mt,bh as Pt,F as gt,bi as vt,m as ta,G as aa,aJ as Na,aj as Fa,a$ as Ba,aq as La,b0 as Ua,b1 as Wa,a8 as za}from"./index-eec80e3a.js";import{E as Ka,a as Ha}from"./el-form-item-51936f26.js";import{a as ja,E as Ga}from"./el-col-ffa720e6.js";import{E as qa,T as Za}from"./el-popper-7bf948a5.js";import{d as Ja,C as Tt}from"./el-tag-73ba1f92.js";import{a as $t,E as Xa}from"./el-select-30d2becf.js";import{E as ht}from"./el-button-5e4bc2ff.js";import{l as Qa}from"./lodash-56211bc8.js";import{E as en}from"./el-message-8b3b17b8.js";import{E as ke}from"./aria-60e0cdc6.js";import"./_baseClone-1c1acd31.js";import"./_initCloneObject-338777b6.js";import"./focus-trap-1b6df800.js";import"./strings-468507ce.js";import"./index-0b2fffe3.js";import"./scroll-ecd9bd7f.js";import"./validator-bcd2e044.js";import"./index-f8748455.js";const tn=["year","month","date","dates","week","datetime","datetimerange","daterange","monthrange"],at=r=>!r&&r!==0?[]:Array.isArray(r)?r:[r];var na={exports:{}};(function(r,u){(function(n,t){r.exports=t()})(Je,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},t=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,c=/\d\d/,v=/\d\d?/,y=/\d*[^-_:/,()\s\d]+/,_={},w=function(l){return(l=+l)+(l>68?1900:2e3)},C=function(l){return function(o){this[l]=+o}},x=[/[+-]\d\d:?(\d\d)?|Z/,function(l){(this.zone||(this.zone={})).offset=function(o){if(!o||o==="Z")return 0;var S=o.match(/([+-]|\d\d)/g),h=60*S[1]+(+S[2]||0);return h===0?0:S[0]==="+"?-h:h}(l)}],b=function(l){var o=_[l];return o&&(o.indexOf?o:o.s.concat(o.f))},g=function(l,o){var S,h=_.meridiem;if(h){for(var m=1;m<=24;m+=1)if(l.indexOf(h(m,0,o))>-1){S=m>12;break}}else S=l===(o?"pm":"PM");return S},d={A:[y,function(l){this.afternoon=g(l,!1)}],a:[y,function(l){this.afternoon=g(l,!0)}],S:[/\d/,function(l){this.milliseconds=100*+l}],SS:[c,function(l){this.milliseconds=10*+l}],SSS:[/\d{3}/,function(l){this.milliseconds=+l}],s:[v,C("seconds")],ss:[v,C("seconds")],m:[v,C("minutes")],mm:[v,C("minutes")],H:[v,C("hours")],h:[v,C("hours")],HH:[v,C("hours")],hh:[v,C("hours")],D:[v,C("day")],DD:[c,C("day")],Do:[y,function(l){var o=_.ordinal,S=l.match(/\d+/);if(this.day=S[0],o)for(var h=1;h<=31;h+=1)o(h).replace(/\[|\]/g,"")===l&&(this.day=h)}],M:[v,C("month")],MM:[c,C("month")],MMM:[y,function(l){var o=b("months"),S=(b("monthsShort")||o.map(function(h){return h.slice(0,3)})).indexOf(l)+1;if(S<1)throw new Error;this.month=S%12||S}],MMMM:[y,function(l){var o=b("months").indexOf(l)+1;if(o<1)throw new Error;this.month=o%12||o}],Y:[/[+-]?\d+/,C("year")],YY:[c,function(l){this.year=w(l)}],YYYY:[/\d{4}/,C("year")],Z:x,ZZ:x};function p(l){var o,S;o=l,S=_&&_.formats;for(var h=(l=o.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(U,Z,ee){var oe=ee&&ee.toUpperCase();return Z||S[ee]||n[ee]||S[oe].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(j,ae,me){return ae||me.slice(1)})})).match(t),m=h.length,O=0;O<m;O+=1){var L=h[O],N=d[L],z=N&&N[0],Y=N&&N[1];h[O]=Y?{regex:z,parser:Y}:L.replace(/^\[|\]$/g,"")}return function(U){for(var Z={},ee=0,oe=0;ee<m;ee+=1){var j=h[ee];if(typeof j=="string")oe+=j.length;else{var ae=j.regex,me=j.parser,ge=U.slice(oe),G=ae.exec(ge)[0];me.call(Z,G),U=U.replace(G,"")}}return function(A){var f=A.afternoon;if(f!==void 0){var M=A.hours;f?M<12&&(A.hours+=12):M===12&&(A.hours=0),delete A.afternoon}}(Z),Z}}return function(l,o,S){S.p.customParseFormat=!0,l&&l.parseTwoDigitYear&&(w=l.parseTwoDigitYear);var h=o.prototype,m=h.parse;h.parse=function(O){var L=O.date,N=O.utc,z=O.args;this.$u=N;var Y=z[1];if(typeof Y=="string"){var U=z[2]===!0,Z=z[3]===!0,ee=U||Z,oe=z[2];Z&&(oe=z[2]),_=this.$locale(),!U&&oe&&(_=S.Ls[oe]),this.$d=function(ge,G,A){try{if(["x","X"].indexOf(G)>-1)return new Date((G==="X"?1e3:1)*ge);var f=p(G)(ge),M=f.year,F=f.month,s=f.day,P=f.hours,B=f.minutes,X=f.seconds,te=f.milliseconds,ce=f.zone,le=new Date,ue=s||(M||F?1:le.getDate()),se=M||le.getFullYear(),Me=0;M&&!F||(Me=F>0?F-1:le.getMonth());var ye=P||0,Pe=B||0,Te=X||0,Oe=te||0;return ce?new Date(Date.UTC(se,Me,ue,ye,Pe,Te,Oe+60*ce.offset*1e3)):A?new Date(Date.UTC(se,Me,ue,ye,Pe,Te,Oe)):new Date(se,Me,ue,ye,Pe,Te,Oe)}catch{return new Date("")}}(L,Y,N),this.init(),oe&&oe!==!0&&(this.$L=this.locale(oe).$L),ee&&L!=this.format(Y)&&(this.$d=new Date("")),_={}}else if(Y instanceof Array)for(var j=Y.length,ae=1;ae<=j;ae+=1){z[1]=Y[ae-1];var me=S.apply(this,z);if(me.isValid()){this.$d=me.$d,this.$L=me.$L,this.init();break}ae===j&&(this.$d=new Date(""))}else m.call(this,O)}}})})(na);var an=na.exports;const la=Xe(an),Bt=["hours","minutes","seconds"],Lt="HH:mm:ss",st="YYYY-MM-DD",nn={date:st,dates:st,week:"gggg[w]ww",year:"YYYY",month:"YYYY-MM",datetime:`${st} ${Lt}`,monthrange:"YYYY-MM",daterange:st,datetimerange:`${st} ${Lt}`},Dt=(r,u)=>[r>0?r-1:void 0,r,r<u?r+1:void 0],sa=r=>Array.from(Array.from({length:r}).keys()),oa=r=>r.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),ra=r=>r.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),Ut=function(r,u){const n=At(r),t=At(u);return n&&t?r.getTime()===u.getTime():!n&&!t?r===u:!1},Wt=function(r,u){const n=we(r),t=we(u);return n&&t?r.length!==u.length?!1:r.every((c,v)=>Ut(c,u[v])):!n&&!t?Ut(r,u):!1},zt=function(r,u,n){const t=Gt(u)||u==="x"?H(r).locale(n):H(r,u).locale(n);return t.isValid()?t:void 0},Kt=function(r,u,n){return Gt(u)?r:u==="x"?+r:H(r).locale(n).format(u)},_t=(r,u)=>{var n;const t=[],c=u==null?void 0:u();for(let v=0;v<r;v++)t.push((n=c==null?void 0:c.includes(v))!=null?n:!1);return t},ua=_e({disabledHours:{type:re(Function)},disabledMinutes:{type:re(Function)},disabledSeconds:{type:re(Function)}}),ln=_e({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),ia=_e({id:{type:re([Array,String])},name:{type:re([Array,String]),default:""},popperClass:{type:String,default:""},format:String,valueFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:re([String,Object]),default:qt},editable:{type:Boolean,default:!0},prefixIcon:{type:re([String,Object]),default:""},size:Zt,readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},popperOptions:{type:re(Object),default:()=>({})},modelValue:{type:re([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:re([Date,Array])},defaultTime:{type:re([Date,Array])},isRange:{type:Boolean,default:!1},...ua,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:{type:Boolean,default:!1},label:{type:String,default:void 0},tabindex:{type:re([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean}),sn=["id","name","placeholder","value","disabled","readonly"],on=["id","name","placeholder","value","disabled","readonly"],rn=Ce({name:"Picker"}),un=Ce({...rn,props:ia,emits:["update:modelValue","change","focus","blur","calendar-change","panel-change","visible-change","keydown"],setup(r,{expose:u,emit:n}){const t=r,c=Yt(),{lang:v}=Fe(),y=$e("date"),_=$e("input"),w=$e("range"),{form:C,formItem:x}=Ca(),b=Ze("ElPopperOptions",{}),g=J(),d=J(),p=J(!1),l=J(!1),o=J(null);let S=!1,h=!1;const m=I(()=>[y.b("editor"),y.bm("editor",t.type),_.e("wrapper"),y.is("disabled",s.value),y.is("active",p.value),w.b("editor"),We?w.bm("editor",We.value):"",c.class]),O=I(()=>[_.e("icon"),w.e("close-icon"),ue.value?"":w.e("close-icon--hidden")]);xe(p,a=>{a?Ie(()=>{a&&(o.value=t.modelValue)}):(ne.value=null,Ie(()=>{L(t.modelValue)}))});const L=(a,$)=>{($||!Wt(a,o.value))&&(n("change",a),t.validateEvent&&(x==null||x.validate("change").catch(Q=>Nt())))},N=a=>{if(!Wt(t.modelValue,a)){let $;we(a)?$=a.map(Q=>Kt(Q,t.valueFormat,v.value)):a&&($=Kt(a,t.valueFormat,v.value)),n("update:modelValue",a&&$,v.value)}},z=a=>{n("keydown",a)},Y=I(()=>{if(d.value){const a=Se.value?d.value:d.value.$el;return Array.from(a.querySelectorAll("input"))}return[]}),U=(a,$,Q)=>{const pe=Y.value;pe.length&&(!Q||Q==="min"?(pe[0].setSelectionRange(a,$),pe[0].focus()):Q==="max"&&(pe[1].setSelectionRange(a,$),pe[1].focus()))},Z=()=>{A(!0,!0),Ie(()=>{h=!1})},ee=(a="",$=!1)=>{$||(h=!0),p.value=$;let Q;we(a)?Q=a.map(pe=>pe.toDate()):Q=a&&a.toDate(),ne.value=null,N(Q)},oe=()=>{l.value=!0},j=()=>{n("visible-change",!0)},ae=a=>{(a==null?void 0:a.key)===ke.esc&&A(!0,!0)},me=()=>{l.value=!1,p.value=!1,h=!1,n("visible-change",!1)},ge=()=>{p.value=!0},G=()=>{p.value=!1},A=(a=!0,$=!1)=>{h=$;const[Q,pe]=e(Y);let Ye=Q;!a&&Se.value&&(Ye=pe),Ye&&Ye.focus()},f=a=>{t.readonly||s.value||p.value||h||(p.value=!0,n("focus",a))};let M;const F=a=>{const $=async()=>{setTimeout(()=>{var Q;M===$&&(!((Q=g.value)!=null&&Q.isFocusInsideContent()&&!S)&&Y.value.filter(pe=>pe.contains(document.activeElement)).length===0&&(Qe(),p.value=!1,n("blur",a),t.validateEvent&&(x==null||x.validate("blur").catch(pe=>Nt()))),S=!1)},0)};M=$,$()},s=I(()=>t.disabled||(C==null?void 0:C.disabled)),P=I(()=>{let a;if(Me.value?i.value.getDefaultValue&&(a=i.value.getDefaultValue()):we(t.modelValue)?a=t.modelValue.map($=>zt($,t.valueFormat,v.value)):a=zt(t.modelValue,t.valueFormat,v.value),i.value.getRangeAvailableTime){const $=i.value.getRangeAvailableTime(a);Ma($,a)||(a=$,N(we(a)?a.map(Q=>Q.toDate()):a.toDate()))}return we(a)&&a.some($=>!$)&&(a=[]),a}),B=I(()=>{if(!i.value.panelReady)return"";const a=Ke(P.value);return we(ne.value)?[ne.value[0]||a&&a[0]||"",ne.value[1]||a&&a[1]||""]:ne.value!==null?ne.value:!te.value&&Me.value||!p.value&&Me.value?"":a?ce.value?a.join(", "):a:""}),X=I(()=>t.type.includes("time")),te=I(()=>t.type.startsWith("time")),ce=I(()=>t.type==="dates"),le=I(()=>t.prefixIcon||(X.value?Jt:Pa)),ue=J(!1),se=a=>{t.readonly||s.value||ue.value&&(a.stopPropagation(),Z(),N(null),L(null,!0),ue.value=!1,p.value=!1,i.value.handleClear&&i.value.handleClear())},Me=I(()=>{const{modelValue:a}=t;return!a||we(a)&&!a.filter(Boolean).length}),ye=async a=>{var $;t.readonly||s.value||((($=a.target)==null?void 0:$.tagName)!=="INPUT"||Y.value.includes(document.activeElement))&&(p.value=!0)},Pe=()=>{t.readonly||s.value||!Me.value&&t.clearable&&(ue.value=!0)},Te=()=>{ue.value=!1},Oe=a=>{var $;t.readonly||s.value||((($=a.touches[0].target)==null?void 0:$.tagName)!=="INPUT"||Y.value.includes(document.activeElement))&&(p.value=!0)},Se=I(()=>t.type.includes("range")),We=Ta(),nt=I(()=>{var a,$;return($=(a=e(g))==null?void 0:a.popperRef)==null?void 0:$.contentRef}),Ve=I(()=>{var a;return e(Se)?e(d):(a=e(d))==null?void 0:a.$el});$a(Ve,a=>{const $=e(nt),Q=e(Ve);$&&(a.target===$||a.composedPath().includes($))||a.target===Q||a.composedPath().includes(Q)||(p.value=!1)});const ne=J(null),Qe=()=>{if(ne.value){const a=ze(B.value);a&&Le(a)&&(N(we(a)?a.map($=>$.toDate()):a.toDate()),ne.value=null)}ne.value===""&&(N(null),L(null),ne.value=null)},ze=a=>a?i.value.parseUserInput(a):null,Ke=a=>a?i.value.formatToString(a):null,Le=a=>i.value.isValidValue(a),et=async a=>{if(t.readonly||s.value)return;const{code:$}=a;if(z(a),$===ke.esc){p.value===!0&&(p.value=!1,a.preventDefault(),a.stopPropagation());return}if($===ke.down&&(i.value.handleFocusPicker&&(a.preventDefault(),a.stopPropagation()),p.value===!1&&(p.value=!0,await Ie()),i.value.handleFocusPicker)){i.value.handleFocusPicker();return}if($===ke.tab){S=!0;return}if($===ke.enter||$===ke.numpadEnter){(ne.value===null||ne.value===""||Le(ze(B.value)))&&(Qe(),p.value=!1),a.stopPropagation();return}if(ne.value){a.stopPropagation();return}i.value.handleKeydownInput&&i.value.handleKeydownInput(a)},He=a=>{ne.value=a,p.value||(p.value=!0)},je=a=>{const $=a.target;ne.value?ne.value=[$.value,ne.value[1]]:ne.value=[$.value,null]},it=a=>{const $=a.target;ne.value?ne.value=[ne.value[0],$.value]:ne.value=[null,$.value]},tt=()=>{var a;const $=ne.value,Q=ze($&&$[0]),pe=e(P);if(Q&&Q.isValid()){ne.value=[Ke(Q),((a=B.value)==null?void 0:a[1])||null];const Ye=[Q,pe&&(pe[1]||null)];Le(Ye)&&(N(Ye),ne.value=null)}},Ge=()=>{var a;const $=e(ne),Q=ze($&&$[1]),pe=e(P);if(Q&&Q.isValid()){ne.value=[((a=e(B))==null?void 0:a[0])||null,Ke(Q)];const Ye=[pe&&pe[0],Q];Le(Ye)&&(N(Ye),ne.value=null)}},i=J({}),E=a=>{i.value[a[0]]=a[1],i.value.panelReady=!0},D=a=>{n("calendar-change",a)},R=(a,$,Q)=>{n("panel-change",a,$,Q)};return Mt("EP_PICKER_BASE",{props:t}),u({focus:A,handleFocusInput:f,handleBlurInput:F,handleOpen:ge,handleClose:G,onPick:ee}),(a,$)=>(T(),ve(e(qa),Xt({ref_key:"refPopper",ref:g,visible:p.value,effect:"light",pure:"",trigger:"click"},a.$attrs,{role:"dialog",teleported:"",transition:`${e(y).namespace.value}-zoom-in-top`,"popper-class":[`${e(y).namespace.value}-picker__popper`,a.popperClass],"popper-options":e(b),"fallback-placements":["bottom","top","right","left"],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:oe,onShow:j,onHide:me}),{default:q(()=>[e(Se)?(T(),W("div",{key:1,ref_key:"inputRef",ref:d,class:k(e(m)),style:Ft(a.$attrs.style),onClick:f,onMouseenter:Pe,onMouseleave:Te,onTouchstart:Oe,onKeydown:et},[e(le)?(T(),ve(e(he),{key:0,class:k([e(_).e("icon"),e(w).e("icon")]),onMousedown:Ae(ye,["prevent"]),onTouchstart:Oe},{default:q(()=>[(T(),ve(dt(e(le))))]),_:1},8,["class","onMousedown"])):de("v-if",!0),K("input",{id:a.id&&a.id[0],autocomplete:"off",name:a.name&&a.name[0],placeholder:a.startPlaceholder,value:e(B)&&e(B)[0],disabled:e(s),readonly:!a.editable||a.readonly,class:k(e(w).b("input")),onMousedown:ye,onInput:je,onChange:tt,onFocus:f,onBlur:F},null,42,sn),ft(a.$slots,"range-separator",{},()=>[K("span",{class:k(e(w).b("separator"))},fe(a.rangeSeparator),3)]),K("input",{id:a.id&&a.id[1],autocomplete:"off",name:a.name&&a.name[1],placeholder:a.endPlaceholder,value:e(B)&&e(B)[1],disabled:e(s),readonly:!a.editable||a.readonly,class:k(e(w).b("input")),onMousedown:ye,onFocus:f,onBlur:F,onInput:it,onChange:Ge},null,42,on),a.clearIcon?(T(),ve(e(he),{key:1,class:k(e(O)),onClick:se},{default:q(()=>[(T(),ve(dt(a.clearIcon)))]),_:1},8,["class"])):de("v-if",!0)],38)):(T(),ve(e(qe),{key:0,id:a.id,ref_key:"inputRef",ref:d,"container-role":"combobox","model-value":e(B),name:a.name,size:e(We),disabled:e(s),placeholder:a.placeholder,class:k([e(y).b("editor"),e(y).bm("editor",a.type),a.$attrs.class]),style:Ft(a.$attrs.style),readonly:!a.editable||a.readonly||e(ce)||a.type==="week",label:a.label,tabindex:a.tabindex,"validate-event":!1,onInput:He,onFocus:f,onBlur:F,onKeydown:et,onChange:Qe,onMousedown:ye,onMouseenter:Pe,onMouseleave:Te,onTouchstart:Oe,onClick:$[0]||($[0]=Ae(()=>{},["stop"]))},{prefix:q(()=>[e(le)?(T(),ve(e(he),{key:0,class:k(e(_).e("icon")),onMousedown:Ae(ye,["prevent"]),onTouchstart:Oe},{default:q(()=>[(T(),ve(dt(e(le))))]),_:1},8,["class","onMousedown"])):de("v-if",!0)]),suffix:q(()=>[ue.value&&a.clearIcon?(T(),ve(e(he),{key:0,class:k(`${e(_).e("icon")} clear-icon`),onClick:Ae(se,["stop"])},{default:q(()=>[(T(),ve(dt(a.clearIcon)))]),_:1},8,["class","onClick"])):de("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","label","tabindex","onKeydown"]))]),content:q(()=>[ft(a.$slots,"default",{visible:p.value,actualVisible:l.value,parsedValue:e(P),format:a.format,unlinkPanels:a.unlinkPanels,type:a.type,defaultValue:a.defaultValue,onPick:ee,onSelectRange:U,onSetPickerOption:E,onCalendarChange:D,onPanelChange:R,onKeydown:ae,onMousedown:$[1]||($[1]=Ae(()=>{},["stop"]))})]),_:3},16,["visible","transition","popper-class","popper-options"]))}});var cn=Be(un,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/common/picker.vue"]]);const dn=_e({...ln,datetimeRole:String,parsedValue:{type:re(Object)}}),fn=({getAvailableHours:r,getAvailableMinutes:u,getAvailableSeconds:n})=>{const t=(y,_,w,C)=>{const x={hour:r,minute:u,second:n};let b=y;return["hour","minute","second"].forEach(g=>{if(x[g]){let d;const p=x[g];switch(g){case"minute":{d=p(b.hour(),_,C);break}case"second":{d=p(b.hour(),b.minute(),_,C);break}default:{d=p(_,C);break}}if(d!=null&&d.length&&!d.includes(b[g]())){const l=w?0:d.length-1;b=b[g](d[l])}}}),b},c={};return{timePickerOptions:c,getAvailableTime:t,onSetOption:([y,_])=>{c[y]=_}}},St=r=>{const u=(t,c)=>t||c,n=t=>t!==!0;return r.map(u).filter(n)},ca=(r,u,n)=>({getHoursList:(y,_)=>_t(24,r&&(()=>r==null?void 0:r(y,_))),getMinutesList:(y,_,w)=>_t(60,u&&(()=>u==null?void 0:u(y,_,w))),getSecondsList:(y,_,w,C)=>_t(60,n&&(()=>n==null?void 0:n(y,_,w,C)))}),pn=(r,u,n)=>{const{getHoursList:t,getMinutesList:c,getSecondsList:v}=ca(r,u,n);return{getAvailableHours:(C,x)=>St(t(C,x)),getAvailableMinutes:(C,x,b)=>St(c(C,x,b)),getAvailableSeconds:(C,x,b,g)=>St(v(C,x,b,g))}},mn=r=>{const u=J(r.parsedValue);return xe(()=>r.visible,n=>{n||(u.value=r.parsedValue)}),u},vn=100,hn=600,Ht={beforeMount(r,u){const n=u.value,{interval:t=vn,delay:c=hn}=pt(n)?{}:n;let v,y;const _=()=>pt(n)?n():n.handler(),w=()=>{y&&(clearTimeout(y),y=void 0),v&&(clearInterval(v),v=void 0)};r.addEventListener("mousedown",C=>{C.button===0&&(w(),_(),document.addEventListener("mouseup",()=>w(),{once:!0}),y=setTimeout(()=>{v=setInterval(()=>{_()},t)},c))})}},bn=_e({role:{type:String,required:!0},spinnerDate:{type:re(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:re(String),default:""},...ua}),yn=["onClick"],gn=["onMouseenter"],kn=Ce({__name:"basic-time-spinner",props:bn,emits:["change","select-range","set-option"],setup(r,{emit:u}){const n=r,t=$e("time"),{getHoursList:c,getMinutesList:v,getSecondsList:y}=ca(n.disabledHours,n.disabledMinutes,n.disabledSeconds);let _=!1;const w=J(),C=J(),x=J(),b=J(),g={hours:C,minutes:x,seconds:b},d=I(()=>n.showSeconds?Bt:Bt.slice(0,2)),p=I(()=>{const{spinnerDate:f}=n,M=f.hour(),F=f.minute(),s=f.second();return{hours:M,minutes:F,seconds:s}}),l=I(()=>{const{hours:f,minutes:M}=e(p);return{hours:c(n.role),minutes:v(f,n.role),seconds:y(f,M,n.role)}}),o=I(()=>{const{hours:f,minutes:M,seconds:F}=e(p);return{hours:Dt(f,23),minutes:Dt(M,59),seconds:Dt(F,59)}}),S=Ja(f=>{_=!1,O(f)},200),h=f=>{if(!!!n.amPmMode)return"";const F=n.amPmMode==="A";let s=f<12?" am":" pm";return F&&(s=s.toUpperCase()),s},m=f=>{let M;switch(f){case"hours":M=[0,2];break;case"minutes":M=[3,5];break;case"seconds":M=[6,8];break}const[F,s]=M;u("select-range",F,s),w.value=f},O=f=>{z(f,e(p)[f])},L=()=>{O("hours"),O("minutes"),O("seconds")},N=f=>f.querySelector(`.${t.namespace.value}-scrollbar__wrap`),z=(f,M)=>{if(n.arrowControl)return;const F=e(g[f]);F&&F.$el&&(N(F.$el).scrollTop=Math.max(0,M*Y(f)))},Y=f=>{const M=e(g[f]),F=M==null?void 0:M.$el.querySelector("li");return F&&Number.parseFloat(Va(F,"height"))||0},U=()=>{ee(1)},Z=()=>{ee(-1)},ee=f=>{w.value||m("hours");const M=w.value,F=e(p)[M],s=w.value==="hours"?24:60,P=oe(M,F,f,s);j(M,P),z(M,P),Ie(()=>m(M))},oe=(f,M,F,s)=>{let P=(M+F+s)%s;const B=e(l)[f];for(;B[P]&&P!==M;)P=(P+F+s)%s;return P},j=(f,M)=>{if(e(l)[f][M])return;const{hours:P,minutes:B,seconds:X}=e(p);let te;switch(f){case"hours":te=n.spinnerDate.hour(M).minute(B).second(X);break;case"minutes":te=n.spinnerDate.hour(P).minute(M).second(X);break;case"seconds":te=n.spinnerDate.hour(P).minute(B).second(M);break}u("change",te)},ae=(f,{value:M,disabled:F})=>{F||(j(f,M),m(f),z(f,M))},me=f=>{_=!0,S(f);const M=Math.min(Math.round((N(e(g[f]).$el).scrollTop-(ge(f)*.5-10)/Y(f)+3)/Y(f)),f==="hours"?23:59);j(f,M)},ge=f=>e(g[f]).$el.offsetHeight,G=()=>{const f=M=>{const F=e(g[M]);F&&F.$el&&(N(F.$el).onscroll=()=>{me(M)})};f("hours"),f("minutes"),f("seconds")};Oa(()=>{Ie(()=>{!n.arrowControl&&G(),L(),n.role==="start"&&m("hours")})});const A=(f,M)=>{g[M].value=f};return u("set-option",[`${n.role}_scrollDown`,ee]),u("set-option",[`${n.role}_emitSelectRange`,m]),xe(()=>n.spinnerDate,()=>{_||L()}),(f,M)=>(T(),W("div",{class:k([e(t).b("spinner"),{"has-seconds":f.showSeconds}])},[f.arrowControl?de("v-if",!0):(T(!0),W(be,{key:0},De(e(d),F=>(T(),ve(e(xa),{key:F,ref_for:!0,ref:s=>A(s,F),class:k(e(t).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":e(t).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:s=>m(F),onMousemove:s=>O(F)},{default:q(()=>[(T(!0),W(be,null,De(e(l)[F],(s,P)=>(T(),W("li",{key:P,class:k([e(t).be("spinner","item"),e(t).is("active",P===e(p)[F]),e(t).is("disabled",s)]),onClick:B=>ae(F,{value:P,disabled:s})},[F==="hours"?(T(),W(be,{key:0},[Ne(fe(("0"+(f.amPmMode?P%12||12:P)).slice(-2))+fe(h(P)),1)],64)):(T(),W(be,{key:1},[Ne(fe(("0"+P).slice(-2)),1)],64))],10,yn))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),f.arrowControl?(T(!0),W(be,{key:1},De(e(d),F=>(T(),W("div",{key:F,class:k([e(t).be("spinner","wrapper"),e(t).is("arrow")]),onMouseenter:s=>m(F)},[Ee((T(),ve(e(he),{class:k(["arrow-up",e(t).be("spinner","arrow")])},{default:q(()=>[V(e(Ia))]),_:1},8,["class"])),[[e(Ht),Z]]),Ee((T(),ve(e(he),{class:k(["arrow-down",e(t).be("spinner","arrow")])},{default:q(()=>[V(e(Ya))]),_:1},8,["class"])),[[e(Ht),U]]),K("ul",{class:k(e(t).be("spinner","list"))},[(T(!0),W(be,null,De(e(o)[F],(s,P)=>(T(),W("li",{key:P,class:k([e(t).be("spinner","item"),e(t).is("active",s===e(p)[F]),e(t).is("disabled",e(l)[F][s])])},[typeof s=="number"?(T(),W(be,{key:0},[F==="hours"?(T(),W(be,{key:0},[Ne(fe(("0"+(f.amPmMode?s%12||12:s)).slice(-2))+fe(h(s)),1)],64)):(T(),W(be,{key:1},[Ne(fe(("0"+s).slice(-2)),1)],64))],64)):de("v-if",!0)],2))),128))],2)],42,gn))),128)):de("v-if",!0)],2))}});var wn=Be(kn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/basic-time-spinner.vue"]]);const Dn=Ce({__name:"panel-time-pick",props:dn,emits:["pick","select-range","set-picker-option"],setup(r,{emit:u}){const n=r,t=Ze("EP_PICKER_BASE"),{arrowControl:c,disabledHours:v,disabledMinutes:y,disabledSeconds:_,defaultValue:w}=t.props,{getAvailableHours:C,getAvailableMinutes:x,getAvailableSeconds:b}=pn(v,y,_),g=$e("time"),{t:d,lang:p}=Fe(),l=J([0,2]),o=mn(n),S=I(()=>Ea(n.actualVisible)?`${g.namespace.value}-zoom-in-top`:""),h=I(()=>n.format.includes("ss")),m=I(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),O=A=>{const f=H(A).locale(p.value),M=ae(f);return f.isSame(M)},L=()=>{u("pick",o.value,!1)},N=(A=!1,f=!1)=>{f||u("pick",n.parsedValue,A)},z=A=>{if(!n.visible)return;const f=ae(A).millisecond(0);u("pick",f,!0)},Y=(A,f)=>{u("select-range",A,f),l.value=[A,f]},U=A=>{const f=[0,3].concat(h.value?[6]:[]),M=["hours","minutes"].concat(h.value?["seconds"]:[]),s=(f.indexOf(l.value[0])+A+f.length)%f.length;ee.start_emitSelectRange(M[s])},Z=A=>{const f=A.code,{left:M,right:F,up:s,down:P}=ke;if([M,F].includes(f)){U(f===M?-1:1),A.preventDefault();return}if([s,P].includes(f)){const B=f===s?-1:1;ee.start_scrollDown(B),A.preventDefault();return}},{timePickerOptions:ee,onSetOption:oe,getAvailableTime:j}=fn({getAvailableHours:C,getAvailableMinutes:x,getAvailableSeconds:b}),ae=A=>j(A,n.datetimeRole||"",!0),me=A=>A?H(A,n.format).locale(p.value):null,ge=A=>A?A.format(n.format):null,G=()=>H(w).locale(p.value);return u("set-picker-option",["isValidValue",O]),u("set-picker-option",["formatToString",ge]),u("set-picker-option",["parseUserInput",me]),u("set-picker-option",["handleKeydownInput",Z]),u("set-picker-option",["getRangeAvailableTime",ae]),u("set-picker-option",["getDefaultValue",G]),(A,f)=>(T(),ve(Ra,{name:e(S)},{default:q(()=>[A.actualVisible||A.visible?(T(),W("div",{key:0,class:k(e(g).b("panel"))},[K("div",{class:k([e(g).be("panel","content"),{"has-seconds":e(h)}])},[V(wn,{ref:"spinner",role:A.datetimeRole||"start","arrow-control":e(c),"show-seconds":e(h),"am-pm-mode":e(m),"spinner-date":A.parsedValue,"disabled-hours":e(v),"disabled-minutes":e(y),"disabled-seconds":e(_),onChange:z,onSetOption:e(oe),onSelectRange:Y},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),K("div",{class:k(e(g).be("panel","footer"))},[K("button",{type:"button",class:k([e(g).be("panel","btn"),"cancel"]),onClick:L},fe(e(d)("el.datepicker.cancel")),3),K("button",{type:"button",class:k([e(g).be("panel","btn"),"confirm"]),onClick:f[0]||(f[0]=M=>N())},fe(e(d)("el.datepicker.confirm")),3)],2)],2)):de("v-if",!0)]),_:1},8,["name"]))}});var Vt=Be(Dn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-pick.vue"]]),da={exports:{}};(function(r,u){(function(n,t){r.exports=t()})(Je,function(){return function(n,t,c){var v=t.prototype,y=function(b){return b&&(b.indexOf?b:b.s)},_=function(b,g,d,p,l){var o=b.name?b:b.$locale(),S=y(o[g]),h=y(o[d]),m=S||h.map(function(L){return L.slice(0,p)});if(!l)return m;var O=o.weekStart;return m.map(function(L,N){return m[(N+(O||0))%7]})},w=function(){return c.Ls[c.locale()]},C=function(b,g){return b.formats[g]||function(d){return d.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(p,l,o){return l||o.slice(1)})}(b.formats[g.toUpperCase()])},x=function(){var b=this;return{months:function(g){return g?g.format("MMMM"):_(b,"months")},monthsShort:function(g){return g?g.format("MMM"):_(b,"monthsShort","months",3)},firstDayOfWeek:function(){return b.$locale().weekStart||0},weekdays:function(g){return g?g.format("dddd"):_(b,"weekdays")},weekdaysMin:function(g){return g?g.format("dd"):_(b,"weekdaysMin","weekdays",2)},weekdaysShort:function(g){return g?g.format("ddd"):_(b,"weekdaysShort","weekdays",3)},longDateFormat:function(g){return C(b.$locale(),g)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};v.localeData=function(){return x.bind(this)()},c.localeData=function(){var b=w();return{firstDayOfWeek:function(){return b.weekStart||0},weekdays:function(){return c.weekdays()},weekdaysShort:function(){return c.weekdaysShort()},weekdaysMin:function(){return c.weekdaysMin()},months:function(){return c.months()},monthsShort:function(){return c.monthsShort()},longDateFormat:function(g){return C(b,g)},meridiem:b.meridiem,ordinal:b.ordinal}},c.months=function(){return _(w(),"months")},c.monthsShort=function(){return _(w(),"monthsShort","months",3)},c.weekdays=function(b){return _(w(),"weekdays",null,null,b)},c.weekdaysShort=function(b){return _(w(),"weekdaysShort","weekdays",3,b)},c.weekdaysMin=function(b){return _(w(),"weekdaysMin","weekdays",2,b)}}})})(da);var _n=da.exports;const Sn=Xe(_n);var fa={exports:{}};(function(r,u){(function(n,t){r.exports=t()})(Je,function(){return function(n,t){var c=t.prototype,v=c.format;c.format=function(y){var _=this,w=this.$locale();if(!this.isValid())return v.bind(this)(y);var C=this.$utils(),x=(y||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(b){switch(b){case"Q":return Math.ceil((_.$M+1)/3);case"Do":return w.ordinal(_.$D);case"gggg":return _.weekYear();case"GGGG":return _.isoWeekYear();case"wo":return w.ordinal(_.week(),"W");case"w":case"ww":return C.s(_.week(),b==="w"?1:2,"0");case"W":case"WW":return C.s(_.isoWeek(),b==="W"?1:2,"0");case"k":case"kk":return C.s(String(_.$H===0?24:_.$H),b==="k"?1:2,"0");case"X":return Math.floor(_.$d.getTime()/1e3);case"x":return _.$d.getTime();case"z":return"["+_.offsetName()+"]";case"zzz":return"["+_.offsetName("long")+"]";default:return b}});return v.bind(this)(x)}}})})(fa);var Cn=fa.exports;const Mn=Xe(Cn);var pa={exports:{}};(function(r,u){(function(n,t){r.exports=t()})(Je,function(){var n="week",t="year";return function(c,v,y){var _=v.prototype;_.week=function(w){if(w===void 0&&(w=null),w!==null)return this.add(7*(w-this.week()),"day");var C=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var x=y(this).startOf(t).add(1,t).date(C),b=y(this).endOf(n);if(x.isBefore(b))return 1}var g=y(this).startOf(t).date(C).startOf(n).subtract(1,"millisecond"),d=this.diff(g,n,!0);return d<0?y(this).startOf("week").week():Math.ceil(d)},_.weeks=function(w){return w===void 0&&(w=null),this.week(w)}}})})(pa);var Pn=pa.exports;const Tn=Xe(Pn);var ma={exports:{}};(function(r,u){(function(n,t){r.exports=t()})(Je,function(){return function(n,t){t.prototype.weekYear=function(){var c=this.month(),v=this.week(),y=this.year();return v===1&&c===11?y+1:c===0&&v>=52?y-1:y}}})})(ma);var $n=ma.exports;const Vn=Xe($n);var va={exports:{}};(function(r,u){(function(n,t){r.exports=t()})(Je,function(){return function(n,t,c){t.prototype.dayOfYear=function(v){var y=Math.round((c(this).startOf("day")-c(this).startOf("year"))/864e5)+1;return v==null?y:this.add(v-y,"day")}}})})(va);var On=va.exports;const xn=Xe(On);var ha={exports:{}};(function(r,u){(function(n,t){r.exports=t()})(Je,function(){return function(n,t){t.prototype.isSameOrAfter=function(c,v){return this.isSame(c,v)||this.isAfter(c,v)}}})})(ha);var In=ha.exports;const Yn=Xe(In);var ba={exports:{}};(function(r,u){(function(n,t){r.exports=t()})(Je,function(){return function(n,t){t.prototype.isSameOrBefore=function(c,v){return this.isSame(c,v)||this.isBefore(c,v)}}})})(ba);var En=ba.exports;const Rn=Xe(En),Et=Symbol(),An=_e({...ia,type:{type:re(String),default:"date"}}),Nn=["date","dates","year","month","week","range"],Rt=_e({disabledDate:{type:re(Function)},date:{type:re(Object),required:!0},minDate:{type:re(Object)},maxDate:{type:re(Object)},parsedValue:{type:re([Object,Array])},rangeState:{type:re(Object),default:()=>({endDate:null,selecting:!1})}}),ya=_e({type:{type:re(String),required:!0,values:tn}}),ga=_e({unlinkPanels:Boolean,parsedValue:{type:re(Array)}}),ka=r=>({type:String,values:Nn,default:r}),Fn=_e({...ya,parsedValue:{type:re([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),Bn=_e({...Rt,cellClassName:{type:re(Function)},showWeekNumber:Boolean,selectionMode:ka("date")}),Ot=r=>{if(!we(r))return!1;const[u,n]=r;return H.isDayjs(u)&&H.isDayjs(n)&&u.isSameOrBefore(n)},wa=(r,{lang:u,unit:n,unlinkPanels:t})=>{let c;if(we(r)){let[v,y]=r.map(_=>H(_).locale(u));return t||(y=v.add(1,n)),[v,y]}else r?c=H(r):c=H();return c=c.locale(u),[c,c.add(1,n)]},Ln=(r,u,{columnIndexOffset:n,startDate:t,nextEndDate:c,now:v,unit:y,relativeDateGetter:_,setCellMetadata:w,setRowMetadata:C})=>{for(let x=0;x<r.row;x++){const b=u[x];for(let g=0;g<r.column;g++){let d=b[g+n];d||(d={row:x,column:g,type:"normal",inRange:!1,start:!1,end:!1});const p=x*r.column+g,l=_(p);d.dayjs=l,d.date=l.toDate(),d.timestamp=l.valueOf(),d.type="normal",d.inRange=!!(t&&l.isSameOrAfter(t,y)&&c&&l.isSameOrBefore(c,y))||!!(t&&l.isSameOrBefore(t,y)&&c&&l.isSameOrAfter(c,y)),t!=null&&t.isSameOrAfter(c)?(d.start=!!c&&l.isSame(c,y),d.end=t&&l.isSame(t,y)):(d.start=!!t&&l.isSame(t,y),d.end=!!c&&l.isSame(c,y)),l.isSame(v,y)&&(d.type="today"),w==null||w(d,{rowIndex:x,columnIndex:g}),b[g+n]=d}C==null||C(b)}},Un=_e({cell:{type:re(Object)}});var Wn=Ce({name:"ElDatePickerCell",props:Un,setup(r){const u=$e("date-table-cell"),{slots:n}=Ze(Et);return()=>{const{cell:t}=r;if(n.default){const c=n.default(t).filter(v=>v.patchFlag!==-2&&v.type.toString()!=="Symbol(Comment)");if(c.length)return c}return V("div",{class:u.b()},[V("span",{class:u.e("text")},[t==null?void 0:t.text])])}}});const zn=["aria-label","onMousedown"],Kn={key:0,scope:"col"},Hn=["aria-label"],jn=["aria-current","aria-selected","tabindex"],Gn=Ce({__name:"basic-date-table",props:Bn,emits:["changerange","pick","select"],setup(r,{expose:u,emit:n}){const t=r,c=$e("date-table"),{t:v,lang:y}=Fe(),_=J(),w=J(),C=J(),x=J(),b=J([[],[],[],[],[],[]]);let g=!1;const d=t.date.$locale().weekStart||7,p=t.date.locale("en").localeData().weekdaysShort().map(s=>s.toLowerCase()),l=I(()=>d>3?7-d:-d),o=I(()=>{const s=t.date.startOf("month");return s.subtract(s.day()||7,"day")}),S=I(()=>p.concat(p).slice(d,d+7)),h=I(()=>Aa(Y.value).some(s=>s.isCurrent)),m=I(()=>{const s=t.date.startOf("month"),P=s.day()||7,B=s.daysInMonth(),X=s.subtract(1,"month").daysInMonth();return{startOfMonthDay:P,dateCountOfMonth:B,dateCountOfLastMonth:X}}),O=I(()=>t.selectionMode==="dates"?at(t.parsedValue):[]),L=(s,{count:P,rowIndex:B,columnIndex:X})=>{const{startOfMonthDay:te,dateCountOfMonth:ce,dateCountOfLastMonth:le}=e(m),ue=e(l);if(B>=0&&B<=1){const se=te+ue<0?7+te+ue:te+ue;if(X+B*7>=se)return s.text=P,!0;s.text=le-(se-X%7)+1+B*7,s.type="prev-month"}else return P<=ce?s.text=P:(s.text=P-ce,s.type="next-month"),!0;return!1},N=(s,{columnIndex:P,rowIndex:B},X)=>{const{disabledDate:te,cellClassName:ce}=t,le=e(O),ue=L(s,{count:X,rowIndex:B,columnIndex:P}),se=s.dayjs.toDate();return s.selected=le.find(Me=>Me.valueOf()===s.dayjs.valueOf()),s.isSelected=!!s.selected,s.isCurrent=ee(s),s.disabled=te==null?void 0:te(se),s.customClass=ce==null?void 0:ce(se),ue},z=s=>{if(t.selectionMode==="week"){const[P,B]=t.showWeekNumber?[1,7]:[0,6],X=F(s[P+1]);s[P].inRange=X,s[P].start=X,s[B].inRange=X,s[B].end=X}},Y=I(()=>{const{minDate:s,maxDate:P,rangeState:B,showWeekNumber:X}=t,te=l.value,ce=b.value,le="day";let ue=1;if(X)for(let se=0;se<6;se++)ce[se][0]||(ce[se][0]={type:"week",text:o.value.add(se*7+1,le).week()});return Ln({row:6,column:7},ce,{startDate:s,columnIndexOffset:X?1:0,nextEndDate:B.endDate||P||B.selecting&&s||null,now:H().locale(e(y)).startOf(le),unit:le,relativeDateGetter:se=>o.value.add(se-te,le),setCellMetadata:(...se)=>{N(...se,ue)&&(ue+=1)},setRowMetadata:z}),ce});xe(()=>t.date,async()=>{var s,P;(s=_.value)!=null&&s.contains(document.activeElement)&&(await Ie(),(P=w.value)==null||P.focus())});const U=async()=>{var s;(s=w.value)==null||s.focus()},Z=(s="")=>["normal","today"].includes(s),ee=s=>t.selectionMode==="date"&&Z(s.type)&&oe(s,t.parsedValue),oe=(s,P)=>P?H(P).locale(y.value).isSame(t.date.date(Number(s.text)),"day"):!1,j=s=>{const P=[];return Z(s.type)&&!s.disabled?(P.push("available"),s.type==="today"&&P.push("today")):P.push(s.type),ee(s)&&P.push("current"),s.inRange&&(Z(s.type)||t.selectionMode==="week")&&(P.push("in-range"),s.start&&P.push("start-date"),s.end&&P.push("end-date")),s.disabled&&P.push("disabled"),s.selected&&P.push("selected"),s.customClass&&P.push(s.customClass),P.join(" ")},ae=(s,P)=>{const B=s*7+(P-(t.showWeekNumber?1:0))-l.value;return o.value.add(B,"day")},me=s=>{var P;if(!t.rangeState.selecting)return;let B=s.target;if(B.tagName==="SPAN"&&(B=(P=B.parentNode)==null?void 0:P.parentNode),B.tagName==="DIV"&&(B=B.parentNode),B.tagName!=="TD")return;const X=B.parentNode.rowIndex-1,te=B.cellIndex;Y.value[X][te].disabled||(X!==C.value||te!==x.value)&&(C.value=X,x.value=te,n("changerange",{selecting:!0,endDate:ae(X,te)}))},ge=s=>!h.value&&(s==null?void 0:s.text)===1&&s.type==="normal"||s.isCurrent,G=s=>{g||h.value||t.selectionMode!=="date"||M(s,!0)},A=s=>{s.target.closest("td")&&(g=!0)},f=s=>{s.target.closest("td")&&(g=!1)},M=(s,P=!1)=>{const B=s.target.closest("td");if(!B)return;const X=B.parentNode.rowIndex-1,te=B.cellIndex,ce=Y.value[X][te];if(ce.disabled||ce.type==="week")return;const le=ae(X,te);if(t.selectionMode==="range")!t.rangeState.selecting||!t.minDate?(n("pick",{minDate:le,maxDate:null}),n("select",!0)):(le>=t.minDate?n("pick",{minDate:t.minDate,maxDate:le}):n("pick",{minDate:le,maxDate:t.minDate}),n("select",!1));else if(t.selectionMode==="date")n("pick",le,P);else if(t.selectionMode==="week"){const ue=le.week(),se=`${le.year()}w${ue}`;n("pick",{year:le.year(),week:ue,value:se,date:le.startOf("week")})}else if(t.selectionMode==="dates"){const ue=ce.selected?at(t.parsedValue).filter(se=>(se==null?void 0:se.valueOf())!==le.valueOf()):at(t.parsedValue).concat([le]);n("pick",ue)}},F=s=>{if(t.selectionMode!=="week")return!1;let P=t.date.startOf("day");if(s.type==="prev-month"&&(P=P.subtract(1,"month")),s.type==="next-month"&&(P=P.add(1,"month")),P=P.date(Number.parseInt(s.text,10)),t.parsedValue&&!Array.isArray(t.parsedValue)){const B=(t.parsedValue.day()-d+7)%7-1;return t.parsedValue.subtract(B,"day").isSame(P,"day")}return!1};return u({focus:U}),(s,P)=>(T(),W("table",{role:"grid","aria-label":e(v)("el.datepicker.dateTablePrompt"),cellspacing:"0",cellpadding:"0",class:k([e(c).b(),{"is-week-mode":s.selectionMode==="week"}]),onClick:M,onMousemove:me,onMousedown:Ae(A,["prevent"]),onMouseup:f},[K("tbody",{ref_key:"tbodyRef",ref:_},[K("tr",null,[s.showWeekNumber?(T(),W("th",Kn,fe(e(v)("el.datepicker.week")),1)):de("v-if",!0),(T(!0),W(be,null,De(e(S),(B,X)=>(T(),W("th",{key:X,scope:"col","aria-label":e(v)("el.datepicker.weeksFull."+B)},fe(e(v)("el.datepicker.weeks."+B)),9,Hn))),128))]),(T(!0),W(be,null,De(e(Y),(B,X)=>(T(),W("tr",{key:X,class:k([e(c).e("row"),{current:F(B[1])}])},[(T(!0),W(be,null,De(B,(te,ce)=>(T(),W("td",{key:`${X}.${ce}`,ref_for:!0,ref:le=>ge(te)&&(w.value=le),class:k(j(te)),"aria-current":te.isCurrent?"date":void 0,"aria-selected":te.isCurrent,tabindex:ge(te)?0:-1,onFocus:G},[V(e(Wn),{cell:te},null,8,["cell"])],42,jn))),128))],2))),128))],512)],42,zn))}});var xt=Be(Gn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-date-table.vue"]]);const qn=_e({...Rt,selectionMode:ka("month")}),Zn=["aria-label"],Jn=["aria-selected","aria-label","tabindex","onKeydown"],Xn={class:"cell"},Qn=Ce({__name:"basic-month-table",props:qn,emits:["changerange","pick","select"],setup(r,{expose:u,emit:n}){const t=r,c=(O,L,N)=>{const z=H().locale(N).startOf("month").month(L).year(O),Y=z.daysInMonth();return sa(Y).map(U=>z.add(U,"day").toDate())},v=$e("month-table"),{t:y,lang:_}=Fe(),w=J(),C=J(),x=J(t.date.locale("en").localeData().monthsShort().map(O=>O.toLowerCase())),b=J([[],[],[]]),g=J(),d=J(),p=I(()=>{var O,L;const N=b.value,z=H().locale(_.value).startOf("month");for(let Y=0;Y<3;Y++){const U=N[Y];for(let Z=0;Z<4;Z++){const ee=U[Z]||(U[Z]={row:Y,column:Z,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});ee.type="normal";const oe=Y*4+Z,j=t.date.startOf("year").month(oe),ae=t.rangeState.endDate||t.maxDate||t.rangeState.selecting&&t.minDate||null;ee.inRange=!!(t.minDate&&j.isSameOrAfter(t.minDate,"month")&&ae&&j.isSameOrBefore(ae,"month"))||!!(t.minDate&&j.isSameOrBefore(t.minDate,"month")&&ae&&j.isSameOrAfter(ae,"month")),(O=t.minDate)!=null&&O.isSameOrAfter(ae)?(ee.start=!!(ae&&j.isSame(ae,"month")),ee.end=t.minDate&&j.isSame(t.minDate,"month")):(ee.start=!!(t.minDate&&j.isSame(t.minDate,"month")),ee.end=!!(ae&&j.isSame(ae,"month"))),z.isSame(j)&&(ee.type="today"),ee.text=oe,ee.disabled=((L=t.disabledDate)==null?void 0:L.call(t,j.toDate()))||!1}}return N}),l=()=>{var O;(O=C.value)==null||O.focus()},o=O=>{const L={},N=t.date.year(),z=new Date,Y=O.text;return L.disabled=t.disabledDate?c(N,Y,_.value).every(t.disabledDate):!1,L.current=at(t.parsedValue).findIndex(U=>H.isDayjs(U)&&U.year()===N&&U.month()===Y)>=0,L.today=z.getFullYear()===N&&z.getMonth()===Y,O.inRange&&(L["in-range"]=!0,O.start&&(L["start-date"]=!0),O.end&&(L["end-date"]=!0)),L},S=O=>{const L=t.date.year(),N=O.text;return at(t.date).findIndex(z=>z.year()===L&&z.month()===N)>=0},h=O=>{var L;if(!t.rangeState.selecting)return;let N=O.target;if(N.tagName==="A"&&(N=(L=N.parentNode)==null?void 0:L.parentNode),N.tagName==="DIV"&&(N=N.parentNode),N.tagName!=="TD")return;const z=N.parentNode.rowIndex,Y=N.cellIndex;p.value[z][Y].disabled||(z!==g.value||Y!==d.value)&&(g.value=z,d.value=Y,n("changerange",{selecting:!0,endDate:t.date.startOf("year").month(z*4+Y)}))},m=O=>{var L;const N=(L=O.target)==null?void 0:L.closest("td");if((N==null?void 0:N.tagName)!=="TD"||Qt(N,"disabled"))return;const z=N.cellIndex,U=N.parentNode.rowIndex*4+z,Z=t.date.startOf("year").month(U);t.selectionMode==="range"?t.rangeState.selecting?(t.minDate&&Z>=t.minDate?n("pick",{minDate:t.minDate,maxDate:Z}):n("pick",{minDate:Z,maxDate:t.minDate}),n("select",!1)):(n("pick",{minDate:Z,maxDate:null}),n("select",!0)):n("pick",U)};return xe(()=>t.date,async()=>{var O,L;(O=w.value)!=null&&O.contains(document.activeElement)&&(await Ie(),(L=C.value)==null||L.focus())}),u({focus:l}),(O,L)=>(T(),W("table",{role:"grid","aria-label":e(y)("el.datepicker.monthTablePrompt"),class:k(e(v).b()),onClick:m,onMousemove:h},[K("tbody",{ref_key:"tbodyRef",ref:w},[(T(!0),W(be,null,De(e(p),(N,z)=>(T(),W("tr",{key:z},[(T(!0),W(be,null,De(N,(Y,U)=>(T(),W("td",{key:U,ref_for:!0,ref:Z=>S(Y)&&(C.value=Z),class:k(o(Y)),"aria-selected":`${S(Y)}`,"aria-label":e(y)(`el.datepicker.month${+Y.text+1}`),tabindex:S(Y)?0:-1,onKeydown:[rt(Ae(m,["prevent","stop"]),["space"]),rt(Ae(m,["prevent","stop"]),["enter"])]},[K("div",null,[K("span",Xn,fe(e(y)("el.datepicker.months."+x.value[Y.text])),1)])],42,Jn))),128))]))),128))],512)],42,Zn))}});var It=Be(Qn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-month-table.vue"]]);const{date:el,disabledDate:tl,parsedValue:al}=Rt,nl=_e({date:el,disabledDate:tl,parsedValue:al}),ll=["aria-label"],sl=["aria-selected","tabindex","onKeydown"],ol={class:"cell"},rl={key:1},ul=Ce({__name:"basic-year-table",props:nl,emits:["pick"],setup(r,{expose:u,emit:n}){const t=r,c=(l,o)=>{const S=H(String(l)).locale(o).startOf("year"),m=S.endOf("year").dayOfYear();return sa(m).map(O=>S.add(O,"day").toDate())},v=$e("year-table"),{t:y,lang:_}=Fe(),w=J(),C=J(),x=I(()=>Math.floor(t.date.year()/10)*10),b=()=>{var l;(l=C.value)==null||l.focus()},g=l=>{const o={},S=H().locale(_.value);return o.disabled=t.disabledDate?c(l,_.value).every(t.disabledDate):!1,o.current=at(t.parsedValue).findIndex(h=>h.year()===l)>=0,o.today=S.year()===l,o},d=l=>l===x.value&&t.date.year()<x.value&&t.date.year()>x.value+9||at(t.date).findIndex(o=>o.year()===l)>=0,p=l=>{const S=l.target.closest("td");if(S&&S.textContent){if(Qt(S,"disabled"))return;const h=S.textContent||S.innerText;n("pick",Number(h))}};return xe(()=>t.date,async()=>{var l,o;(l=w.value)!=null&&l.contains(document.activeElement)&&(await Ie(),(o=C.value)==null||o.focus())}),u({focus:b}),(l,o)=>(T(),W("table",{role:"grid","aria-label":e(y)("el.datepicker.yearTablePrompt"),class:k(e(v).b()),onClick:p},[K("tbody",{ref_key:"tbodyRef",ref:w},[(T(),W(be,null,De(3,(S,h)=>K("tr",{key:h},[(T(),W(be,null,De(4,(m,O)=>(T(),W(be,{key:h+"_"+O},[h*4+O<10?(T(),W("td",{key:0,ref_for:!0,ref:L=>d(e(x)+h*4+O)&&(C.value=L),class:k(["available",g(e(x)+h*4+O)]),"aria-selected":`${d(e(x)+h*4+O)}`,tabindex:d(e(x)+h*4+O)?0:-1,onKeydown:[rt(Ae(p,["prevent","stop"]),["space"]),rt(Ae(p,["prevent","stop"]),["enter"])]},[K("span",ol,fe(e(x)+h*4+O),1)],42,sl)):(T(),W("td",rl))],64))),64))])),64))],512)],10,ll))}});var il=Be(ul,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-year-table.vue"]]);const cl=["onClick"],dl=["aria-label"],fl=["aria-label"],pl=["aria-label"],ml=["aria-label"],vl=Ce({__name:"panel-date-pick",props:Fn,emits:["pick","set-picker-option","panel-change"],setup(r,{emit:u}){const n=r,t=(i,E,D)=>!0,c=$e("picker-panel"),v=$e("date-picker"),y=Yt(),_=ea(),{t:w,lang:C}=Fe(),x=Ze("EP_PICKER_BASE"),b=Ze(Za),{shortcuts:g,disabledDate:d,cellClassName:p,defaultTime:l,arrowControl:o}=x.props,S=ut(x.props,"defaultValue"),h=J(),m=J(H().locale(C.value)),O=J(!1),L=I(()=>H(l).locale(C.value)),N=I(()=>m.value.month()),z=I(()=>m.value.year()),Y=J([]),U=J(null),Z=J(null),ee=i=>Y.value.length>0?t(i,Y.value,n.format||"HH:mm:ss"):!0,oe=i=>l&&!Te.value&&!O.value?L.value.year(i.year()).month(i.month()).date(i.date()):te.value?i.millisecond(0):i.startOf("day"),j=(i,...E)=>{if(!i)u("pick",i,...E);else if(we(i)){const D=i.map(oe);u("pick",D,...E)}else u("pick",oe(i),...E);U.value=null,Z.value=null,O.value=!1},ae=(i,E)=>{if(M.value==="date"){i=i;let D=n.parsedValue?n.parsedValue.year(i.year()).month(i.month()).date(i.date()):i;ee(D)||(D=Y.value[0][0].year(i.year()).month(i.month()).date(i.date())),m.value=D,j(D,te.value||E)}else M.value==="week"?j(i.date):M.value==="dates"&&j(i,!0)},me=i=>{const E=i?"add":"subtract";m.value=m.value[E](1,"month"),Ge("month")},ge=i=>{const E=m.value,D=i?"add":"subtract";m.value=G.value==="year"?E[D](10,"year"):E[D](1,"year"),Ge("year")},G=J("date"),A=I(()=>{const i=w("el.datepicker.year");if(G.value==="year"){const E=Math.floor(z.value/10)*10;return i?`${E} ${i} - ${E+9} ${i}`:`${E} - ${E+9}`}return`${z.value} ${i}`}),f=i=>{const E=pt(i.value)?i.value():i.value;if(E){j(H(E).locale(C.value));return}i.onClick&&i.onClick({attrs:y,slots:_,emit:u})},M=I(()=>{const{type:i}=n;return["week","month","year","dates"].includes(i)?i:"date"}),F=I(()=>M.value==="date"?G.value:M.value),s=I(()=>!!g.length),P=async i=>{m.value=m.value.startOf("month").month(i),M.value==="month"?j(m.value,!1):(G.value="date",["month","year","date","week"].includes(M.value)&&(j(m.value,!0),await Ie(),je())),Ge("month")},B=async i=>{M.value==="year"?(m.value=m.value.startOf("year").year(i),j(m.value,!1)):(m.value=m.value.year(i),G.value="month",["month","year","date","week"].includes(M.value)&&(j(m.value,!0),await Ie(),je())),Ge("year")},X=async i=>{G.value=i,await Ie(),je()},te=I(()=>n.type==="datetime"||n.type==="datetimerange"),ce=I(()=>te.value||M.value==="dates"),le=I(()=>d?n.parsedValue?we(n.parsedValue)?d(n.parsedValue[0].toDate()):d(n.parsedValue.toDate()):!0:!1),ue=()=>{if(M.value==="dates")j(n.parsedValue);else{let i=n.parsedValue;if(!i){const E=H(l).locale(C.value),D=He();i=E.year(D.year()).month(D.month()).date(D.date())}m.value=i,j(i)}},se=I(()=>d?d(H().locale(C.value).toDate()):!1),Me=()=>{const E=H().locale(C.value).toDate();O.value=!0,(!d||!d(E))&&ee(E)&&(m.value=H().locale(C.value),j(m.value))},ye=I(()=>ra(n.format)),Pe=I(()=>oa(n.format)),Te=I(()=>{if(Z.value)return Z.value;if(!(!n.parsedValue&&!S.value))return(n.parsedValue||m.value).format(ye.value)}),Oe=I(()=>{if(U.value)return U.value;if(!(!n.parsedValue&&!S.value))return(n.parsedValue||m.value).format(Pe.value)}),Se=J(!1),We=()=>{Se.value=!0},nt=()=>{Se.value=!1},Ve=i=>({hour:i.hour(),minute:i.minute(),second:i.second(),year:i.year(),month:i.month(),date:i.date()}),ne=(i,E,D)=>{const{hour:R,minute:a,second:$}=Ve(i),Q=n.parsedValue?n.parsedValue.hour(R).minute(a).second($):i;m.value=Q,j(m.value,!0),D||(Se.value=E)},Qe=i=>{const E=H(i,ye.value).locale(C.value);if(E.isValid()&&ee(E)){const{year:D,month:R,date:a}=Ve(m.value);m.value=E.year(D).month(R).date(a),Z.value=null,Se.value=!1,j(m.value,!0)}},ze=i=>{const E=H(i,Pe.value).locale(C.value);if(E.isValid()){if(d&&d(E.toDate()))return;const{hour:D,minute:R,second:a}=Ve(m.value);m.value=E.hour(D).minute(R).second(a),U.value=null,j(m.value,!0)}},Ke=i=>H.isDayjs(i)&&i.isValid()&&(d?!d(i.toDate()):!0),Le=i=>M.value==="dates"?i.map(E=>E.format(n.format)):i.format(n.format),et=i=>H(i,n.format).locale(C.value),He=()=>{const i=H(S.value).locale(C.value);if(!S.value){const E=L.value;return H().hour(E.hour()).minute(E.minute()).second(E.second()).locale(C.value)}return i},je=async()=>{var i;["week","month","year","date"].includes(M.value)&&((i=h.value)==null||i.focus(),M.value==="week"&&tt(ke.down))},it=i=>{const{code:E}=i;[ke.up,ke.down,ke.left,ke.right,ke.home,ke.end,ke.pageUp,ke.pageDown].includes(E)&&(tt(E),i.stopPropagation(),i.preventDefault()),[ke.enter,ke.space,ke.numpadEnter].includes(E)&&U.value===null&&Z.value===null&&(i.preventDefault(),j(m.value,!1))},tt=i=>{var E;const{up:D,down:R,left:a,right:$,home:Q,end:pe,pageUp:Ye,pageDown:_a}=ke,Sa={year:{[D]:-4,[R]:4,[a]:-1,[$]:1,offset:(ie,Re)=>ie.setFullYear(ie.getFullYear()+Re)},month:{[D]:-4,[R]:4,[a]:-1,[$]:1,offset:(ie,Re)=>ie.setMonth(ie.getMonth()+Re)},week:{[D]:-1,[R]:1,[a]:-1,[$]:1,offset:(ie,Re)=>ie.setDate(ie.getDate()+Re*7)},date:{[D]:-7,[R]:7,[a]:-1,[$]:1,[Q]:ie=>-ie.getDay(),[pe]:ie=>-ie.getDay()+6,[Ye]:ie=>-new Date(ie.getFullYear(),ie.getMonth(),0).getDate(),[_a]:ie=>new Date(ie.getFullYear(),ie.getMonth()+1,0).getDate(),offset:(ie,Re)=>ie.setDate(ie.getDate()+Re)}},ct=m.value.toDate();for(;Math.abs(m.value.diff(ct,"year",!0))<1;){const ie=Sa[F.value];if(!ie)return;if(ie.offset(ct,pt(ie[i])?ie[i](ct):(E=ie[i])!=null?E:0),d&&d(ct))break;const Re=H(ct).locale(C.value);m.value=Re,u("pick",Re,!0);break}},Ge=i=>{u("panel-change",m.value.toDate(),i,G.value)};return xe(()=>M.value,i=>{if(["month","year"].includes(i)){G.value=i;return}G.value="date"},{immediate:!0}),xe(()=>G.value,()=>{b==null||b.updatePopper()}),xe(()=>S.value,i=>{i&&(m.value=He())},{immediate:!0}),xe(()=>n.parsedValue,i=>{if(i){if(M.value==="dates"||Array.isArray(i))return;m.value=i}else m.value=He()},{immediate:!0}),u("set-picker-option",["isValidValue",Ke]),u("set-picker-option",["formatToString",Le]),u("set-picker-option",["parseUserInput",et]),u("set-picker-option",["handleFocusPicker",je]),(i,E)=>(T(),W("div",{class:k([e(c).b(),e(v).b(),{"has-sidebar":i.$slots.sidebar||e(s),"has-time":e(te)}])},[K("div",{class:k(e(c).e("body-wrapper"))},[ft(i.$slots,"sidebar",{class:k(e(c).e("sidebar"))}),e(s)?(T(),W("div",{key:0,class:k(e(c).e("sidebar"))},[(T(!0),W(be,null,De(e(g),(D,R)=>(T(),W("button",{key:R,type:"button",class:k(e(c).e("shortcut")),onClick:a=>f(D)},fe(D.text),11,cl))),128))],2)):de("v-if",!0),K("div",{class:k(e(c).e("body"))},[e(te)?(T(),W("div",{key:0,class:k(e(v).e("time-header"))},[K("span",{class:k(e(v).e("editor-wrap"))},[V(e(qe),{placeholder:e(w)("el.datepicker.selectDate"),"model-value":e(Oe),size:"small","validate-event":!1,onInput:E[0]||(E[0]=D=>U.value=D),onChange:ze},null,8,["placeholder","model-value"])],2),Ee((T(),W("span",{class:k(e(v).e("editor-wrap"))},[V(e(qe),{placeholder:e(w)("el.datepicker.selectTime"),"model-value":e(Te),size:"small","validate-event":!1,onFocus:We,onInput:E[1]||(E[1]=D=>Z.value=D),onChange:Qe},null,8,["placeholder","model-value"]),V(e(Vt),{visible:Se.value,format:e(ye),"time-arrow-control":e(o),"parsed-value":m.value,onPick:ne},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[e(Tt),nt]])],2)):de("v-if",!0),Ee(K("div",{class:k([e(v).e("header"),(G.value==="year"||G.value==="month")&&e(v).e("header--bordered")])},[K("span",{class:k(e(v).e("prev-btn"))},[K("button",{type:"button","aria-label":e(w)("el.datepicker.prevYear"),class:k(["d-arrow-left",e(c).e("icon-btn")]),onClick:E[2]||(E[2]=D=>ge(!1))},[V(e(he),null,{default:q(()=>[V(e(mt))]),_:1})],10,dl),Ee(K("button",{type:"button","aria-label":e(w)("el.datepicker.prevMonth"),class:k([e(c).e("icon-btn"),"arrow-left"]),onClick:E[3]||(E[3]=D=>me(!1))},[V(e(he),null,{default:q(()=>[V(e(Pt))]),_:1})],10,fl),[[lt,G.value==="date"]])],2),K("span",{role:"button",class:k(e(v).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:E[4]||(E[4]=rt(D=>X("year"),["enter"])),onClick:E[5]||(E[5]=D=>X("year"))},fe(e(A)),35),Ee(K("span",{role:"button","aria-live":"polite",tabindex:"0",class:k([e(v).e("header-label"),{active:G.value==="month"}]),onKeydown:E[6]||(E[6]=rt(D=>X("month"),["enter"])),onClick:E[7]||(E[7]=D=>X("month"))},fe(e(w)(`el.datepicker.month${e(N)+1}`)),35),[[lt,G.value==="date"]]),K("span",{class:k(e(v).e("next-btn"))},[Ee(K("button",{type:"button","aria-label":e(w)("el.datepicker.nextMonth"),class:k([e(c).e("icon-btn"),"arrow-right"]),onClick:E[8]||(E[8]=D=>me(!0))},[V(e(he),null,{default:q(()=>[V(e(gt))]),_:1})],10,pl),[[lt,G.value==="date"]]),K("button",{type:"button","aria-label":e(w)("el.datepicker.nextYear"),class:k([e(c).e("icon-btn"),"d-arrow-right"]),onClick:E[9]||(E[9]=D=>ge(!0))},[V(e(he),null,{default:q(()=>[V(e(vt))]),_:1})],10,ml)],2)],2),[[lt,G.value!=="time"]]),K("div",{class:k(e(c).e("content")),onKeydown:it},[G.value==="date"?(T(),ve(xt,{key:0,ref_key:"currentViewRef",ref:h,"selection-mode":e(M),date:m.value,"parsed-value":i.parsedValue,"disabled-date":e(d),"cell-class-name":e(p),onPick:ae},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):de("v-if",!0),G.value==="year"?(T(),ve(il,{key:1,ref_key:"currentViewRef",ref:h,date:m.value,"disabled-date":e(d),"parsed-value":i.parsedValue,onPick:B},null,8,["date","disabled-date","parsed-value"])):de("v-if",!0),G.value==="month"?(T(),ve(It,{key:2,ref_key:"currentViewRef",ref:h,date:m.value,"parsed-value":i.parsedValue,"disabled-date":e(d),onPick:P},null,8,["date","parsed-value","disabled-date"])):de("v-if",!0)],34)],2)],2),Ee(K("div",{class:k(e(c).e("footer"))},[Ee(V(e(ht),{text:"",size:"small",class:k(e(c).e("link-btn")),disabled:e(se),onClick:Me},{default:q(()=>[Ne(fe(e(w)("el.datepicker.now")),1)]),_:1},8,["class","disabled"]),[[lt,e(M)!=="dates"]]),V(e(ht),{plain:"",size:"small",class:k(e(c).e("link-btn")),disabled:e(le),onClick:ue},{default:q(()=>[Ne(fe(e(w)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2),[[lt,e(ce)&&G.value==="date"]])],2))}});var hl=Be(vl,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-pick.vue"]]);const bl=_e({...ya,...ga}),yl=r=>{const{emit:u}=ta(),n=Yt(),t=ea();return v=>{const y=pt(v.value)?v.value():v.value;if(y){u("pick",[H(y[0]).locale(r.value),H(y[1]).locale(r.value)]);return}v.onClick&&v.onClick({attrs:n,slots:t,emit:u})}},Da=(r,{defaultValue:u,leftDate:n,rightDate:t,unit:c,onParsedValueChanged:v})=>{const{emit:y}=ta(),{pickerNs:_}=Ze(Et),w=$e("date-range-picker"),{t:C,lang:x}=Fe(),b=yl(x),g=J(),d=J(),p=J({endDate:null,selecting:!1}),l=m=>{p.value=m},o=(m=!1)=>{const O=e(g),L=e(d);Ot([O,L])&&y("pick",[O,L],m)},S=m=>{p.value.selecting=m,m||(p.value.endDate=null)},h=()=>{const[m,O]=wa(e(u),{lang:e(x),unit:c,unlinkPanels:r.unlinkPanels});g.value=void 0,d.value=void 0,n.value=m,t.value=O};return xe(u,m=>{m&&h()},{immediate:!0}),xe(()=>r.parsedValue,m=>{if(we(m)&&m.length===2){const[O,L]=m;g.value=O,n.value=O,d.value=L,v(e(g),e(d))}else h()},{immediate:!0}),{minDate:g,maxDate:d,rangeState:p,lang:x,ppNs:_,drpNs:w,handleChangeRange:l,handleRangeConfirm:o,handleShortcutClick:b,onSelect:S,t:C}},gl=["onClick"],kl=["disabled"],wl=["disabled"],Dl=["disabled"],_l=["disabled"],bt="month",Sl=Ce({__name:"panel-date-range",props:bl,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(r,{emit:u}){const n=r,t=Ze("EP_PICKER_BASE"),{disabledDate:c,cellClassName:v,format:y,defaultTime:_,arrowControl:w,clearable:C}=t.props,x=ut(t.props,"shortcuts"),b=ut(t.props,"defaultValue"),{lang:g}=Fe(),d=J(H().locale(g.value)),p=J(H().locale(g.value).add(1,bt)),{minDate:l,maxDate:o,rangeState:S,ppNs:h,drpNs:m,handleChangeRange:O,handleRangeConfirm:L,handleShortcutClick:N,onSelect:z,t:Y}=Da(n,{defaultValue:b,leftDate:d,rightDate:p,unit:bt,onParsedValueChanged:E}),U=J({min:null,max:null}),Z=J({min:null,max:null}),ee=I(()=>`${d.value.year()} ${Y("el.datepicker.year")} ${Y(`el.datepicker.month${d.value.month()+1}`)}`),oe=I(()=>`${p.value.year()} ${Y("el.datepicker.year")} ${Y(`el.datepicker.month${p.value.month()+1}`)}`),j=I(()=>d.value.year()),ae=I(()=>d.value.month()),me=I(()=>p.value.year()),ge=I(()=>p.value.month()),G=I(()=>!!x.value.length),A=I(()=>U.value.min!==null?U.value.min:l.value?l.value.format(P.value):""),f=I(()=>U.value.max!==null?U.value.max:o.value||l.value?(o.value||l.value).format(P.value):""),M=I(()=>Z.value.min!==null?Z.value.min:l.value?l.value.format(s.value):""),F=I(()=>Z.value.max!==null?Z.value.max:o.value||l.value?(o.value||l.value).format(s.value):""),s=I(()=>ra(y)),P=I(()=>oa(y)),B=()=>{d.value=d.value.subtract(1,"year"),n.unlinkPanels||(p.value=d.value.add(1,"month")),ye("year")},X=()=>{d.value=d.value.subtract(1,"month"),n.unlinkPanels||(p.value=d.value.add(1,"month")),ye("month")},te=()=>{n.unlinkPanels?p.value=p.value.add(1,"year"):(d.value=d.value.add(1,"year"),p.value=d.value.add(1,"month")),ye("year")},ce=()=>{n.unlinkPanels?p.value=p.value.add(1,"month"):(d.value=d.value.add(1,"month"),p.value=d.value.add(1,"month")),ye("month")},le=()=>{d.value=d.value.add(1,"year"),ye("year")},ue=()=>{d.value=d.value.add(1,"month"),ye("month")},se=()=>{p.value=p.value.subtract(1,"year"),ye("year")},Me=()=>{p.value=p.value.subtract(1,"month"),ye("month")},ye=D=>{u("panel-change",[d.value.toDate(),p.value.toDate()],D)},Pe=I(()=>{const D=(ae.value+1)%12,R=ae.value+1>=12?1:0;return n.unlinkPanels&&new Date(j.value+R,D)<new Date(me.value,ge.value)}),Te=I(()=>n.unlinkPanels&&me.value*12+ge.value-(j.value*12+ae.value+1)>=12),Oe=I(()=>!(l.value&&o.value&&!S.value.selecting&&Ot([l.value,o.value]))),Se=I(()=>n.type==="datetime"||n.type==="datetimerange"),We=(D,R)=>{if(D)return _?H(_[R]||_).locale(g.value).year(D.year()).month(D.month()).date(D.date()):D},nt=(D,R=!0)=>{const a=D.minDate,$=D.maxDate,Q=We(a,0),pe=We($,1);o.value===pe&&l.value===Q||(u("calendar-change",[a.toDate(),$&&$.toDate()]),o.value=pe,l.value=Q,!(!R||Se.value)&&L())},Ve=J(!1),ne=J(!1),Qe=()=>{Ve.value=!1},ze=()=>{ne.value=!1},Ke=(D,R)=>{U.value[R]=D;const a=H(D,P.value).locale(g.value);if(a.isValid()){if(c&&c(a.toDate()))return;R==="min"?(d.value=a,l.value=(l.value||d.value).year(a.year()).month(a.month()).date(a.date()),!n.unlinkPanels&&(!o.value||o.value.isBefore(l.value))&&(p.value=a.add(1,"month"),o.value=l.value.add(1,"month"))):(p.value=a,o.value=(o.value||p.value).year(a.year()).month(a.month()).date(a.date()),!n.unlinkPanels&&(!l.value||l.value.isAfter(o.value))&&(d.value=a.subtract(1,"month"),l.value=o.value.subtract(1,"month")))}},Le=(D,R)=>{U.value[R]=null},et=(D,R)=>{Z.value[R]=D;const a=H(D,s.value).locale(g.value);a.isValid()&&(R==="min"?(Ve.value=!0,l.value=(l.value||d.value).hour(a.hour()).minute(a.minute()).second(a.second()),(!o.value||o.value.isBefore(l.value))&&(o.value=l.value)):(ne.value=!0,o.value=(o.value||p.value).hour(a.hour()).minute(a.minute()).second(a.second()),p.value=o.value,o.value&&o.value.isBefore(l.value)&&(l.value=o.value)))},He=(D,R)=>{Z.value[R]=null,R==="min"?(d.value=l.value,Ve.value=!1):(p.value=o.value,ne.value=!1)},je=(D,R,a)=>{Z.value.min||(D&&(d.value=D,l.value=(l.value||d.value).hour(D.hour()).minute(D.minute()).second(D.second())),a||(Ve.value=R),(!o.value||o.value.isBefore(l.value))&&(o.value=l.value,p.value=D))},it=(D,R,a)=>{Z.value.max||(D&&(p.value=D,o.value=(o.value||p.value).hour(D.hour()).minute(D.minute()).second(D.second())),a||(ne.value=R),o.value&&o.value.isBefore(l.value)&&(l.value=o.value))},tt=()=>{d.value=wa(e(b),{lang:e(g),unit:"month",unlinkPanels:n.unlinkPanels})[0],p.value=d.value.add(1,"month"),u("pick",null)},Ge=D=>we(D)?D.map(R=>R.format(y)):D.format(y),i=D=>we(D)?D.map(R=>H(R,y).locale(g.value)):H(D,y).locale(g.value);function E(D,R){if(n.unlinkPanels&&R){const a=(D==null?void 0:D.year())||0,$=(D==null?void 0:D.month())||0,Q=R.year(),pe=R.month();p.value=a===Q&&$===pe?R.add(1,bt):R}else p.value=d.value.add(1,bt),R&&(p.value=p.value.hour(R.hour()).minute(R.minute()).second(R.second()))}return u("set-picker-option",["isValidValue",Ot]),u("set-picker-option",["parseUserInput",i]),u("set-picker-option",["formatToString",Ge]),u("set-picker-option",["handleClear",tt]),(D,R)=>(T(),W("div",{class:k([e(h).b(),e(m).b(),{"has-sidebar":D.$slots.sidebar||e(G),"has-time":e(Se)}])},[K("div",{class:k(e(h).e("body-wrapper"))},[ft(D.$slots,"sidebar",{class:k(e(h).e("sidebar"))}),e(G)?(T(),W("div",{key:0,class:k(e(h).e("sidebar"))},[(T(!0),W(be,null,De(e(x),(a,$)=>(T(),W("button",{key:$,type:"button",class:k(e(h).e("shortcut")),onClick:Q=>e(N)(a)},fe(a.text),11,gl))),128))],2)):de("v-if",!0),K("div",{class:k(e(h).e("body"))},[e(Se)?(T(),W("div",{key:0,class:k(e(m).e("time-header"))},[K("span",{class:k(e(m).e("editors-wrap"))},[K("span",{class:k(e(m).e("time-picker-wrap"))},[V(e(qe),{size:"small",disabled:e(S).selecting,placeholder:e(Y)("el.datepicker.startDate"),class:k(e(m).e("editor")),"model-value":e(A),"validate-event":!1,onInput:R[0]||(R[0]=a=>Ke(a,"min")),onChange:R[1]||(R[1]=a=>Le(a,"min"))},null,8,["disabled","placeholder","class","model-value"])],2),Ee((T(),W("span",{class:k(e(m).e("time-picker-wrap"))},[V(e(qe),{size:"small",class:k(e(m).e("editor")),disabled:e(S).selecting,placeholder:e(Y)("el.datepicker.startTime"),"model-value":e(M),"validate-event":!1,onFocus:R[2]||(R[2]=a=>Ve.value=!0),onInput:R[3]||(R[3]=a=>et(a,"min")),onChange:R[4]||(R[4]=a=>He(a,"min"))},null,8,["class","disabled","placeholder","model-value"]),V(e(Vt),{visible:Ve.value,format:e(s),"datetime-role":"start","time-arrow-control":e(w),"parsed-value":d.value,onPick:je},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[e(Tt),Qe]])],2),K("span",null,[V(e(he),null,{default:q(()=>[V(e(gt))]),_:1})]),K("span",{class:k([e(m).e("editors-wrap"),"is-right"])},[K("span",{class:k(e(m).e("time-picker-wrap"))},[V(e(qe),{size:"small",class:k(e(m).e("editor")),disabled:e(S).selecting,placeholder:e(Y)("el.datepicker.endDate"),"model-value":e(f),readonly:!e(l),"validate-event":!1,onInput:R[5]||(R[5]=a=>Ke(a,"max")),onChange:R[6]||(R[6]=a=>Le(a,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"])],2),Ee((T(),W("span",{class:k(e(m).e("time-picker-wrap"))},[V(e(qe),{size:"small",class:k(e(m).e("editor")),disabled:e(S).selecting,placeholder:e(Y)("el.datepicker.endTime"),"model-value":e(F),readonly:!e(l),"validate-event":!1,onFocus:R[7]||(R[7]=a=>e(l)&&(ne.value=!0)),onInput:R[8]||(R[8]=a=>et(a,"max")),onChange:R[9]||(R[9]=a=>He(a,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"]),V(e(Vt),{"datetime-role":"end",visible:ne.value,format:e(s),"time-arrow-control":e(w),"parsed-value":p.value,onPick:it},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[e(Tt),ze]])],2)],2)):de("v-if",!0),K("div",{class:k([[e(h).e("content"),e(m).e("content")],"is-left"])},[K("div",{class:k(e(m).e("header"))},[K("button",{type:"button",class:k([e(h).e("icon-btn"),"d-arrow-left"]),onClick:B},[V(e(he),null,{default:q(()=>[V(e(mt))]),_:1})],2),K("button",{type:"button",class:k([e(h).e("icon-btn"),"arrow-left"]),onClick:X},[V(e(he),null,{default:q(()=>[V(e(Pt))]),_:1})],2),D.unlinkPanels?(T(),W("button",{key:0,type:"button",disabled:!e(Te),class:k([[e(h).e("icon-btn"),{"is-disabled":!e(Te)}],"d-arrow-right"]),onClick:le},[V(e(he),null,{default:q(()=>[V(e(vt))]),_:1})],10,kl)):de("v-if",!0),D.unlinkPanels?(T(),W("button",{key:1,type:"button",disabled:!e(Pe),class:k([[e(h).e("icon-btn"),{"is-disabled":!e(Pe)}],"arrow-right"]),onClick:ue},[V(e(he),null,{default:q(()=>[V(e(gt))]),_:1})],10,wl)):de("v-if",!0),K("div",null,fe(e(ee)),1)],2),V(xt,{"selection-mode":"range",date:d.value,"min-date":e(l),"max-date":e(o),"range-state":e(S),"disabled-date":e(c),"cell-class-name":e(v),onChangerange:e(O),onPick:nt,onSelect:e(z)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),K("div",{class:k([[e(h).e("content"),e(m).e("content")],"is-right"])},[K("div",{class:k(e(m).e("header"))},[D.unlinkPanels?(T(),W("button",{key:0,type:"button",disabled:!e(Te),class:k([[e(h).e("icon-btn"),{"is-disabled":!e(Te)}],"d-arrow-left"]),onClick:se},[V(e(he),null,{default:q(()=>[V(e(mt))]),_:1})],10,Dl)):de("v-if",!0),D.unlinkPanels?(T(),W("button",{key:1,type:"button",disabled:!e(Pe),class:k([[e(h).e("icon-btn"),{"is-disabled":!e(Pe)}],"arrow-left"]),onClick:Me},[V(e(he),null,{default:q(()=>[V(e(Pt))]),_:1})],10,_l)):de("v-if",!0),K("button",{type:"button",class:k([e(h).e("icon-btn"),"d-arrow-right"]),onClick:te},[V(e(he),null,{default:q(()=>[V(e(vt))]),_:1})],2),K("button",{type:"button",class:k([e(h).e("icon-btn"),"arrow-right"]),onClick:ce},[V(e(he),null,{default:q(()=>[V(e(gt))]),_:1})],2),K("div",null,fe(e(oe)),1)],2),V(xt,{"selection-mode":"range",date:p.value,"min-date":e(l),"max-date":e(o),"range-state":e(S),"disabled-date":e(c),"cell-class-name":e(v),onChangerange:e(O),onPick:nt,onSelect:e(z)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),e(Se)?(T(),W("div",{key:0,class:k(e(h).e("footer"))},[e(C)?(T(),ve(e(ht),{key:0,text:"",size:"small",class:k(e(h).e("link-btn")),onClick:tt},{default:q(()=>[Ne(fe(e(Y)("el.datepicker.clear")),1)]),_:1},8,["class"])):de("v-if",!0),V(e(ht),{plain:"",size:"small",class:k(e(h).e("link-btn")),disabled:e(Oe),onClick:R[10]||(R[10]=a=>e(L)(!1))},{default:q(()=>[Ne(fe(e(Y)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2)):de("v-if",!0)],2))}});var Cl=Be(Sl,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-range.vue"]]);const Ml=_e({...ga}),Pl=["pick","set-picker-option"],Tl=({unlinkPanels:r,leftDate:u,rightDate:n})=>{const{t}=Fe(),c=()=>{u.value=u.value.subtract(1,"year"),r.value||(n.value=n.value.subtract(1,"year"))},v=()=>{r.value||(u.value=u.value.add(1,"year")),n.value=n.value.add(1,"year")},y=()=>{u.value=u.value.add(1,"year")},_=()=>{n.value=n.value.subtract(1,"year")},w=I(()=>`${u.value.year()} ${t("el.datepicker.year")}`),C=I(()=>`${n.value.year()} ${t("el.datepicker.year")}`),x=I(()=>u.value.year()),b=I(()=>n.value.year()===u.value.year()?u.value.year()+1:n.value.year());return{leftPrevYear:c,rightNextYear:v,leftNextYear:y,rightPrevYear:_,leftLabel:w,rightLabel:C,leftYear:x,rightYear:b}},$l=["onClick"],Vl=["disabled"],Ol=["disabled"],yt="year",xl=Ce({name:"DatePickerMonthRange"}),Il=Ce({...xl,props:Ml,emits:Pl,setup(r,{emit:u}){const n=r,{lang:t}=Fe(),c=Ze("EP_PICKER_BASE"),{shortcuts:v,disabledDate:y,format:_}=c.props,w=ut(c.props,"defaultValue"),C=J(H().locale(t.value)),x=J(H().locale(t.value).add(1,yt)),{minDate:b,maxDate:g,rangeState:d,ppNs:p,drpNs:l,handleChangeRange:o,handleRangeConfirm:S,handleShortcutClick:h,onSelect:m}=Da(n,{defaultValue:w,leftDate:C,rightDate:x,unit:yt,onParsedValueChanged:ge}),O=I(()=>!!v.length),{leftPrevYear:L,rightNextYear:N,leftNextYear:z,rightPrevYear:Y,leftLabel:U,rightLabel:Z,leftYear:ee,rightYear:oe}=Tl({unlinkPanels:ut(n,"unlinkPanels"),leftDate:C,rightDate:x}),j=I(()=>n.unlinkPanels&&oe.value>ee.value+1),ae=(G,A=!0)=>{const f=G.minDate,M=G.maxDate;g.value===M&&b.value===f||(g.value=M,b.value=f,A&&S())},me=G=>G.map(A=>A.format(_));function ge(G,A){if(n.unlinkPanels&&A){const f=(G==null?void 0:G.year())||0,M=A.year();x.value=f===M?A.add(1,yt):A}else x.value=C.value.add(1,yt)}return u("set-picker-option",["formatToString",me]),(G,A)=>(T(),W("div",{class:k([e(p).b(),e(l).b(),{"has-sidebar":!!G.$slots.sidebar||e(O)}])},[K("div",{class:k(e(p).e("body-wrapper"))},[ft(G.$slots,"sidebar",{class:k(e(p).e("sidebar"))}),e(O)?(T(),W("div",{key:0,class:k(e(p).e("sidebar"))},[(T(!0),W(be,null,De(e(v),(f,M)=>(T(),W("button",{key:M,type:"button",class:k(e(p).e("shortcut")),onClick:F=>e(h)(f)},fe(f.text),11,$l))),128))],2)):de("v-if",!0),K("div",{class:k(e(p).e("body"))},[K("div",{class:k([[e(p).e("content"),e(l).e("content")],"is-left"])},[K("div",{class:k(e(l).e("header"))},[K("button",{type:"button",class:k([e(p).e("icon-btn"),"d-arrow-left"]),onClick:A[0]||(A[0]=(...f)=>e(L)&&e(L)(...f))},[V(e(he),null,{default:q(()=>[V(e(mt))]),_:1})],2),G.unlinkPanels?(T(),W("button",{key:0,type:"button",disabled:!e(j),class:k([[e(p).e("icon-btn"),{[e(p).is("disabled")]:!e(j)}],"d-arrow-right"]),onClick:A[1]||(A[1]=(...f)=>e(z)&&e(z)(...f))},[V(e(he),null,{default:q(()=>[V(e(vt))]),_:1})],10,Vl)):de("v-if",!0),K("div",null,fe(e(U)),1)],2),V(It,{"selection-mode":"range",date:C.value,"min-date":e(b),"max-date":e(g),"range-state":e(d),"disabled-date":e(y),onChangerange:e(o),onPick:ae,onSelect:e(m)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),K("div",{class:k([[e(p).e("content"),e(l).e("content")],"is-right"])},[K("div",{class:k(e(l).e("header"))},[G.unlinkPanels?(T(),W("button",{key:0,type:"button",disabled:!e(j),class:k([[e(p).e("icon-btn"),{"is-disabled":!e(j)}],"d-arrow-left"]),onClick:A[2]||(A[2]=(...f)=>e(Y)&&e(Y)(...f))},[V(e(he),null,{default:q(()=>[V(e(mt))]),_:1})],10,Ol)):de("v-if",!0),K("button",{type:"button",class:k([e(p).e("icon-btn"),"d-arrow-right"]),onClick:A[3]||(A[3]=(...f)=>e(N)&&e(N)(...f))},[V(e(he),null,{default:q(()=>[V(e(vt))]),_:1})],2),K("div",null,fe(e(Z)),1)],2),V(It,{"selection-mode":"range",date:x.value,"min-date":e(b),"max-date":e(g),"range-state":e(d),"disabled-date":e(y),onChangerange:e(o),onPick:ae,onSelect:e(m)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var Yl=Be(Il,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-month-range.vue"]]);const El=function(r){switch(r){case"daterange":case"datetimerange":return Cl;case"monthrange":return Yl;default:return hl}};H.extend(Sn);H.extend(Mn);H.extend(la);H.extend(Tn);H.extend(Vn);H.extend(xn);H.extend(Yn);H.extend(Rn);var Rl=Ce({name:"ElDatePicker",install:null,props:An,emits:["update:modelValue"],setup(r,{expose:u,emit:n,slots:t}){const c=$e("picker-panel");Mt("ElPopperOptions",aa(ut(r,"popperOptions"))),Mt(Et,{slots:t,pickerNs:c});const v=J();u({focus:(w=!0)=>{var C;(C=v.value)==null||C.focus(w)},handleOpen:()=>{var w;(w=v.value)==null||w.handleOpen()},handleClose:()=>{var w;(w=v.value)==null||w.handleClose()}});const _=w=>{n("update:modelValue",w)};return()=>{var w;const C=(w=r.format)!=null?w:nn[r.type]||st,x=El(r.type);return V(cn,Xt(r,{format:C,type:r.type,ref:v,"onUpdate:modelValue":_}),{default:b=>V(x,b,null),"range-separator":t["range-separator"]})}}});const kt=Rl;kt.install=r=>{r.component(kt.name,kt)};const Al=kt,Nl=_e({format:{type:String,default:"HH:mm"},modelValue:String,disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:String,default:"light"},clearable:{type:Boolean,default:!0},size:Zt,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:String,maxTime:String,name:String,prefixIcon:{type:re([String,Object]),default:()=>Jt},clearIcon:{type:re([String,Object]),default:()=>qt}}),Ue=r=>{const u=(r||"").split(":");if(u.length>=2){let n=Number.parseInt(u[0],10);const t=Number.parseInt(u[1],10),c=r.toUpperCase();return c.includes("AM")&&n===12?n=0:c.includes("PM")&&n!==12&&(n+=12),{hours:n,minutes:t}}return null},Ct=(r,u)=>{const n=Ue(r);if(!n)return-1;const t=Ue(u);if(!t)return-1;const c=n.minutes+n.hours*60,v=t.minutes+t.hours*60;return c===v?0:c>v?1:-1},jt=r=>`${r}`.padStart(2,"0"),ot=r=>`${jt(r.hours)}:${jt(r.minutes)}`,Fl=(r,u)=>{const n=Ue(r);if(!n)return"";const t=Ue(u);if(!t)return"";const c={hours:n.hours,minutes:n.minutes};return c.minutes+=t.minutes,c.hours+=t.hours,c.hours+=Math.floor(c.minutes/60),c.minutes=c.minutes%60,ot(c)},Bl=Ce({name:"ElTimeSelect"}),Ll=Ce({...Bl,props:Nl,emits:["change","blur","focus","update:modelValue"],setup(r,{expose:u}){const n=r;H.extend(la);const{Option:t}=$t,c=$e("input"),v=J(),y=Na(),_=I(()=>n.modelValue),w=I(()=>{const o=Ue(n.start);return o?ot(o):null}),C=I(()=>{const o=Ue(n.end);return o?ot(o):null}),x=I(()=>{const o=Ue(n.step);return o?ot(o):null}),b=I(()=>{const o=Ue(n.minTime||"");return o?ot(o):null}),g=I(()=>{const o=Ue(n.maxTime||"");return o?ot(o):null}),d=I(()=>{const o=[];if(n.start&&n.end&&n.step){let S=w.value,h;for(;S&&C.value&&Ct(S,C.value)<=0;)h=H(S,"HH:mm").format(n.format),o.push({value:h,disabled:Ct(S,b.value||"-1:-1")<=0||Ct(S,g.value||"100:100")>=0}),S=Fl(S,x.value)}return o});return u({blur:()=>{var o,S;(S=(o=v.value)==null?void 0:o.blur)==null||S.call(o)},focus:()=>{var o,S;(S=(o=v.value)==null?void 0:o.focus)==null||S.call(o)}}),(o,S)=>(T(),ve(e($t),{ref_key:"select",ref:v,"model-value":e(_),disabled:e(y),clearable:o.clearable,"clear-icon":o.clearIcon,size:o.size,effect:o.effect,placeholder:o.placeholder,"default-first-option":"",filterable:o.editable,"onUpdate:modelValue":S[0]||(S[0]=h=>o.$emit("update:modelValue",h)),onChange:S[1]||(S[1]=h=>o.$emit("change",h)),onBlur:S[2]||(S[2]=h=>o.$emit("blur",h)),onFocus:S[3]||(S[3]=h=>o.$emit("focus",h))},{prefix:q(()=>[o.prefixIcon?(T(),ve(e(he),{key:0,class:k(e(c).e("prefix-icon"))},{default:q(()=>[(T(),ve(dt(o.prefixIcon)))]),_:1},8,["class"])):de("v-if",!0)]),default:q(()=>[(T(!0),W(be,null,De(e(d),h=>(T(),ve(e(t),{key:h.value,label:h.value,value:h.value,disabled:h.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable"]))}});var wt=Be(Ll,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-select/src/time-select.vue"]]);wt.install=r=>{r.component(wt.name,wt)};const Ul=wt,Wl=Ul;const zl={class:"app-container"},Kl={class:"operation-button"},Hl={class:"footer"},jl=Ce({__name:"index",setup(r){const u=J(),n=aa({formData:[{title:"",comment:"",startDate:"",startTime:"",endDate:"",endTime:""}],eventList:["","","","","","","","",""]}),{formData:t,eventList:c}=Fa(n),{copy:v}=Ba();async function y(){const x=Qa.cloneDeep(t.value);x.forEach(b=>{b.start=`${H(b.startDate).format("YYYY-MM-DD")} ${b.startTime}`,b.end=`${H(b.endDate).format("YYYY-MM-DD")} ${b.endTime}`,delete b.startDate,delete b.startTime,delete b.endDate,delete b.endTime}),await v(JSON.stringify(x,null,2)),en.success("")}function _(x){t.value.splice(x+1,0,{title:"",comment:"",startDate:"",startTime:"",endDate:"",endTime:""})}function w(x){t.value.splice(x,1),t.value.length===0&&(t.value=[{title:"",comment:"",startDate:"",startTime:"",endDate:"",endTime:""}])}function C(){u.value.resetFields(),t.value=[{title:"",comment:"",startDate:"",startTime:"",endDate:"",endTime:""}]}return(x,b)=>{const g=Xa,d=$t,p=Ka,l=ja,o=qe,S=ht,h=Al,m=Wl,O=Ga,L=Ha,N=La;return T(),W("div",zl,[V(N,{class:"box-card",header:""},{default:q(()=>[V(L,{ref_key:"formEl",ref:u,model:e(t),"label-width":"80px"},{default:q(()=>[(T(!0),W(be,null,De(e(t),(z,Y)=>(T(),ve(O,{key:Y},{default:q(()=>[V(l,{span:8},{default:q(()=>[V(p,{label:`${Y+1}`},{default:q(()=>[V(d,{modelValue:z.title,"onUpdate:modelValue":U=>z.title=U,filterable:"","allow-create":""},{default:q(()=>[(T(!0),W(be,null,De(e(c),U=>(T(),ve(g,{key:U,value:U},null,8,["value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label"])]),_:2},1024),V(l,{span:12},{default:q(()=>[V(p,{label:""},{default:q(()=>[V(o,{modelValue:z.comment,"onUpdate:modelValue":U=>z.comment=U},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),V(l,{span:4},{default:q(()=>[K("div",Kl,[V(S,{type:"success",icon:e(Ua),circle:"",onClick:U=>_(Y)},null,8,["icon","onClick"]),V(S,{type:"danger",icon:e(Wa),circle:"",onClick:U=>w(Y)},null,8,["icon","onClick"])])]),_:2},1024),V(l,{span:12},{default:q(()=>[V(p,{label:""},{default:q(()=>[V(h,{modelValue:z.startDate,"onUpdate:modelValue":U=>z.startDate=U,type:"date",style:{width:"150px"}},null,8,["modelValue","onUpdate:modelValue"]),V(m,{modelValue:z.startTime,"onUpdate:modelValue":U=>z.startTime=U,start:"00:00",step:"01:00",end:"23:00",style:{width:"110px","margin-left":"10px"},placeholder:" "},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),V(l,{span:12},{default:q(()=>[V(p,{label:""},{default:q(()=>[V(h,{modelValue:z.endDate,"onUpdate:modelValue":U=>z.endDate=U,type:"date",style:{width:"150px"}},null,8,["modelValue","onUpdate:modelValue"]),V(m,{modelValue:z.endTime,"onUpdate:modelValue":U=>z.endTime=U,start:"04:59",step:"01:00",end:"23:59",style:{width:"110px","margin-left":"10px"},placeholder:" "},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["model"]),K("div",Hl,[V(S,{type:"primary",onClick:y},{default:q(()=>[Ne("  ")]),_:1}),V(S,{type:"warning",onClick:C},{default:q(()=>[Ne("  ")]),_:1})])]),_:1})])}}});const fs=za(jl,[["__scopeId","data-v-f33945f2"]]);export{fs as default};
