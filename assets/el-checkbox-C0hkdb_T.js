import{c1 as W,bF as he,c2 as ke,bC as ge,J as _,aC as q,am as J,aD as P,O as w,f as h,a7 as O,Q as ee,R as le,x as ae,aj as ne,i as U,D as N,c3 as R,an as Ce,bl as Q,d as L,ab as te,N as A,o as x,p as oe,w as ue,b as X,W as y,e as s,a4 as $,c as S,ak as F,X as D,c4 as G,_ as K,F as ye,h as se,t as ie,g as M,Z as re,a0 as H,v as xe,G as Se,H as Ve,V as Le,l as Be,ao as Ee,aA as de}from"./index-DSIS1sJP.js";import{U as z}from"./event-BB_Ol6Sd.js";import{b as Ie,u as j,a as Z,c as ve}from"./use-form-item-D5STt9IQ.js";import{i as Ne}from"./isEqual-CfHbiWKX.js";import{u as T}from"./index-Bo-2kVyV.js";import{i as we,h as $e}from"./index-C-7Hoq2t.js";import{f as Fe}from"./flatten-Bdfd-Ld1.js";function De(e,a,o){switch(o.length){case 0:return e.call(a);case 1:return e.call(a,o[0]);case 2:return e.call(a,o[0],o[1]);case 3:return e.call(a,o[0],o[1],o[2])}return e.apply(a,o)}var Ge=800,ze=16,Te=Date.now;function Pe(e){var a=0,o=0;return function(){var l=Te(),d=ze-(l-o);if(o=l,d>0){if(++a>=Ge)return arguments[0]}else a=0;return e.apply(void 0,arguments)}}function Oe(e){return function(){return e}}var Ue=W?function(e,a){return W(e,"toString",{configurable:!0,enumerable:!1,value:Oe(a),writable:!0})}:we;const Re=Ue;var Me=Pe(Re),Y=Math.max;function Ae(e,a,o){return a=Y(a===void 0?e.length-1:a,0),function(){for(var l=arguments,d=-1,v=Y(l.length-a,0),b=Array(v);++d<v;)b[d]=l[a+d];d=-1;for(var t=Array(a+1);++d<a;)t[d]=l[d];return t[a]=o(b),De(e,this,t)}}function Ke(e){return Me(Ae(e,void 0,Fe),e+"")}function He(e,a,o){for(var l=-1,d=a.length,v={};++l<d;){var b=a[l],t=he(e,b);o(t,b)&&ke(v,ge(b,e),t)}return v}function je(e,a){return He(e,a,function(o,l){return $e(e,l)})}var We=Ke(function(e,a){return e==null?{}:je(e,a)});const ce={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:_,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0}},be={[z]:e=>q(e)||J(e)||P(e),change:e=>q(e)||J(e)||P(e)},B=Symbol("checkboxGroupContextKey"),qe=({model:e,isChecked:a})=>{const o=w(B,void 0),l=h(()=>{var v,b;const t=(v=o==null?void 0:o.max)==null?void 0:v.value,f=(b=o==null?void 0:o.min)==null?void 0:b.value;return!O(t)&&e.value.length>=t&&!a.value||!O(f)&&e.value.length<=f&&a.value});return{isDisabled:Ie(h(()=>(o==null?void 0:o.disabled.value)||l.value)),isLimitDisabled:l}},Je=(e,{model:a,isLimitExceeded:o,hasOwnLabel:l,isDisabled:d,isLabeledByFormItem:v})=>{const b=w(B,void 0),{formItem:t}=j(),{emit:f}=ne();function m(n){var r,k,c,u;return[!0,e.trueValue,e.trueLabel].includes(n)?(k=(r=e.trueValue)!=null?r:e.trueLabel)!=null?k:!0:(u=(c=e.falseValue)!=null?c:e.falseLabel)!=null?u:!1}function i(n,r){f("change",m(n),r)}function p(n){if(o.value)return;const r=n.target;f("change",m(r.checked),n)}async function g(n){o.value||!l.value&&!d.value&&v.value&&(n.composedPath().some(c=>c.tagName==="LABEL")||(a.value=m([!1,e.falseValue,e.falseLabel].includes(a.value)),await ae(),i(a.value,n)))}const V=h(()=>(b==null?void 0:b.validateEvent)||e.validateEvent);return ee(()=>e.modelValue,()=>{V.value&&(t==null||t.validate("change").catch(n=>le()))}),{handleChange:p,onClickRoot:g}},Qe=e=>{const a=U(!1),{emit:o}=ne(),l=w(B,void 0),d=h(()=>O(l)===!1),v=U(!1),b=h({get(){var t,f;return d.value?(t=l==null?void 0:l.modelValue)==null?void 0:t.value:(f=e.modelValue)!=null?f:a.value},set(t){var f,m;d.value&&N(t)?(v.value=((f=l==null?void 0:l.max)==null?void 0:f.value)!==void 0&&t.length>(l==null?void 0:l.max.value)&&t.length>b.value.length,v.value===!1&&((m=l==null?void 0:l.changeEvent)==null||m.call(l,t))):(o(z,t),a.value=t)}});return{model:b,isGroup:d,isLimitExceeded:v}},Xe=(e,a,{model:o})=>{const l=w(B,void 0),d=U(!1),v=h(()=>R(e.value)?e.label:e.value),b=h(()=>{const i=o.value;return P(i)?i:N(i)?Ce(v.value)?i.map(Q).some(p=>Ne(p,v.value)):i.map(Q).includes(v.value):i!=null?i===e.trueValue||i===e.trueLabel:!!i}),t=Z(h(()=>{var i;return(i=l==null?void 0:l.size)==null?void 0:i.value}),{prop:!0}),f=Z(h(()=>{var i;return(i=l==null?void 0:l.size)==null?void 0:i.value})),m=h(()=>!!a.default||!R(v.value));return{checkboxButtonSize:t,isChecked:b,isFocused:d,checkboxSize:f,hasOwnLabel:m,actualValue:v}},me=(e,a)=>{const{formItem:o}=j(),{model:l,isGroup:d,isLimitExceeded:v}=Qe(e),{isFocused:b,isChecked:t,checkboxButtonSize:f,checkboxSize:m,hasOwnLabel:i,actualValue:p}=Xe(e,a,{model:l}),{isDisabled:g}=qe({model:l,isChecked:t}),{inputId:V,isLabeledByFormItem:n}=ve(e,{formItemContext:o,disableIdGeneration:i,disableIdManagement:d}),{handleChange:r,onClickRoot:k}=Je(e,{model:l,isLimitExceeded:v,hasOwnLabel:i,isDisabled:g,isLabeledByFormItem:n});return(()=>{function u(){var E,I;N(l.value)&&!l.value.includes(p.value)?l.value.push(p.value):l.value=(I=(E=e.trueValue)!=null?E:e.trueLabel)!=null?I:!0}e.checked&&u()})(),T({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},h(()=>d.value&&R(e.value))),T({from:"true-label",replacement:"true-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},h(()=>!!e.trueLabel)),T({from:"false-label",replacement:"false-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},h(()=>!!e.falseLabel)),{inputId:V,isLabeledByFormItem:n,isChecked:t,isDisabled:g,isFocused:b,checkboxButtonSize:f,checkboxSize:m,hasOwnLabel:i,model:l,actualValue:p,handleChange:r,onClickRoot:k}},Ze=["id","indeterminate","name","tabindex","disabled","true-value","false-value"],Ye=["id","indeterminate","disabled","value","name","tabindex"],_e=L({name:"ElCheckbox"}),el=L({..._e,props:ce,emits:be,setup(e){const a=e,o=te(),{inputId:l,isLabeledByFormItem:d,isChecked:v,isDisabled:b,isFocused:t,checkboxSize:f,hasOwnLabel:m,model:i,actualValue:p,handleChange:g,onClickRoot:V}=me(a,o),n=A("checkbox"),r=h(()=>[n.b(),n.m(f.value),n.is("disabled",b.value),n.is("bordered",a.border),n.is("checked",v.value)]),k=h(()=>[n.e("input"),n.is("disabled",b.value),n.is("checked",v.value),n.is("indeterminate",a.indeterminate),n.is("focus",t.value)]);return(c,u)=>(x(),oe(re(!s(m)&&s(d)?"span":"label"),{class:y(s(r)),"aria-controls":c.indeterminate?c.controls:null,onClick:s(V)},{default:ue(()=>{var E,I;return[X("span",{class:y(s(k))},[c.trueValue||c.falseValue||c.trueLabel||c.falseLabel?$((x(),S("input",{key:0,id:s(l),"onUpdate:modelValue":u[0]||(u[0]=C=>F(i)?i.value=C:null),class:y(s(n).e("original")),type:"checkbox",indeterminate:c.indeterminate,name:c.name,tabindex:c.tabindex,disabled:s(b),"true-value":(E=c.trueValue)!=null?E:c.trueLabel,"false-value":(I=c.falseValue)!=null?I:c.falseLabel,onChange:u[1]||(u[1]=(...C)=>s(g)&&s(g)(...C)),onFocus:u[2]||(u[2]=C=>t.value=!0),onBlur:u[3]||(u[3]=C=>t.value=!1),onClick:u[4]||(u[4]=D(()=>{},["stop"]))},null,42,Ze)),[[G,s(i)]]):$((x(),S("input",{key:1,id:s(l),"onUpdate:modelValue":u[5]||(u[5]=C=>F(i)?i.value=C:null),class:y(s(n).e("original")),type:"checkbox",indeterminate:c.indeterminate,disabled:s(b),value:s(p),name:c.name,tabindex:c.tabindex,onChange:u[6]||(u[6]=(...C)=>s(g)&&s(g)(...C)),onFocus:u[7]||(u[7]=C=>t.value=!0),onBlur:u[8]||(u[8]=C=>t.value=!1),onClick:u[9]||(u[9]=D(()=>{},["stop"]))},null,42,Ye)),[[G,s(i)]]),X("span",{class:y(s(n).e("inner"))},null,2)],2),s(m)?(x(),S("span",{key:0,class:y(s(n).e("label"))},[K(c.$slots,"default"),c.$slots.default?M("v-if",!0):(x(),S(ye,{key:0},[se(ie(c.label),1)],64))],2)):M("v-if",!0)]}),_:3},8,["class","aria-controls","onClick"]))}});var ll=H(el,[["__file","checkbox.vue"]]);const al=["name","tabindex","disabled","true-value","false-value"],nl=["name","tabindex","disabled","value"],tl=L({name:"ElCheckboxButton"}),ol=L({...tl,props:ce,emits:be,setup(e){const a=e,o=te(),{isFocused:l,isChecked:d,isDisabled:v,checkboxButtonSize:b,model:t,actualValue:f,handleChange:m}=me(a,o),i=w(B,void 0),p=A("checkbox"),g=h(()=>{var n,r,k,c;const u=(r=(n=i==null?void 0:i.fill)==null?void 0:n.value)!=null?r:"";return{backgroundColor:u,borderColor:u,color:(c=(k=i==null?void 0:i.textColor)==null?void 0:k.value)!=null?c:"",boxShadow:u?`-1px 0 0 0 ${u}`:void 0}}),V=h(()=>[p.b("button"),p.bm("button",b.value),p.is("disabled",v.value),p.is("checked",d.value),p.is("focus",l.value)]);return(n,r)=>{var k,c;return x(),S("label",{class:y(s(V))},[n.trueValue||n.falseValue||n.trueLabel||n.falseLabel?$((x(),S("input",{key:0,"onUpdate:modelValue":r[0]||(r[0]=u=>F(t)?t.value=u:null),class:y(s(p).be("button","original")),type:"checkbox",name:n.name,tabindex:n.tabindex,disabled:s(v),"true-value":(k=n.trueValue)!=null?k:n.trueLabel,"false-value":(c=n.falseValue)!=null?c:n.falseLabel,onChange:r[1]||(r[1]=(...u)=>s(m)&&s(m)(...u)),onFocus:r[2]||(r[2]=u=>l.value=!0),onBlur:r[3]||(r[3]=u=>l.value=!1),onClick:r[4]||(r[4]=D(()=>{},["stop"]))},null,42,al)),[[G,s(t)]]):$((x(),S("input",{key:1,"onUpdate:modelValue":r[5]||(r[5]=u=>F(t)?t.value=u:null),class:y(s(p).be("button","original")),type:"checkbox",name:n.name,tabindex:n.tabindex,disabled:s(v),value:s(f),onChange:r[6]||(r[6]=(...u)=>s(m)&&s(m)(...u)),onFocus:r[7]||(r[7]=u=>l.value=!0),onBlur:r[8]||(r[8]=u=>l.value=!1),onClick:r[9]||(r[9]=D(()=>{},["stop"]))},null,42,nl)),[[G,s(t)]]),n.$slots.default||n.label?(x(),S("span",{key:2,class:y(s(p).be("button","inner")),style:xe(s(d)?s(g):void 0)},[K(n.$slots,"default",{},()=>[se(ie(n.label),1)])],6)):M("v-if",!0)],2)}}});var fe=H(ol,[["__file","checkbox-button.vue"]]);const ul=Se({modelValue:{type:Ve(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:_,label:String,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0}}),sl={[z]:e=>N(e),change:e=>N(e)},il=L({name:"ElCheckboxGroup"}),rl=L({...il,props:ul,emits:sl,setup(e,{emit:a}){const o=e,l=A("checkbox"),{formItem:d}=j(),{inputId:v,isLabeledByFormItem:b}=ve(o,{formItemContext:d}),t=async m=>{a(z,m),await ae(),a("change",m)},f=h({get(){return o.modelValue},set(m){t(m)}});return Le(B,{...We(Be(o),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:f,changeEvent:t}),ee(()=>o.modelValue,()=>{o.validateEvent&&(d==null||d.validate("change").catch(m=>le()))}),(m,i)=>{var p;return x(),oe(re(m.tag),{id:s(v),class:y(s(l).b("group")),role:"group","aria-label":s(b)?void 0:m.label||"checkbox-group","aria-labelledby":s(b)?(p=s(d))==null?void 0:p.labelId:void 0},{default:ue(()=>[K(m.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var pe=H(rl,[["__file","checkbox-group.vue"]]);const hl=Ee(ll,{CheckboxButton:fe,CheckboxGroup:pe});de(fe);de(pe);export{hl as E,Ae as o,Me as s};
