import{e as g,r as n,o as y,g as o,h as l,j as h,T as v,W as $,n as M,x}from"./index-e1e4d07d.js";import{_ as L}from"./_plugin-vue_export-helper-c27b6911.js";const S={class:"gacha_bg"},I=["src"],R=g({__name:"GachaAnimation",props:["resultList"],emits:["close"],setup(c,{emit:p}){const s=c,r=n(),i=n(0),u=n([]);function d(){for(let e=0;e<s.resultList.length;e++){const m=375-Math.cos(e*36*Math.PI/180)*100,a=250+Math.sin(e*36*Math.PI/180)*100,t=375-Math.cos(e*36*Math.PI/180)*500,_=250+Math.sin(e*36*Math.PI/180)*500;u.value.push(document.styleSheets[0].cssRules.length),document.styleSheets[0].insertRule(`@keyframes move${e}{0% {top: 50%;left: 50%;}90% {top: ${m}px;left: ${a}px;opacity: 1;}100% {top: ${t}px;left: ${_}px;opacity: 0;}}`,document.styleSheets[0].cssRules.length),u.value.push(document.styleSheets[0].cssRules.length);const f=s.resultList.length>10?`animation: move${e} 0.5s ${.1*e}s;`:`animation: move${e} 2s ${.5*e}s;`;document.styleSheets[0].insertRule(`.result${e}{${f} animation-fill-mode: forwards;}`,document.styleSheets[0].cssRules.length)}}return y(()=>{r.value.addEventListener("animationend",()=>{i.value++,i.value===s.resultList.length&&p("close")}),d()}),(e,m)=>(o(),l("div",{ref_key:"playground",ref:r,class:"playground"},[h("div",null,[h("div",S,[(o(!0),l(v,null,$(c.resultList,(a,t)=>(o(),l("img",{key:t,class:M(["list",`result${t}`]),src:`./images/gacha/${a.type}.png`,style:x(`transform:translate(-50%, -150%) rotateZ(${36*t}deg );opacity: 0;`)},null,14,I))),128))])])],512))}});const A=L(R,[["__scopeId","data-v-9869a552"]]);export{A as default};
