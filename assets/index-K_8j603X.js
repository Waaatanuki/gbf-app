import{d as y,j as b,f as T,o as c,p as k,w as r,a as m,e as t,c as V,F as E,n as w,h as g,t as x,E as L}from"./index-B6R4p2T4.js";/* empty css               */import{E as F,a as M}from"./el-form-item-BafeviFu.js";import{E as S}from"./el-input-BvMpuz3A.js";import{E as U,a as v}from"./el-radio-group-DHbwZ8-S.js";import{E as C}from"./index-CdtOyYP1.js";import"./constants-BZr47Mzo.js";import"./castArray-CObRpbci.js";import"./use-form-item-D9NKj33P.js";import"./_baseClone-CZ6_h_dH.js";import"./_Uint8Array-Jdl_DxJ7.js";import"./_initCloneObject-B03gqD62.js";import"./typescript-Bp3YSIOJ.js";import"./event-BB_Ol6Sd.js";import"./index-BmypFblD.js";const W=y({__name:"index",setup(I){const B=[{name:"古战场",type:0,boxToken:[[1600,1],[2400,3],[2e3,41],[1e4,35]],last:15e3},{name:"月末剧情",type:1,boxToken:[[1200,1],[1580,1],[1980,1],[2112,17]],last:2104},{name:"公会战",type:2,boxToken:[[1600,1],[2400,3],[2e3,16],[1e4,20]],last:15e3}],e=b({type:0,currentToken:0,drawnBox:0,targetBox:0}),p=T(()=>{const f=B.find(l=>l.type===e.type),o=f.boxToken.reduce((l,d)=>{for(let _=0;_<d[1];_++)l.push(d[0]);return l},[]);let u=e.currentToken,i=e.drawnBox,n=e.drawnBox,s=0;for(let l=0;l<o.length;l++){if(e.drawnBox>l)continue;const d=o[l];if(u>=d)i++,n++,u-=d;else{if(n>=e.targetBox)break;n++,s+=d}}return i>=o.length&&(i+=Math.floor(u/f.last)),n>=o.length&&n<e.targetBox&&(s+=(e.targetBox-n)*f.last),{totalBox:i,needToken:s-u}});return(f,o)=>{const u=U,i=v,n=F,s=S,l=M,d=C,_=L;return c(),k(_,{"m-auto":"","w-500px":"",header:"战货计算"},{default:r(()=>[m(l,{model:t(e),"label-width":"120px"},{default:r(()=>[m(n,{label:"类型"},{default:r(()=>[m(i,{modelValue:t(e).type,"onUpdate:modelValue":o[0]||(o[0]=a=>t(e).type=a)},{default:r(()=>[(c(),V(E,null,w(B,a=>m(u,{key:a.type,value:a.type},{default:r(()=>[g(x(a.name),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"])]),_:1}),m(n,{label:"当前战货数量"},{default:r(()=>[m(s,{modelValue:t(e).currentToken,"onUpdate:modelValue":o[1]||(o[1]=a=>t(e).currentToken=a),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1}),m(n,{label:"已抽箱数"},{default:r(()=>[m(s,{modelValue:t(e).drawnBox,"onUpdate:modelValue":o[2]||(o[2]=a=>t(e).drawnBox=a),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1}),m(n,{label:"目标箱数"},{default:r(()=>[m(s,{modelValue:t(e).targetBox,"onUpdate:modelValue":o[3]||(o[3]=a=>t(e).targetBox=a),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),t(p).needToken<=0?(c(),k(d,{key:0,type:"success",size:"large"},{default:r(()=>[g(" 目前一共【 "+x(t(p).totalBox.toLocaleString())+" 】箱,目标已达成！ ",1)]),_:1})):(c(),k(d,{key:1,type:"warning",size:"large"},{default:r(()=>[g(" 目前一共【 "+x(t(p).totalBox.toLocaleString())+" 】箱,距离目标还差【 "+x(t(p).needToken.toLocaleString())+" 】战货 ",1)]),_:1}))]),_:1})}}});export{W as default};
