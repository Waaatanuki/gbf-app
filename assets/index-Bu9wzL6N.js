import{G as ee,ay as I,H as ae,aD as w,aC as N,am as _,d as U,N as te,f,i as S,aJ as ie,Q as O,R as oe,a2 as ne,o as i,c as m,b as T,e as a,W as v,a9 as le,p as u,w as h,Z as V,Y as y,g as d,t as B,a as C,az as se,_ as R,v as re,X as ce,a0 as ue,x as de,ch as G,aE as ve,ao as me,al as pe,a4 as H,ad as L,ak as P}from"./index-Diu-x6FV.js";import{_ as fe}from"./SelectBullets.vue_vue_type_script_setup_true_lang-p6LbJb5q.js";import{_ as he}from"./ViewResult.vue_vue_type_style_index_0_lang-B_Vsby59.js";import{i as ye}from"./validator-CzYfFzPn.js";import{U as A,C as z,I as D}from"./event-BB_Ol6Sd.js";import{u as be,a as Ve,c as ge,b as ke}from"./use-form-item-suokxxwT.js";import"./el-button-C6rc0ZtR.js";import"./index-_Q0HyYQ-.js";import"./el-popper-BWSs2B9i.js";import"./aria-BUADUvnR.js";import"./constants-DpOarhSm.js";import"./focus-trap-weRMbqWb.js";import"./el-tab-pane-BMXBFvVC.js";import"./typescript-Bp3YSIOJ.js";import"./strings-CHHsUtg8.js";import"./vnode-B0wBFVSX.js";import"./file-BqIJQYyv.js";import"./el-badge-CAkHoLZe.js";import"./el-message-B7CiwTTX.js";import"./castArray-Bw_jPEd3.js";import"./refs-BuFhiX73.js";import"./el-table-column-Bc5OduQ7.js";import"./flatten-B0g8DTxf.js";import"./_Uint8Array-BfDd1TYN.js";import"./index-BlgHrw00.js";import"./isEqual-BMy-lGZ-.js";import"./debounce-i-lkLVqK.js";import"./el-checkbox-BxOCvyKw.js";import"./_initCloneObject-C7q9e27T.js";import"./el-tooltip-l0sNRNKZ.js";/* empty css               */const Ie=ee({modelValue:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},size:{type:String,validator:ye},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},inactiveActionIcon:{type:I},activeActionIcon:{type:I},activeIcon:{type:I},inactiveIcon:{type:I},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:ae(Function)},id:String,tabindex:{type:[String,Number]},label:{type:String,default:void 0}}),we={[A]:l=>w(l)||N(l)||_(l),[z]:l=>w(l)||N(l)||_(l),[D]:l=>w(l)||N(l)||_(l)},Se=["onClick"],Te=["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"],Ce=["aria-hidden"],Ee=["aria-hidden"],Ne=["aria-hidden"],W="ElSwitch",_e=U({name:W}),Be=U({..._e,props:Ie,emits:we,setup(l,{expose:p,emit:s}){const o=l,{formItem:c}=be(),E=Ve(),t=te("switch"),{inputId:J}=ge(o,{formItemContext:c}),g=ke(f(()=>o.loading)),$=S(o.modelValue!==!1),b=S(),Q=S(),X=f(()=>[t.b(),t.m(E.value),t.is("disabled",g.value),t.is("checked",n.value)]),Y=f(()=>[t.e("label"),t.em("label","left"),t.is("active",!n.value)]),Z=f(()=>[t.e("label"),t.em("label","right"),t.is("active",n.value)]),j=f(()=>({width:ie(o.width)}));O(()=>o.modelValue,()=>{$.value=!0});const K=f(()=>$.value?o.modelValue:!1),n=f(()=>K.value===o.activeValue);[o.activeValue,o.inactiveValue].includes(K.value)||(s(A,o.inactiveValue),s(z,o.inactiveValue),s(D,o.inactiveValue)),O(n,e=>{var r;b.value.checked=e,o.validateEvent&&((r=c==null?void 0:c.validate)==null||r.call(c,"change").catch(x=>oe()))});const k=()=>{const e=n.value?o.inactiveValue:o.activeValue;s(A,e),s(z,e),s(D,e),de(()=>{b.value.checked=n.value})},F=()=>{if(g.value)return;const{beforeChange:e}=o;if(!e){k();return}const r=e();[G(r),w(r)].includes(!0)||ve(W,"beforeChange must return type `Promise<boolean>` or `boolean`"),G(r)?r.then(M=>{M&&k()}).catch(M=>{}):r&&k()},q=()=>{var e,r;(r=(e=b.value)==null?void 0:e.focus)==null||r.call(e)};return ne(()=>{b.value.checked=n.value}),p({focus:q,checked:n}),(e,r)=>(i(),m("div",{class:v(a(X)),onClick:ce(F,["prevent"])},[T("input",{id:a(J),ref_key:"input",ref:b,class:v(a(t).e("input")),type:"checkbox",role:"switch","aria-checked":a(n),"aria-disabled":a(g),"aria-label":e.label,name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:a(g),tabindex:e.tabindex,onChange:k,onKeydown:le(F,["enter"])},null,42,Te),!e.inlinePrompt&&(e.inactiveIcon||e.inactiveText)?(i(),m("span",{key:0,class:v(a(Y))},[e.inactiveIcon?(i(),u(a(y),{key:0},{default:h(()=>[(i(),u(V(e.inactiveIcon)))]),_:1})):d("v-if",!0),!e.inactiveIcon&&e.inactiveText?(i(),m("span",{key:1,"aria-hidden":a(n)},B(e.inactiveText),9,Ce)):d("v-if",!0)],2)):d("v-if",!0),T("span",{ref_key:"core",ref:Q,class:v(a(t).e("core")),style:re(a(j))},[e.inlinePrompt?(i(),m("div",{key:0,class:v(a(t).e("inner"))},[e.activeIcon||e.inactiveIcon?(i(),u(a(y),{key:0,class:v(a(t).is("icon"))},{default:h(()=>[(i(),u(V(a(n)?e.activeIcon:e.inactiveIcon)))]),_:1},8,["class"])):e.activeText||e.inactiveText?(i(),m("span",{key:1,class:v(a(t).is("text")),"aria-hidden":!a(n)},B(a(n)?e.activeText:e.inactiveText),11,Ee)):d("v-if",!0)],2)):d("v-if",!0),T("div",{class:v(a(t).e("action"))},[e.loading?(i(),u(a(y),{key:0,class:v(a(t).is("loading"))},{default:h(()=>[C(a(se))]),_:1},8,["class"])):a(n)?R(e.$slots,"active-action",{key:1},()=>[e.activeActionIcon?(i(),u(a(y),{key:0},{default:h(()=>[(i(),u(V(e.activeActionIcon)))]),_:1})):d("v-if",!0)]):a(n)?d("v-if",!0):R(e.$slots,"inactive-action",{key:2},()=>[e.inactiveActionIcon?(i(),u(a(y),{key:0},{default:h(()=>[(i(),u(V(e.inactiveActionIcon)))]),_:1})):d("v-if",!0)])],2)],6),!e.inlinePrompt&&(e.activeIcon||e.activeText)?(i(),m("span",{key:1,class:v(a(Z))},[e.activeIcon?(i(),u(a(y),{key:0},{default:h(()=>[(i(),u(V(e.activeIcon)))]),_:1})):d("v-if",!0),!e.activeIcon&&e.activeText?(i(),m("span",{key:1,"aria-hidden":!a(n)},B(e.activeText),9,Ne)):d("v-if",!0)],2)):d("v-if",!0)],10,Se))}});var Pe=ue(Be,[["__file","switch.vue"]]);const Ae=me(Pe),ze={relative:""},De={class:"absolute bottom-1 right-2 z-50"},va=U({__name:"index",setup(l){const p=S("result"),s=pe("selectedBullet",[[],[],[],[],[],[]]);return(o,c)=>{const E=Ae;return i(),m("div",ze,[H(C(fe,{modelValue:a(s),"onUpdate:modelValue":c[0]||(c[0]=t=>P(s)?s.value=t:null)},null,8,["modelValue"]),[[L,a(p)==="select"]]),H(C(he,{modelValue:a(s),"onUpdate:modelValue":c[1]||(c[1]=t=>P(s)?s.value=t:null)},null,8,["modelValue"]),[[L,a(p)==="result"]]),T("div",De,[C(E,{modelValue:a(p),"onUpdate:modelValue":c[2]||(c[2]=t=>P(p)?p.value=t:null),"inline-prompt":"",style:{"--el-switch-on-color":"#13ce66","--el-switch-off-color":"#ff4949"},"active-text":"查看素材","active-value":"select","inactive-text":"选择子弹","inactive-value":"result"},null,8,["modelValue"])])])}}});export{va as default};
