import{i as te,E as ne,_ as oe}from"./base-c9dcbedb.js";import{E as se}from"./el-scrollbar-cf76f360.js";import{E as A}from"./el-card-60a6333b.js";import{d as o}from"./dayjs.min-fa6ccec7.js";import{s as Z,d as ie}from"./index-b7a986ea.js";import{d as I,u as F,p as ae,B as re,e as R,b as le,x as ue,a as c,c as b,h as $,n as C,f as s,Z as ce,j as O,w as E,k as fe,_ as M,t as B,m as me,q as de,r as Y,o as P,I as K,A as pe,a0 as he,a1 as ve,O as L,P as q,F as G,a2 as W,X,y as _e,a3 as ge,z as $e,a4 as ye,a5 as be}from"./index-0edfd5ee.js";import{E as xe}from"./el-checkbox-de968bdb.js";import{E as ze}from"./el-input-d9c04081.js";import{c as j}from"./index-595653fa.js";import{_ as Te}from"./_plugin-vue_export-helper-c27b6911.js";import"./index-4e86608a.js";import"./use-form-item-aee03b26.js";import"./isEqual-46c77a24.js";import"./_Uint8Array-b9c59aac.js";import"./flatten-9b1a06a6.js";const ke=I({name:"ElTimeline",setup(z,{slots:f}){const t=F("timeline");return ae("timeline",f),()=>re("ul",{class:[t.b()]},[R(f,"default")])}}),De=le({timestamp:{type:String,default:""},hideTimestamp:{type:Boolean,default:!1},center:{type:Boolean,default:!1},placement:{type:String,values:["top","bottom"],default:"bottom"},type:{type:String,values:["primary","success","warning","danger","info"],default:""},color:{type:String,default:""},size:{type:String,values:["normal","large"],default:"normal"},icon:{type:te},hollow:{type:Boolean,default:!1}}),Se=I({name:"ElTimelineItem"}),Ee=I({...Se,props:De,setup(z){const f=z,t=F("timeline-item"),u=ue(()=>[t.e("node"),t.em("node",f.size||""),t.em("node",f.type||""),t.is("hollow",f.hollow)]);return(n,T)=>(c(),b("li",{class:C([s(t).b(),{[s(t).e("center")]:n.center}])},[$("div",{class:C(s(t).e("tail"))},null,2),n.$slots.dot?M("v-if",!0):(c(),b("div",{key:0,class:C(s(u)),style:ce({backgroundColor:n.color})},[n.icon?(c(),O(s(ne),{key:0,class:C(s(t).e("icon"))},{default:E(()=>[(c(),O(fe(n.icon)))]),_:1},8,["class"])):M("v-if",!0)],6)),n.$slots.dot?(c(),b("div",{key:1,class:C(s(t).e("dot"))},[R(n.$slots,"dot")],2)):M("v-if",!0),$("div",{class:C(s(t).e("wrapper"))},[!n.hideTimestamp&&n.placement==="top"?(c(),b("div",{key:0,class:C([s(t).e("timestamp"),s(t).is("top")])},B(n.timestamp),3)):M("v-if",!0),$("div",{class:C(s(t).e("content"))},[R(n.$slots,"default")],2),!n.hideTimestamp&&n.placement==="bottom"?(c(),b("div",{key:1,class:C([s(t).e("timestamp"),s(t).is("bottom")])},B(n.timestamp),3)):M("v-if",!0)],2)],2))}});var J=oe(Ee,[["__file","/home/runner/work/element-plus/element-plus/packages/components/timeline/src/timeline-item.vue"]]);const Ce=me(ke,{TimelineItem:J}),we=de(J),Oe="/gbf-app/images/bg/ffj.jpeg";function Ue(){const z=Y(200),f=Y(),t=Y(),u=()=>{const d=document.documentElement.offsetHeight,y=50,k=15*2,a=d-y-k-(t.value?t.value.offsetHeight:0);z.value=a>300?a:300},n=d=>{d.propertyName==="width"&&u()},T=()=>{window.addEventListener("resize",u,{passive:!0})},l=()=>{window.removeEventListener("resize",u)},g=()=>{t.value=document.querySelector(".app-container-header"),f.value=document.getElementsByClassName("sidebar-container")[0],f.value&&f.value.addEventListener("transitionend",n,{passive:!0})},i=()=>{f.value&&f.value.removeEventListener("transitionend",n)};return P(()=>{T(),g(),K(()=>{u()})}),pe(()=>{l(),i()}),he(()=>{T(),g()}),ve(()=>{l(),i()}),{dynamicHeight:z}}const He={"text-center":""},Me={style:{margin:"0px"}},Ve={key:0,style:{margin:"14px 0 0 0"}},Be={key:1},Le=I({__name:"Schedule",setup(z){const{dynamicHeight:f}=Ue(),t=function(u,n){if(o().isBefore(o(u))&&o(u).diff(o(),"h")<24)return"orange";if(o().isAfter(o(u))&&o(n).isAfter(o())&&o(n).diff(o(),"h")<24)return"red";if(o().isAfter(o(u))&&o().isBefore(o(n)))return"green"};return(u,n)=>{const T=A,l=we,g=Ce,i=se;return c(),O(T,{"min-w-300px":"","body-style":{padding:"20px 20px 0px 20px",height:`${s(f)-64}px`}},{header:E(()=>[$("div",He,[$("span",null,B(s(o)().month()+1)+"月日程表",1)])]),default:E(()=>[L(i,{height:s(f)-62},{default:E(()=>[s(o)().isSame(s(o)(s(Z)[0].end),"month")?(c(),O(g,{key:0,style:{padding:"0 15px 0 0"}},{default:E(()=>[(c(!0),b(G,null,q(s(Z),(d,y)=>(c(),O(l,{key:y,placement:"top",timestamp:`${s(o)(d.start).format("MM/DD HH:mm")} - ${s(o)(d.end).format("MM/DD HH:mm")}`,color:t(d.start,d.end)},{default:E(()=>[L(T,{"body-style":{padding:"10px"},shadow:"hover"},{default:E(()=>[$("h4",Me,B(d.title),1),d.comment?(c(),b("p",Ve,B(d.comment),1)):M("",!0)]),_:2},1024)]),_:2},1032,["timestamp","color"]))),128))]),_:1})):(c(),b("label",Be,"暂未更新"))]),_:1},8,["height"])]),_:1},8,["body-style"])}}});var Q={exports:{}};(function(z,f){(function(t,u){z.exports=u()})(W,function(){var t="minute",u=/[+-]\d\d(?::?\d\d)?/g,n=/([+-]|\d\d)/g;return function(T,l,g){var i=l.prototype;g.utc=function(e){var r={date:e,utc:!0,args:arguments};return new l(r)},i.utc=function(e){var r=g(this.toDate(),{locale:this.$L,utc:!0});return e?r.add(this.utcOffset(),t):r},i.local=function(){return g(this.toDate(),{locale:this.$L,utc:!1})};var d=i.parse;i.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),d.call(this,e)};var y=i.init;i.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else y.call(this)};var k=i.utcOffset;i.utcOffset=function(e,r){var p=this.$utils().u;if(p(e))return this.$u?0:p(this.$offset)?k.call(this):this.$offset;if(typeof e=="string"&&(e=function(x){x===void 0&&(x="");var U=x.match(u);if(!U)return null;var S=(""+U[0]).match(n)||["-",0,0],H=S[0],w=60*+S[1]+ +S[2];return w===0?0:H==="+"?w:-w}(e),e===null))return this;var h=Math.abs(e)<=16?60*e:e,v=this;if(r)return v.$offset=h,v.$u=e===0,v;if(e!==0){var D=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(v=this.local().add(h+D,t)).$offset=h,v.$x.$localOffset=D}else v=this.utc();return v};var a=i.format;i.format=function(e){var r=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return a.call(this,r)},i.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},i.isUTC=function(){return!!this.$u},i.toISOString=function(){return this.toDate().toISOString()},i.toString=function(){return this.toDate().toUTCString()};var _=i.toDate;i.toDate=function(e){return e==="s"&&this.$offset?g(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():_.call(this)};var m=i.diff;i.diff=function(e,r,p){if(e&&this.$u===e.$u)return m.call(this,e,r,p);var h=this.local(),v=g(e).local();return m.call(h,v,r,p)}}})})(Q);var Ie=Q.exports;const Ye=X(Ie);var ee={exports:{}};(function(z,f){(function(t,u){z.exports=u()})(W,function(){var t={year:0,month:1,day:2,hour:3,minute:4,second:5},u={};return function(n,T,l){var g,i=function(a,_,m){m===void 0&&(m={});var e=new Date(a),r=function(p,h){h===void 0&&(h={});var v=h.timeZoneName||"short",D=p+"|"+v,x=u[D];return x||(x=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:p,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:v}),u[D]=x),x}(_,m);return r.formatToParts(e)},d=function(a,_){for(var m=i(a,_),e=[],r=0;r<m.length;r+=1){var p=m[r],h=p.type,v=p.value,D=t[h];D>=0&&(e[D]=parseInt(v,10))}var x=e[3],U=x===24?0:x,S=e[0]+"-"+e[1]+"-"+e[2]+" "+U+":"+e[4]+":"+e[5]+":000",H=+a;return(l.utc(S).valueOf()-(H-=H%1e3))/6e4},y=T.prototype;y.tz=function(a,_){a===void 0&&(a=g);var m=this.utcOffset(),e=this.toDate(),r=e.toLocaleString("en-US",{timeZone:a}),p=Math.round((e-new Date(r))/1e3/60),h=l(r).$set("millisecond",this.$ms).utcOffset(15*-Math.round(e.getTimezoneOffset()/15)-p,!0);if(_){var v=h.utcOffset();h=h.add(m-v,"minute")}return h.$x.$timezone=a,h},y.offsetName=function(a){var _=this.$x.$timezone||l.tz.guess(),m=i(this.valueOf(),_,{timeZoneName:a}).find(function(e){return e.type.toLowerCase()==="timezonename"});return m&&m.value};var k=y.startOf;y.startOf=function(a,_){if(!this.$x||!this.$x.$timezone)return k.call(this,a,_);var m=l(this.format("YYYY-MM-DD HH:mm:ss:SSS"));return k.call(m,a,_).tz(this.$x.$timezone,!0)},l.tz=function(a,_,m){var e=m&&_,r=m||_||g,p=d(+l(),r);if(typeof a!="string")return l(a).tz(r);var h=function(U,S,H){var w=U-60*S*1e3,V=d(w,H);if(S===V)return[w,S];var N=d(w-=60*(V-S)*1e3,H);return V===N?[w,V]:[U-60*Math.min(V,N)*1e3,Math.max(V,N)]}(l.utc(a,e).valueOf(),p,r),v=h[0],D=h[1],x=l(v).utcOffset(D);return x.$x.$timezone=r,x},l.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},l.tz.setDefault=function(a){g=a}}})})(ee);var Ne=ee.exports;const Re=X(Ne),Ze={flex:"","items-center":"","justify-between":""},je=$("span",null,"ToDoList",-1),Ae={fc:"","gap-2":""},Fe={flex:"","flex-col":""},Pe={key:0,fc:""},Ke=["onClick"],qe={key:1},Ge=I({__name:"ToDoList",setup(z){o.extend(Ye),o.extend(Re),o.tz.setDefault("Asia/Shanghai");const f=Y(),t=_e({taskList:j("todoList",ie),lastUpdateTodo:j("lastUpdateTodo",o().tz().unix()),inputValue:"",inputVisible:!1,delBtnVisible:!1}),{taskList:u,inputValue:n,inputVisible:T,delBtnVisible:l}=ge(t);$e(()=>t.taskList,()=>{t.lastUpdateTodo=o().tz().unix()});function g(){T.value=!0,K(()=>{f.value.input.focus()})}function i(y){u.value.splice(y,1)}function d(){n.value&&u.value.push({done:!1,content:n.value}),T.value=!1,n.value=""}return P(()=>{o().tz().isAfter(o().tz().hour(4).minute(0).second(0))&&o.unix(t.lastUpdateTodo).tz().isBefore(o().tz().hour(4).minute(0).second(0))&&(t.lastUpdateTodo=o().tz().unix(),t.taskList.forEach(y=>y.done=!1))}),(y,k)=>{const a=ze,_=xe,m=A;return c(),O(m,{"h-full":"","min-w-300px":""},{header:E(()=>[$("div",Ze,[je,$("div",Ae,[$("div",{"icon-btn":"","i-carbon:document-add":"",onClick:g}),s(l)?(c(),b("div",{key:0,"icon-btn":"","i-carbon:settings-check":"",onClick:k[0]||(k[0]=e=>l.value=!s(l))})):(c(),b("div",{key:1,"icon-btn":"","i-carbon:settings":"",onClick:k[1]||(k[1]=e=>l.value=!s(l))}))])])]),default:E(()=>[$("div",Fe,[(c(!0),b(G,null,q(s(u),(e,r)=>(c(),O(_,{key:r,modelValue:e.done,"onUpdate:modelValue":p=>e.done=p,label:e.content},{default:E(()=>[s(l)?(c(),b("div",Pe,[L(a,{modelValue:e.content,"onUpdate:modelValue":p=>e.content=p,size:"small"},null,8,["modelValue","onUpdate:modelValue"]),$("div",{"ml-2":"","icon-btn":"","i-carbon:trash-can":"",onClick:p=>i(r)},null,8,Ke)])):(c(),b("div",qe,B(e.content),1))]),_:2},1032,["modelValue","onUpdate:modelValue","label"]))),128)),s(T)?(c(),O(a,{key:0,ref_key:"inputRef",ref:f,modelValue:s(n),"onUpdate:modelValue":k[2]||(k[2]=e=>ye(n)?n.value=e:null),size:"small",onKeyup:be(d,["enter"]),onBlur:d},null,8,["modelValue","onKeyup"])):M("",!0)])]),_:1})}}}),We={},Xe={class:"flex flex-col"},Je=$("a",{"m-2":"","i-carbon:debug":"","hover:text-amber":"",rel:"noreferrer",href:"https://bbs.nga.cn/read.php?tid=30999435",target:"_blank",title:"报Bug"},null,-1),Qe=$("a",{"m-2":"","i-carbon:logo-github":"","hover:text-amber":"",rel:"noreferrer",href:"https://github.com/Waaatanuki/gbf-app",target:"_blank",title:"GitHub"},null,-1),et=[Je,Qe];function tt(z,f){return c(),b("div",Xe,et)}const nt=Te(We,[["render",tt]]),ot={class:"app-container",relative:""},st={flex:"","flex-wrap":"","gap-4":""},it=$("img",{"h-300px":"",absolute:"","right-4":"","bottom-4":"",src:Oe},null,-1),bt=I({__name:"index",setup(z){return(f,t)=>(c(),b("div",ot,[$("div",st,[L(Le,{"z-10":""}),L(Ge,{"z-10":""})]),L(nt,{absolute:"","right-4":"","top-4":""}),it]))}});export{bt as default};
