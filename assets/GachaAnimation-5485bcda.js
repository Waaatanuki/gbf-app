import{d as g,g as n,N as y,o,c as l,b as h,F as v,k as $,J as M,n as x,_ as L}from"./index-7496bda0.js";const S={class:"gacha_bg"},k=["src"],I=g({__name:"GachaAnimation",props:["resultList"],emits:["close"],setup(c,{emit:p}){const s=c,i=n(),r=n(0),u=n([]);function d(){for(let e=0;e<s.resultList.length;e++){const m=375-Math.cos(e*36*Math.PI/180)*100,a=250+Math.sin(e*36*Math.PI/180)*100,t=375-Math.cos(e*36*Math.PI/180)*500,_=250+Math.sin(e*36*Math.PI/180)*500;u.value.push(document.styleSheets[0].cssRules.length),document.styleSheets[0].insertRule(`@keyframes move${e}{0% {top: 50%;left: 50%;}90% {top: ${m}px;left: ${a}px;opacity: 1;}100% {top: ${t}px;left: ${_}px;opacity: 0;}}`,document.styleSheets[0].cssRules.length),u.value.push(document.styleSheets[0].cssRules.length);const f=s.resultList.length>10?`animation: move${e} 0.5s ${.1*e}s;`:`animation: move${e} 2s ${.5*e}s;`;document.styleSheets[0].insertRule(`.result${e}{${f} animation-fill-mode: forwards;}`,document.styleSheets[0].cssRules.length)}}return y(()=>{i.value.addEventListener("animationend",()=>{r.value++,r.value===s.resultList.length&&p("close")}),d()}),(e,m)=>(o(),l("div",{ref_key:"playground",ref:i,class:"playground"},[h("div",null,[h("div",S,[(o(!0),l(v,null,$(c.resultList,(a,t)=>(o(),l("img",{key:t,class:M(["list",`result${t}`]),src:`./images/gacha/${a.type}.png`,style:x(`transform:translate(-50%, -150%) rotateZ(${36*t}deg );opacity: 0;`)},null,14,k))),128))])])],512))}});const b=L(I,[["__scopeId","data-v-9e3b71a6"]]);export{b as default};
