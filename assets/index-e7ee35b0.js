import{t as X,_ as re,E as D,m as Ne,k as Ce,e as Te,p as we,n as oe}from"./base-d162ef96.js";import{_ as Pe}from"./Build.vue_vue_type_script_setup_true_lang-597b451f.js";import{_ as $e}from"./Material1.vue_vue_type_script_setup_true_lang-2fe31841.js";import{a as ie,b as Ee,c as Se}from"./index-5725fa7a.js";import{aJ as xe,aK as ke,b as U,d as Q,e as V,I as Z,u as I,r as N,w as R,z as ee,g as te,h as ae,n as ce,k,x as Be,B as K,f as F,o as ue,ag as Oe,v as c,H as Re,G as de,aD as ne,a as ze,c as Ae,aH as Ve,Y as Fe,ay as Me,D as De,E as Le,s as Ue,C as Ie,U as Ke,p as G,F as He}from"./index-e1e4d07d.js";import{m as be}from"./typescript-defaf979.js";import{c as O}from"./strings-d9adb3a2.js";import{E as L}from"./aria-60e0cdc6.js";import{U as fe}from"./event-9519ab40.js";import{f as qe}from"./vnode-1be7d77b.js";import{u as We}from"./index-927a9af8.js";import"./el-dialog-064e4ef9.js";import"./el-overlay-375e2e02.js";import"./icon-4d217982.js";import"./constants-4db3609e.js";import"./scroll-49bb2d6e.js";import"./focus-trap-9c06f385.js";import"./refs-3f2ae67d.js";import"./html2canvas.esm-26be8405.js";import"./el-button-a3f7639e.js";import"./use-form-item-77ae3ce7.js";import"./index-f8748455.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./el-form-item-7e6f2d4a.js";import"./_baseClone-2e5d4ca7.js";import"./_Uint8Array-6184b0e9.js";import"./_initCloneObject-b176e66b.js";import"./el-col-6d42aa75.js";import"./el-input-4552dc9d.js";import"./el-progress-fce0f48f.js";import"./isEqual-9aa6cdf6.js";import"./index-33390c92.js";const Ye=(e,a,d)=>qe(e.subTree).filter(t=>{var s;return ke(t)&&((s=t.type)==null?void 0:s.name)===a&&!!t.component}).map(t=>t.component.uid).map(t=>d[t]).filter(t=>!!t),je=(e,a)=>{const d={},h=xe([]);return{children:h,addChild:s=>{d[s.uid]=s,h.value=Ye(e,a,d)},removeChild:s=>{delete d[s],h.value=h.value.filter(E=>E.uid!==s)}}},H=Symbol("tabsRootContextKey"),Ge=U({tabs:{type:Q(Array),default:()=>be([])}}),ve="ElTabBar",Je=V({name:ve}),Xe=V({...Je,props:Ge,setup(e,{expose:a}){const d=e,h=K(),r=Z(H);r||X(ve,"<el-tabs><el-tab-bar /></el-tabs>");const t=I("tabs"),s=N(),E=N(),b=()=>{let v=0,m=0;const f=["top","bottom"].includes(r.props.tabPosition)?"width":"height",l=f==="width"?"x":"y",B=l==="x"?"left":"top";return d.tabs.every(S=>{var $,o;const _=(o=($=h.parent)==null?void 0:$.refs)==null?void 0:o[`tab-${S.uid}`];if(!_)return!1;if(!S.active)return!0;v=_[`offset${O(B)}`],m=_[`client${O(f)}`];const C=window.getComputedStyle(_);return f==="width"&&(d.tabs.length>1&&(m-=Number.parseFloat(C.paddingLeft)+Number.parseFloat(C.paddingRight)),v+=Number.parseFloat(C.paddingLeft)),!1}),{[f]:`${m}px`,transform:`translate${O(l)}(${v}px)`}},y=()=>E.value=b();return R(()=>d.tabs,async()=>{await ee(),y()},{immediate:!0}),ie(s,()=>y()),a({ref:s,update:y}),(v,m)=>(te(),ae("div",{ref_key:"barRef",ref:s,class:ce([k(t).e("active-bar"),k(t).is(k(r).props.tabPosition)]),style:Be(E.value)},null,6))}});var Qe=re(Xe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]);const Ze=U({panes:{type:Q(Array),default:()=>be([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),et={tabClick:(e,a,d)=>d instanceof Event,tabRemove:(e,a)=>a instanceof Event},le="ElTabNav",tt=V({name:le,props:Ze,emits:et,setup(e,{expose:a,emit:d}){const h=K(),r=Z(H);r||X(le,"<el-tabs><tab-nav /></el-tabs>");const t=I("tabs"),s=Ee(),E=Se(),b=N(),y=N(),v=N(),m=N(),f=N(!1),l=N(0),B=N(!1),S=N(!0),$=F(()=>["top","bottom"].includes(r.props.tabPosition)?"width":"height"),o=F(()=>({transform:`translate${$.value==="width"?"X":"Y"}(-${l.value}px)`})),_=()=>{if(!b.value)return;const i=b.value[`offset${O($.value)}`],u=l.value;if(!u)return;const n=u>i?u-i:0;l.value=n},C=()=>{if(!b.value||!y.value)return;const i=y.value[`offset${O($.value)}`],u=b.value[`offset${O($.value)}`],n=l.value;if(i-n<=u)return;const T=i-n>u*2?n+u:i-u;l.value=T},z=async()=>{const i=y.value;if(!f.value||!v.value||!b.value||!i)return;await ee();const u=v.value.querySelector(".is-active");if(!u)return;const n=b.value,T=["top","bottom"].includes(r.props.tabPosition),w=u.getBoundingClientRect(),g=n.getBoundingClientRect(),x=T?i.offsetWidth-g.width:i.offsetHeight-g.height,P=l.value;let p=P;T?(w.left<g.left&&(p=P-(g.left-w.left)),w.right>g.right&&(p=P+w.right-g.right)):(w.top<g.top&&(p=P-(g.top-w.top)),w.bottom>g.bottom&&(p=P+(w.bottom-g.bottom))),p=Math.max(p,0),l.value=Math.min(p,x)},M=()=>{var i;if(!y.value||!b.value)return;e.stretch&&((i=m.value)==null||i.update());const u=y.value[`offset${O($.value)}`],n=b.value[`offset${O($.value)}`],T=l.value;n<u?(f.value=f.value||{},f.value.prev=T,f.value.next=T+n<u,u-T<n&&(l.value=u-n)):(f.value=!1,T>0&&(l.value=0))},he=i=>{const u=i.code,{up:n,down:T,left:w,right:g}=L;if(![n,T,w,g].includes(u))return;const x=Array.from(i.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),P=x.indexOf(i.target);let p;u===w||u===n?P===0?p=x.length-1:p=P-1:P<x.length-1?p=P+1:p=0,x[p].focus({preventScroll:!0}),x[p].click(),se()},se=()=>{S.value&&(B.value=!0)},q=()=>B.value=!1;return R(s,i=>{i==="hidden"?S.value=!1:i==="visible"&&setTimeout(()=>S.value=!0,50)}),R(E,i=>{i?setTimeout(()=>S.value=!0,50):S.value=!1}),ie(v,M),ue(()=>setTimeout(()=>z(),0)),Oe(()=>M()),a({scrollToActiveTab:z,removeFocus:q}),R(()=>e.panes,()=>h.update(),{flush:"post",deep:!0}),()=>{const i=f.value?[c("span",{class:[t.e("nav-prev"),t.is("disabled",!f.value.prev)],onClick:_},[c(D,null,{default:()=>[c(Ne,null,null)]})]),c("span",{class:[t.e("nav-next"),t.is("disabled",!f.value.next)],onClick:C},[c(D,null,{default:()=>[c(Ce,null,null)]})])]:null,u=e.panes.map((n,T)=>{var w,g,x,P;const p=n.uid,W=n.props.disabled,Y=(g=(w=n.props.name)!=null?w:n.index)!=null?g:`${T}`,j=!W&&(n.isClosable||e.editable);n.index=`${T}`;const _e=j?c(D,{class:"is-icon-close",onClick:A=>d("tabRemove",n,A)},{default:()=>[c(Te,null,null)]}):null,ye=((P=(x=n.slots).label)==null?void 0:P.call(x))||n.props.label,ge=!W&&n.active?0:-1;return c("div",{ref:`tab-${p}`,class:[t.e("item"),t.is(r.props.tabPosition),t.is("active",n.active),t.is("disabled",W),t.is("closable",j),t.is("focus",B.value)],id:`tab-${Y}`,key:`tab-${p}`,"aria-controls":`pane-${Y}`,role:"tab","aria-selected":n.active,tabindex:ge,onFocus:()=>se(),onBlur:()=>q(),onClick:A=>{q(),d("tabClick",n,Y,A)},onKeydown:A=>{j&&(A.code===L.delete||A.code===L.backspace)&&d("tabRemove",n,A)}},[ye,_e])});return c("div",{ref:v,class:[t.e("nav-wrap"),t.is("scrollable",!!f.value),t.is(r.props.tabPosition)]},[i,c("div",{class:t.e("nav-scroll"),ref:b},[c("div",{class:[t.e("nav"),t.is(r.props.tabPosition),t.is("stretch",e.stretch&&["top","bottom"].includes(r.props.tabPosition))],ref:y,style:o.value,role:"tablist",onKeydown:he},[e.type?null:c(Qe,{ref:m,tabs:[...e.panes]},null),u])])])}}}),at=U({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:[String,Number]},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:Q(Function),default:()=>!0},stretch:Boolean}),J=e=>ze(e)||Ae(e),st={[fe]:e=>J(e),tabClick:(e,a)=>a instanceof Event,tabChange:e=>J(e),edit:(e,a)=>["remove","add"].includes(a),tabRemove:e=>J(e),tabAdd:()=>!0};var ot=V({name:"ElTabs",props:at,emits:st,setup(e,{emit:a,slots:d,expose:h}){var r,t;const s=I("tabs"),{children:E,addChild:b,removeChild:y}=je(K(),"ElTabPane"),v=N(),m=N((t=(r=e.modelValue)!=null?r:e.activeName)!=null?t:"0"),f=o=>{m.value=o,a(fe,o),a("tabChange",o)},l=async o=>{var _,C,z;if(!(m.value===o||ne(o)))try{await((_=e.beforeLeave)==null?void 0:_.call(e,o,m.value))!==!1&&(f(o),(z=(C=v.value)==null?void 0:C.removeFocus)==null||z.call(C))}catch{}},B=(o,_,C)=>{o.props.disabled||(l(_),a("tabClick",o,C))},S=(o,_)=>{o.props.disabled||ne(o.props.name)||(_.stopPropagation(),a("edit",o.props.name,"remove"),a("tabRemove",o.props.name))},$=()=>{a("edit",void 0,"add"),a("tabAdd")};return We({from:'"activeName"',replacement:'"model-value" or "v-model"',scope:"ElTabs",version:"2.3.0",ref:"https://element-plus.org/en-US/component/tabs.html#attributes",type:"Attribute"},F(()=>!!e.activeName)),R(()=>e.activeName,o=>l(o)),R(()=>e.modelValue,o=>l(o)),R(m,async()=>{var o;await ee(),(o=v.value)==null||o.scrollToActiveTab()}),Re(H,{props:e,currentName:m,registerPane:b,unregisterPane:y}),h({currentName:m}),()=>{const o=e.editable||e.addable?c("span",{class:s.e("new-tab"),tabindex:"0",onClick:$,onKeydown:z=>{z.code===L.enter&&$()}},[c(D,{class:s.is("icon-plus")},{default:()=>[c(we,null,null)]})]):null,_=c("div",{class:[s.e("header"),s.is(e.tabPosition)]},[o,c(tt,{ref:v,currentName:m.value,editable:e.editable,type:e.type,panes:E.value,stretch:e.stretch,onTabClick:B,onTabRemove:S},null)]),C=c("div",{class:s.e("content")},[de(d,"default")]);return c("div",{class:[s.b(),s.m(e.tabPosition),{[s.m("card")]:e.type==="card",[s.m("border-card")]:e.type==="border-card"}]},[...e.tabPosition!=="bottom"?[_,C]:[C,_]])}}});const nt=U({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),lt=["id","aria-hidden","aria-labelledby"],me="ElTabPane",rt=V({name:me}),it=V({...rt,props:nt,setup(e){const a=e,d=K(),h=Ve(),r=Z(H);r||X(me,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const t=I("tab-pane"),s=N(),E=F(()=>a.closable||r.props.closable),b=oe(()=>{var l;return r.currentName.value===((l=a.name)!=null?l:s.value)}),y=N(b.value),v=F(()=>{var l;return(l=a.name)!=null?l:s.value}),m=oe(()=>!a.lazy||y.value||b.value);R(b,l=>{l&&(y.value=!0)});const f=Fe({uid:d.uid,slots:h,props:a,paneName:v,active:b,index:s,isClosable:E});return ue(()=>{r.registerPane(f)}),Me(()=>{r.unregisterPane(f.uid)}),(l,B)=>k(m)?De((te(),ae("div",{key:0,id:`pane-${k(v)}`,class:ce(k(t).b()),role:"tabpanel","aria-hidden":!k(b),"aria-labelledby":`tab-${k(v)}`},[de(l.$slots,"default")],10,lt)),[[Le,k(b)]]):Ue("v-if",!0)}});var pe=re(it,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]);const ct=Ie(ot,{TabPane:pe}),ut=Ke(pe);const dt={class:"app-container"},Ht=V({__name:"index",setup(e){const a=N("first");return(d,h)=>{const r=ut,t=ct;return te(),ae("div",dt,[c(t,{modelValue:k(a),"onUpdate:modelValue":h[0]||(h[0]=s=>He(a)?a.value=s:null),type:"border-card"},{default:G(()=>[c(r,{label:"配置",name:"first"},{default:G(()=>[c(Pe)]),_:1}),c(r,{label:"素材1",name:"second"},{default:G(()=>[c($e)]),_:1})]),_:1},8,["modelValue"])])}}});export{Ht as default};
