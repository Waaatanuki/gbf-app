import{U as Je,V as Xe,W as qt,X as z,Y as Nt,Z as ye,x as ke,$ as ne,a0 as Zt,y as Jt,d as De,a1 as Rt,a2 as Re,D as Pe,C as Ze,g as q,s as R,P as Oe,v as xe,Q as Ft,a3 as Xt,a4 as Ma,e,a5 as Pa,O as Mt,o as P,l as fe,w as G,J as C,n as Lt,K as Ne,a6 as me,a7 as dt,a8 as oe,c as U,b as K,L as ft,q as re,a9 as Qt,M as Le,aa as mt,ab as Ta,N as Va,F as pe,k as ge,j as Fe,ac as $a,G as Ye,a as I,ad as Oa,ae as xa,af as Ia,ag as Ya,ah as rt,ai as ea,aj as ta,ak as ut,T as lt,al as pt,am as Pt,an as gt,ao as vt,ap as aa,h as na,t as Ra,i as Ea,p as Aa,m as Na,E as Fa,_ as La}from"./index-6a2b1576.js";import{E as Ba,a as Ua}from"./el-form-item-5a5fe321.js";import{E as Ka,a as Wa}from"./el-col-2a437d9e.js";import{E as za,T as Ha}from"./el-popper-c359da55.js";import{E as qe}from"./el-input-ab39d7d0.js";import{d as ja,C as Tt}from"./el-tag-3302509c.js";import{a as Vt,E as Ga}from"./el-select-0b907822.js";import{E as ht}from"./el-button-780eb880.js";import{E as qa}from"./el-message-49ea1bc4.js";import{f as Za}from"./flatten-418eaab5.js";import{E as be}from"./aria-60e0cdc6.js";import{c as Ja,u as Xa,a as Qa}from"./use-form-item-d01a88c6.js";import{i as en}from"./isEqual-7112910e.js";import"./castArray-f00fbbeb.js";import"./_baseClone-deb93217.js";import"./_Uint8Array-cc6f4f21.js";import"./_initCloneObject-160f4115.js";import"./typescript-defaf979.js";import"./focus-trap-5ab0cad2.js";import"./event-9519ab40.js";import"./strings-3f546f18.js";import"./index-a0c9406f.js";import"./scroll-902f1f09.js";import"./validator-9095178d.js";const tn=["year","month","date","dates","week","datetime","datetimerange","daterange","monthrange"],at=s=>!s&&s!==0?[]:Array.isArray(s)?s:[s];var la={exports:{}};(function(s,r){(function(n,a){s.exports=a()})(Je,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},a=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d\d/,b=/\d\d?/,g=/\d*[^-_:/,()\s\d]+/,S={},_=function(o){return(o=+o)+(o>68?1900:2e3)},k=function(o){return function(h){this[o]=+h}},M=[/[+-]\d\d:?(\d\d)?|Z/,function(o){(this.zone||(this.zone={})).offset=function(h){if(!h||h==="Z")return 0;var y=h.match(/([+-]|\d\d)/g),u=60*y[1]+(+y[2]||0);return u===0?0:y[0]==="+"?-u:u}(o)}],m=function(o){var h=S[o];return h&&(h.indexOf?h:h.s.concat(h.f))},f=function(o,h){var y,u=S.meridiem;if(u){for(var L=1;L<=24;L+=1)if(o.indexOf(u(L,0,h))>-1){y=L>12;break}}else y=o===(h?"pm":"PM");return y},v={A:[g,function(o){this.afternoon=f(o,!1)}],a:[g,function(o){this.afternoon=f(o,!0)}],S:[/\d/,function(o){this.milliseconds=100*+o}],SS:[i,function(o){this.milliseconds=10*+o}],SSS:[/\d{3}/,function(o){this.milliseconds=+o}],s:[b,k("seconds")],ss:[b,k("seconds")],m:[b,k("minutes")],mm:[b,k("minutes")],H:[b,k("hours")],h:[b,k("hours")],HH:[b,k("hours")],hh:[b,k("hours")],D:[b,k("day")],DD:[i,k("day")],Do:[g,function(o){var h=S.ordinal,y=o.match(/\d+/);if(this.day=y[0],h)for(var u=1;u<=31;u+=1)h(u).replace(/\[|\]/g,"")===o&&(this.day=u)}],M:[b,k("month")],MM:[i,k("month")],MMM:[g,function(o){var h=m("months"),y=(m("monthsShort")||h.map(function(u){return u.slice(0,3)})).indexOf(o)+1;if(y<1)throw new Error;this.month=y%12||y}],MMMM:[g,function(o){var h=m("months").indexOf(o)+1;if(h<1)throw new Error;this.month=h%12||h}],Y:[/[+-]?\d+/,k("year")],YY:[i,function(o){this.year=_(o)}],YYYY:[/\d{4}/,k("year")],Z:M,ZZ:M};function p(o){var h,y;h=o,y=S&&S.formats;for(var u=(o=h.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(Y,J,Z){var ae=Z&&Z.toUpperCase();return J||y[Z]||n[Z]||y[ae].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(W,te,de){return te||de.slice(1)})})).match(a),L=u.length,T=0;T<L;T+=1){var B=u[T],N=v[B],$=N&&N[0],O=N&&N[1];u[T]=O?{regex:$,parser:O}:B.replace(/^\[|\]$/g,"")}return function(Y){for(var J={},Z=0,ae=0;Z<L;Z+=1){var W=u[Z];if(typeof W=="string")ae+=W.length;else{var te=W.regex,de=W.parser,he=Y.slice(ae),H=te.exec(he)[0];de.call(J,H),Y=Y.replace(H,"")}}return function(F){var l=F.afternoon;if(l!==void 0){var d=F.hours;l?d<12&&(F.hours+=12):d===12&&(F.hours=0),delete F.afternoon}}(J),J}}return function(o,h,y){y.p.customParseFormat=!0,o&&o.parseTwoDigitYear&&(_=o.parseTwoDigitYear);var u=h.prototype,L=u.parse;u.parse=function(T){var B=T.date,N=T.utc,$=T.args;this.$u=N;var O=$[1];if(typeof O=="string"){var Y=$[2]===!0,J=$[3]===!0,Z=Y||J,ae=$[2];J&&(ae=$[2]),S=this.$locale(),!Y&&ae&&(S=y.Ls[ae]),this.$d=function(he,H,F){try{if(["x","X"].indexOf(H)>-1)return new Date((H==="X"?1e3:1)*he);var l=p(H)(he),d=l.year,w=l.month,V=l.day,j=l.hours,Q=l.minutes,le=l.seconds,ue=l.milliseconds,ie=l.zone,Se=new Date,_e=V||(d||w?1:Se.getDate()),Ee=d||Se.getFullYear(),Te=0;d&&!w||(Te=w>0?w-1:Se.getMonth());var ve=j||0,Ce=Q||0,Me=le||0,$e=ue||0;return ie?new Date(Date.UTC(Ee,Te,_e,ve,Ce,Me,$e+60*ie.offset*1e3)):F?new Date(Date.UTC(Ee,Te,_e,ve,Ce,Me,$e)):new Date(Ee,Te,_e,ve,Ce,Me,$e)}catch{return new Date("")}}(B,O,N),this.init(),ae&&ae!==!0&&(this.$L=this.locale(ae).$L),Z&&B!=this.format(O)&&(this.$d=new Date("")),S={}}else if(O instanceof Array)for(var W=O.length,te=1;te<=W;te+=1){$[1]=O[te-1];var de=y.apply(this,$);if(de.isValid()){this.$d=de.$d,this.$L=de.$L,this.init();break}te===W&&(this.$d=new Date(""))}else L.call(this,T)}}})})(la);var an=la.exports;const sa=Xe(an),Bt=["hours","minutes","seconds"],Ut="HH:mm:ss",st="YYYY-MM-DD",nn={date:st,dates:st,week:"gggg[w]ww",year:"YYYY",month:"YYYY-MM",datetime:`${st} ${Ut}`,monthrange:"YYYY-MM",daterange:st,datetimerange:`${st} ${Ut}`},Dt=(s,r)=>[s>0?s-1:void 0,s,s<r?s+1:void 0],oa=s=>Array.from(Array.from({length:s}).keys()),ra=s=>s.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),ua=s=>s.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),Kt=function(s,r){const n=Nt(s),a=Nt(r);return n&&a?s.getTime()===r.getTime():!n&&!a?s===r:!1},Wt=function(s,r){const n=ye(s),a=ye(r);return n&&a?s.length!==r.length?!1:s.every((i,b)=>Kt(i,r[b])):!n&&!a?Kt(s,r):!1},zt=function(s,r,n){const a=qt(r)||r==="x"?z(s).locale(n):z(s,r).locale(n);return a.isValid()?a:void 0},Ht=function(s,r,n){return qt(r)?s:r==="x"?+s:z(s).locale(n).format(r)},St=(s,r)=>{var n;const a=[],i=r==null?void 0:r();for(let b=0;b<s;b++)a.push((n=i==null?void 0:i.includes(b))!=null?n:!1);return a},ia=ke({disabledHours:{type:ne(Function)},disabledMinutes:{type:ne(Function)},disabledSeconds:{type:ne(Function)}}),ln=ke({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),ca=ke({id:{type:ne([Array,String])},name:{type:ne([Array,String]),default:""},popperClass:{type:String,default:""},format:String,valueFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:ne([String,Object]),default:Zt},editable:{type:Boolean,default:!0},prefixIcon:{type:ne([String,Object]),default:""},size:Jt,readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},popperOptions:{type:ne(Object),default:()=>({})},modelValue:{type:ne([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:ne([Date,Array])},defaultTime:{type:ne([Date,Array])},isRange:{type:Boolean,default:!1},...ia,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:{type:Boolean,default:!1},label:{type:String,default:void 0},tabindex:{type:ne([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean}),sn=["id","name","placeholder","value","disabled","readonly"],on=["id","name","placeholder","value","disabled","readonly"],rn=De({name:"Picker"}),un=De({...rn,props:ca,emits:["update:modelValue","change","focus","blur","calendar-change","panel-change","visible-change","keydown"],setup(s,{expose:r,emit:n}){const a=s,i=Rt(),{lang:b}=Re(),g=Pe("date"),S=Pe("input"),_=Pe("range"),{form:k,formItem:M}=Ja(),m=Ze("ElPopperOptions",{}),f=q(),v=q(),p=q(!1),o=q(!1),h=q(null);let y=!1,u=!1;const L=R(()=>[g.b("editor"),g.bm("editor",a.type),S.e("wrapper"),g.is("disabled",V.value),g.is("active",p.value),_.b("editor"),Ke?_.bm("editor",Ke.value):"",i.class]),T=R(()=>[S.e("icon"),_.e("close-icon"),_e.value?"":_.e("close-icon--hidden")]);Oe(p,t=>{t?xe(()=>{t&&(h.value=a.modelValue)}):(ee.value=null,xe(()=>{B(a.modelValue)}))});const B=(t,x)=>{(x||!Wt(t,h.value))&&(n("change",t),a.validateEvent&&(M==null||M.validate("change").catch(X=>Ft())))},N=t=>{if(!Wt(a.modelValue,t)){let x;ye(t)?x=t.map(X=>Ht(X,a.valueFormat,b.value)):t&&(x=Ht(t,a.valueFormat,b.value)),n("update:modelValue",t&&x,b.value)}},$=t=>{n("keydown",t)},O=R(()=>{if(v.value){const t=we.value?v.value:v.value.$el;return Array.from(t.querySelectorAll("input"))}return[]}),Y=(t,x,X)=>{const ce=O.value;ce.length&&(!X||X==="min"?(ce[0].setSelectionRange(t,x),ce[0].focus()):X==="max"&&(ce[1].setSelectionRange(t,x),ce[1].focus()))},J=()=>{F(!0,!0),xe(()=>{u=!1})},Z=(t="",x=!1)=>{x||(u=!0),p.value=x;let X;ye(t)?X=t.map(ce=>ce.toDate()):X=t&&t.toDate(),ee.value=null,N(X)},ae=()=>{o.value=!0},W=()=>{n("visible-change",!0)},te=t=>{(t==null?void 0:t.key)===be.esc&&F(!0,!0)},de=()=>{o.value=!1,p.value=!1,u=!1,n("visible-change",!1)},he=()=>{p.value=!0},H=()=>{p.value=!1},F=(t=!0,x=!1)=>{u=x;const[X,ce]=e(O);let Ie=X;!t&&we.value&&(Ie=ce),Ie&&Ie.focus()},l=t=>{a.readonly||V.value||p.value||u||(p.value=!0,n("focus",t))};let d;const w=t=>{const x=async()=>{setTimeout(()=>{var X;d===x&&(!((X=f.value)!=null&&X.isFocusInsideContent()&&!y)&&O.value.filter(ce=>ce.contains(document.activeElement)).length===0&&(Qe(),p.value=!1,n("blur",t),a.validateEvent&&(M==null||M.validate("blur").catch(ce=>Ft()))),y=!1)},0)};d=x,x()},V=R(()=>a.disabled||(k==null?void 0:k.disabled)),j=R(()=>{let t;if(Te.value?c.value.getDefaultValue&&(t=c.value.getDefaultValue()):ye(a.modelValue)?t=a.modelValue.map(x=>zt(x,a.valueFormat,b.value)):t=zt(a.modelValue,a.valueFormat,b.value),c.value.getRangeAvailableTime){const x=c.value.getRangeAvailableTime(t);en(x,t)||(t=x,N(ye(t)?t.map(X=>X.toDate()):t.toDate()))}return ye(t)&&t.some(x=>!x)&&(t=[]),t}),Q=R(()=>{if(!c.value.panelReady)return"";const t=ze(j.value);return ye(ee.value)?[ee.value[0]||t&&t[0]||"",ee.value[1]||t&&t[1]||""]:ee.value!==null?ee.value:!ue.value&&Te.value||!p.value&&Te.value?"":t?ie.value?t.join(", "):t:""}),le=R(()=>a.type.includes("time")),ue=R(()=>a.type.startsWith("time")),ie=R(()=>a.type==="dates"),Se=R(()=>a.prefixIcon||(le.value?Xt:Ma)),_e=q(!1),Ee=t=>{a.readonly||V.value||_e.value&&(t.stopPropagation(),J(),N(null),B(null,!0),_e.value=!1,p.value=!1,c.value.handleClear&&c.value.handleClear())},Te=R(()=>{const{modelValue:t}=a;return!t||ye(t)&&!t.filter(Boolean).length}),ve=async t=>{var x;a.readonly||V.value||(((x=t.target)==null?void 0:x.tagName)!=="INPUT"||O.value.includes(document.activeElement))&&(p.value=!0)},Ce=()=>{a.readonly||V.value||!Te.value&&a.clearable&&(_e.value=!0)},Me=()=>{_e.value=!1},$e=t=>{var x;a.readonly||V.value||(((x=t.touches[0].target)==null?void 0:x.tagName)!=="INPUT"||O.value.includes(document.activeElement))&&(p.value=!0)},we=R(()=>a.type.includes("range")),Ke=Xa(),nt=R(()=>{var t,x;return(x=(t=e(f))==null?void 0:t.popperRef)==null?void 0:x.contentRef}),Ve=R(()=>{var t;return e(we)?e(v):(t=e(v))==null?void 0:t.$el});Pa(Ve,t=>{const x=e(nt),X=e(Ve);x&&(t.target===x||t.composedPath().includes(x))||t.target===X||t.composedPath().includes(X)||(p.value=!1)});const ee=q(null),Qe=()=>{if(ee.value){const t=We(Q.value);t&&Be(t)&&(N(ye(t)?t.map(x=>x.toDate()):t.toDate()),ee.value=null)}ee.value===""&&(N(null),B(null),ee.value=null)},We=t=>t?c.value.parseUserInput(t):null,ze=t=>t?c.value.formatToString(t):null,Be=t=>c.value.isValidValue(t),et=async t=>{if(a.readonly||V.value)return;const{code:x}=t;if($(t),x===be.esc){p.value===!0&&(p.value=!1,t.preventDefault(),t.stopPropagation());return}if(x===be.down&&(c.value.handleFocusPicker&&(t.preventDefault(),t.stopPropagation()),p.value===!1&&(p.value=!0,await xe()),c.value.handleFocusPicker)){c.value.handleFocusPicker();return}if(x===be.tab){y=!0;return}if(x===be.enter||x===be.numpadEnter){(ee.value===null||ee.value===""||Be(We(Q.value)))&&(Qe(),p.value=!1),t.stopPropagation();return}if(ee.value){t.stopPropagation();return}c.value.handleKeydownInput&&c.value.handleKeydownInput(t)},He=t=>{ee.value=t,p.value||(p.value=!0)},je=t=>{const x=t.target;ee.value?ee.value=[x.value,ee.value[1]]:ee.value=[x.value,null]},it=t=>{const x=t.target;ee.value?ee.value=[ee.value[0],x.value]:ee.value=[null,x.value]},tt=()=>{var t;const x=ee.value,X=We(x&&x[0]),ce=e(j);if(X&&X.isValid()){ee.value=[ze(X),((t=Q.value)==null?void 0:t[1])||null];const Ie=[X,ce&&(ce[1]||null)];Be(Ie)&&(N(Ie),ee.value=null)}},Ge=()=>{var t;const x=e(ee),X=We(x&&x[1]),ce=e(j);if(X&&X.isValid()){ee.value=[((t=e(Q))==null?void 0:t[0])||null,ze(X)];const Ie=[ce&&ce[0],X];Be(Ie)&&(N(Ie),ee.value=null)}},c=q({}),E=t=>{c.value[t[0]]=t[1],c.value.panelReady=!0},D=t=>{n("calendar-change",t)},A=(t,x,X)=>{n("panel-change",t,x,X)};return Mt("EP_PICKER_BASE",{props:a}),r({focus:F,handleFocusInput:l,handleBlurInput:w,handleOpen:he,handleClose:H,onPick:Z}),(t,x)=>(P(),fe(e(za),Qt({ref_key:"refPopper",ref:f,visible:p.value,effect:"light",pure:"",trigger:"click"},t.$attrs,{role:"dialog",teleported:"",transition:`${e(g).namespace.value}-zoom-in-top`,"popper-class":[`${e(g).namespace.value}-picker__popper`,t.popperClass],"popper-options":e(m),"fallback-placements":["bottom","top","right","left"],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:ae,onShow:W,onHide:de}),{default:G(()=>[e(we)?(P(),U("div",{key:1,ref_key:"inputRef",ref:v,class:C(e(L)),style:Lt(t.$attrs.style),onClick:l,onMouseenter:Ce,onMouseleave:Me,onTouchstart:$e,onKeydown:et},[e(Se)?(P(),fe(e(me),{key:0,class:C([e(S).e("icon"),e(_).e("icon")]),onMousedown:Ne(ve,["prevent"]),onTouchstart:$e},{default:G(()=>[(P(),fe(dt(e(Se))))]),_:1},8,["class","onMousedown"])):oe("v-if",!0),K("input",{id:t.id&&t.id[0],autocomplete:"off",name:t.name&&t.name[0],placeholder:t.startPlaceholder,value:e(Q)&&e(Q)[0],disabled:e(V),readonly:!t.editable||t.readonly,class:C(e(_).b("input")),onMousedown:ve,onInput:je,onChange:tt,onFocus:l,onBlur:w},null,42,sn),ft(t.$slots,"range-separator",{},()=>[K("span",{class:C(e(_).b("separator"))},re(t.rangeSeparator),3)]),K("input",{id:t.id&&t.id[1],autocomplete:"off",name:t.name&&t.name[1],placeholder:t.endPlaceholder,value:e(Q)&&e(Q)[1],disabled:e(V),readonly:!t.editable||t.readonly,class:C(e(_).b("input")),onMousedown:ve,onFocus:l,onBlur:w,onInput:it,onChange:Ge},null,42,on),t.clearIcon?(P(),fe(e(me),{key:1,class:C(e(T)),onClick:Ee},{default:G(()=>[(P(),fe(dt(t.clearIcon)))]),_:1},8,["class"])):oe("v-if",!0)],38)):(P(),fe(e(qe),{key:0,id:t.id,ref_key:"inputRef",ref:v,"container-role":"combobox","model-value":e(Q),name:t.name,size:e(Ke),disabled:e(V),placeholder:t.placeholder,class:C([e(g).b("editor"),e(g).bm("editor",t.type),t.$attrs.class]),style:Lt(t.$attrs.style),readonly:!t.editable||t.readonly||e(ie)||t.type==="week",label:t.label,tabindex:t.tabindex,"validate-event":!1,onInput:He,onFocus:l,onBlur:w,onKeydown:et,onChange:Qe,onMousedown:ve,onMouseenter:Ce,onMouseleave:Me,onTouchstart:$e,onClick:x[0]||(x[0]=Ne(()=>{},["stop"]))},{prefix:G(()=>[e(Se)?(P(),fe(e(me),{key:0,class:C(e(S).e("icon")),onMousedown:Ne(ve,["prevent"]),onTouchstart:$e},{default:G(()=>[(P(),fe(dt(e(Se))))]),_:1},8,["class","onMousedown"])):oe("v-if",!0)]),suffix:G(()=>[_e.value&&t.clearIcon?(P(),fe(e(me),{key:0,class:C(`${e(S).e("icon")} clear-icon`),onClick:Ne(Ee,["stop"])},{default:G(()=>[(P(),fe(dt(t.clearIcon)))]),_:1},8,["class","onClick"])):oe("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","label","tabindex","onKeydown"]))]),content:G(()=>[ft(t.$slots,"default",{visible:p.value,actualVisible:o.value,parsedValue:e(j),format:t.format,unlinkPanels:t.unlinkPanels,type:t.type,defaultValue:t.defaultValue,onPick:Z,onSelectRange:Y,onSetPickerOption:E,onCalendarChange:D,onPanelChange:A,onKeydown:te,onMousedown:x[1]||(x[1]=Ne(()=>{},["stop"]))})]),_:3},16,["visible","transition","popper-class","popper-options"]))}});var cn=Le(un,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/common/picker.vue"]]);const dn=ke({...ln,datetimeRole:String,parsedValue:{type:ne(Object)}}),fn=({getAvailableHours:s,getAvailableMinutes:r,getAvailableSeconds:n})=>{const a=(g,S,_,k)=>{const M={hour:s,minute:r,second:n};let m=g;return["hour","minute","second"].forEach(f=>{if(M[f]){let v;const p=M[f];switch(f){case"minute":{v=p(m.hour(),S,k);break}case"second":{v=p(m.hour(),m.minute(),S,k);break}default:{v=p(S,k);break}}if(v!=null&&v.length&&!v.includes(m[f]())){const o=_?0:v.length-1;m=m[f](v[o])}}}),m},i={};return{timePickerOptions:i,getAvailableTime:a,onSetOption:([g,S])=>{i[g]=S}}},_t=s=>{const r=(a,i)=>a||i,n=a=>a!==!0;return s.map(r).filter(n)},da=(s,r,n)=>({getHoursList:(g,S)=>St(24,s&&(()=>s==null?void 0:s(g,S))),getMinutesList:(g,S,_)=>St(60,r&&(()=>r==null?void 0:r(g,S,_))),getSecondsList:(g,S,_,k)=>St(60,n&&(()=>n==null?void 0:n(g,S,_,k)))}),mn=(s,r,n)=>{const{getHoursList:a,getMinutesList:i,getSecondsList:b}=da(s,r,n);return{getAvailableHours:(k,M)=>_t(a(k,M)),getAvailableMinutes:(k,M,m)=>_t(i(k,M,m)),getAvailableSeconds:(k,M,m,f)=>_t(b(k,M,m,f))}},pn=s=>{const r=q(s.parsedValue);return Oe(()=>s.visible,n=>{n||(r.value=s.parsedValue)}),r},vn=100,hn=600,jt={beforeMount(s,r){const n=r.value,{interval:a=vn,delay:i=hn}=mt(n)?{}:n;let b,g;const S=()=>mt(n)?n():n.handler(),_=()=>{g&&(clearTimeout(g),g=void 0),b&&(clearInterval(b),b=void 0)};s.addEventListener("mousedown",k=>{k.button===0&&(_(),S(),document.addEventListener("mouseup",()=>_(),{once:!0}),g=setTimeout(()=>{b=setInterval(()=>{S()},a)},i))})}},bn=ke({role:{type:String,required:!0},spinnerDate:{type:ne(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:ne(String),default:""},...ia}),yn=["onClick"],gn=["onMouseenter"],kn=De({__name:"basic-time-spinner",props:bn,emits:["change","select-range","set-option"],setup(s,{emit:r}){const n=s,a=Pe("time"),{getHoursList:i,getMinutesList:b,getSecondsList:g}=da(n.disabledHours,n.disabledMinutes,n.disabledSeconds);let S=!1;const _=q(),k=q(),M=q(),m=q(),f={hours:k,minutes:M,seconds:m},v=R(()=>n.showSeconds?Bt:Bt.slice(0,2)),p=R(()=>{const{spinnerDate:l}=n,d=l.hour(),w=l.minute(),V=l.second();return{hours:d,minutes:w,seconds:V}}),o=R(()=>{const{hours:l,minutes:d}=e(p);return{hours:i(n.role),minutes:b(l,n.role),seconds:g(l,d,n.role)}}),h=R(()=>{const{hours:l,minutes:d,seconds:w}=e(p);return{hours:Dt(l,23),minutes:Dt(d,59),seconds:Dt(w,59)}}),y=ja(l=>{S=!1,T(l)},200),u=l=>{if(!!!n.amPmMode)return"";const w=n.amPmMode==="A";let V=l<12?" am":" pm";return w&&(V=V.toUpperCase()),V},L=l=>{let d;switch(l){case"hours":d=[0,2];break;case"minutes":d=[3,5];break;case"seconds":d=[6,8];break}const[w,V]=d;r("select-range",w,V),_.value=l},T=l=>{$(l,e(p)[l])},B=()=>{T("hours"),T("minutes"),T("seconds")},N=l=>l.querySelector(`.${a.namespace.value}-scrollbar__wrap`),$=(l,d)=>{if(n.arrowControl)return;const w=e(f[l]);w&&w.$el&&(N(w.$el).scrollTop=Math.max(0,d*O(l)))},O=l=>{const d=e(f[l]),w=d==null?void 0:d.$el.querySelector("li");return w&&Number.parseFloat(Ta(w,"height"))||0},Y=()=>{Z(1)},J=()=>{Z(-1)},Z=l=>{_.value||L("hours");const d=_.value,w=e(p)[d],V=_.value==="hours"?24:60,j=ae(d,w,l,V);W(d,j),$(d,j),xe(()=>L(d))},ae=(l,d,w,V)=>{let j=(d+w+V)%V;const Q=e(o)[l];for(;Q[j]&&j!==d;)j=(j+w+V)%V;return j},W=(l,d)=>{if(e(o)[l][d])return;const{hours:j,minutes:Q,seconds:le}=e(p);let ue;switch(l){case"hours":ue=n.spinnerDate.hour(d).minute(Q).second(le);break;case"minutes":ue=n.spinnerDate.hour(j).minute(d).second(le);break;case"seconds":ue=n.spinnerDate.hour(j).minute(Q).second(d);break}r("change",ue)},te=(l,{value:d,disabled:w})=>{w||(W(l,d),L(l),$(l,d))},de=l=>{S=!0,y(l);const d=Math.min(Math.round((N(e(f[l]).$el).scrollTop-(he(l)*.5-10)/O(l)+3)/O(l)),l==="hours"?23:59);W(l,d)},he=l=>e(f[l]).$el.offsetHeight,H=()=>{const l=d=>{const w=e(f[d]);w&&w.$el&&(N(w.$el).onscroll=()=>{de(d)})};l("hours"),l("minutes"),l("seconds")};Va(()=>{xe(()=>{!n.arrowControl&&H(),B(),n.role==="start"&&L("hours")})});const F=(l,d)=>{f[d].value=l};return r("set-option",[`${n.role}_scrollDown`,Z]),r("set-option",[`${n.role}_emitSelectRange`,L]),Oe(()=>n.spinnerDate,()=>{S||B()}),(l,d)=>(P(),U("div",{class:C([e(a).b("spinner"),{"has-seconds":l.showSeconds}])},[l.arrowControl?oe("v-if",!0):(P(!0),U(pe,{key:0},ge(e(v),w=>(P(),fe(e($a),{key:w,ref_for:!0,ref:V=>F(V,w),class:C(e(a).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":e(a).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:V=>L(w),onMousemove:V=>T(w)},{default:G(()=>[(P(!0),U(pe,null,ge(e(o)[w],(V,j)=>(P(),U("li",{key:j,class:C([e(a).be("spinner","item"),e(a).is("active",j===e(p)[w]),e(a).is("disabled",V)]),onClick:Q=>te(w,{value:j,disabled:V})},[w==="hours"?(P(),U(pe,{key:0},[Fe(re(("0"+(l.amPmMode?j%12||12:j)).slice(-2))+re(u(j)),1)],64)):(P(),U(pe,{key:1},[Fe(re(("0"+j).slice(-2)),1)],64))],10,yn))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),l.arrowControl?(P(!0),U(pe,{key:1},ge(e(v),w=>(P(),U("div",{key:w,class:C([e(a).be("spinner","wrapper"),e(a).is("arrow")]),onMouseenter:V=>L(w)},[Ye((P(),fe(e(me),{class:C(["arrow-up",e(a).be("spinner","arrow")])},{default:G(()=>[I(e(Oa))]),_:1},8,["class"])),[[e(jt),J]]),Ye((P(),fe(e(me),{class:C(["arrow-down",e(a).be("spinner","arrow")])},{default:G(()=>[I(e(xa))]),_:1},8,["class"])),[[e(jt),Y]]),K("ul",{class:C(e(a).be("spinner","list"))},[(P(!0),U(pe,null,ge(e(h)[w],(V,j)=>(P(),U("li",{key:j,class:C([e(a).be("spinner","item"),e(a).is("active",V===e(p)[w]),e(a).is("disabled",e(o)[w][V])])},[typeof V=="number"?(P(),U(pe,{key:0},[w==="hours"?(P(),U(pe,{key:0},[Fe(re(("0"+(l.amPmMode?V%12||12:V)).slice(-2))+re(u(V)),1)],64)):(P(),U(pe,{key:1},[Fe(re(("0"+V).slice(-2)),1)],64))],64)):oe("v-if",!0)],2))),128))],2)],42,gn))),128)):oe("v-if",!0)],2))}});var wn=Le(kn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/basic-time-spinner.vue"]]);const Dn=De({__name:"panel-time-pick",props:dn,emits:["pick","select-range","set-picker-option"],setup(s,{emit:r}){const n=s,a=Ze("EP_PICKER_BASE"),{arrowControl:i,disabledHours:b,disabledMinutes:g,disabledSeconds:S,defaultValue:_}=a.props,{getAvailableHours:k,getAvailableMinutes:M,getAvailableSeconds:m}=mn(b,g,S),f=Pe("time"),{t:v,lang:p}=Re(),o=q([0,2]),h=pn(n),y=R(()=>Ia(n.actualVisible)?`${f.namespace.value}-zoom-in-top`:""),u=R(()=>n.format.includes("ss")),L=R(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),T=F=>{const l=z(F).locale(p.value),d=te(l);return l.isSame(d)},B=()=>{r("pick",h.value,!1)},N=(F=!1,l=!1)=>{l||r("pick",n.parsedValue,F)},$=F=>{if(!n.visible)return;const l=te(F).millisecond(0);r("pick",l,!0)},O=(F,l)=>{r("select-range",F,l),o.value=[F,l]},Y=F=>{const l=[0,3].concat(u.value?[6]:[]),d=["hours","minutes"].concat(u.value?["seconds"]:[]),V=(l.indexOf(o.value[0])+F+l.length)%l.length;Z.start_emitSelectRange(d[V])},J=F=>{const l=F.code,{left:d,right:w,up:V,down:j}=be;if([d,w].includes(l)){Y(l===d?-1:1),F.preventDefault();return}if([V,j].includes(l)){const Q=l===V?-1:1;Z.start_scrollDown(Q),F.preventDefault();return}},{timePickerOptions:Z,onSetOption:ae,getAvailableTime:W}=fn({getAvailableHours:k,getAvailableMinutes:M,getAvailableSeconds:m}),te=F=>W(F,n.datetimeRole||"",!0),de=F=>F?z(F,n.format).locale(p.value):null,he=F=>F?F.format(n.format):null,H=()=>z(_).locale(p.value);return r("set-picker-option",["isValidValue",T]),r("set-picker-option",["formatToString",he]),r("set-picker-option",["parseUserInput",de]),r("set-picker-option",["handleKeydownInput",J]),r("set-picker-option",["getRangeAvailableTime",te]),r("set-picker-option",["getDefaultValue",H]),(F,l)=>(P(),fe(Ya,{name:e(y)},{default:G(()=>[F.actualVisible||F.visible?(P(),U("div",{key:0,class:C(e(f).b("panel"))},[K("div",{class:C([e(f).be("panel","content"),{"has-seconds":e(u)}])},[I(wn,{ref:"spinner",role:F.datetimeRole||"start","arrow-control":e(i),"show-seconds":e(u),"am-pm-mode":e(L),"spinner-date":F.parsedValue,"disabled-hours":e(b),"disabled-minutes":e(g),"disabled-seconds":e(S),onChange:$,onSetOption:e(ae),onSelectRange:O},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),K("div",{class:C(e(f).be("panel","footer"))},[K("button",{type:"button",class:C([e(f).be("panel","btn"),"cancel"]),onClick:B},re(e(v)("el.datepicker.cancel")),3),K("button",{type:"button",class:C([e(f).be("panel","btn"),"confirm"]),onClick:l[0]||(l[0]=d=>N())},re(e(v)("el.datepicker.confirm")),3)],2)],2)):oe("v-if",!0)]),_:1},8,["name"]))}});var $t=Le(Dn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-pick.vue"]]),fa={exports:{}};(function(s,r){(function(n,a){s.exports=a()})(Je,function(){return function(n,a,i){var b=a.prototype,g=function(m){return m&&(m.indexOf?m:m.s)},S=function(m,f,v,p,o){var h=m.name?m:m.$locale(),y=g(h[f]),u=g(h[v]),L=y||u.map(function(B){return B.slice(0,p)});if(!o)return L;var T=h.weekStart;return L.map(function(B,N){return L[(N+(T||0))%7]})},_=function(){return i.Ls[i.locale()]},k=function(m,f){return m.formats[f]||function(v){return v.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(p,o,h){return o||h.slice(1)})}(m.formats[f.toUpperCase()])},M=function(){var m=this;return{months:function(f){return f?f.format("MMMM"):S(m,"months")},monthsShort:function(f){return f?f.format("MMM"):S(m,"monthsShort","months",3)},firstDayOfWeek:function(){return m.$locale().weekStart||0},weekdays:function(f){return f?f.format("dddd"):S(m,"weekdays")},weekdaysMin:function(f){return f?f.format("dd"):S(m,"weekdaysMin","weekdays",2)},weekdaysShort:function(f){return f?f.format("ddd"):S(m,"weekdaysShort","weekdays",3)},longDateFormat:function(f){return k(m.$locale(),f)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};b.localeData=function(){return M.bind(this)()},i.localeData=function(){var m=_();return{firstDayOfWeek:function(){return m.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(f){return k(m,f)},meridiem:m.meridiem,ordinal:m.ordinal}},i.months=function(){return S(_(),"months")},i.monthsShort=function(){return S(_(),"monthsShort","months",3)},i.weekdays=function(m){return S(_(),"weekdays",null,null,m)},i.weekdaysShort=function(m){return S(_(),"weekdaysShort","weekdays",3,m)},i.weekdaysMin=function(m){return S(_(),"weekdaysMin","weekdays",2,m)}}})})(fa);var Sn=fa.exports;const _n=Xe(Sn);var ma={exports:{}};(function(s,r){(function(n,a){s.exports=a()})(Je,function(){return function(n,a){var i=a.prototype,b=i.format;i.format=function(g){var S=this,_=this.$locale();if(!this.isValid())return b.bind(this)(g);var k=this.$utils(),M=(g||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(m){switch(m){case"Q":return Math.ceil((S.$M+1)/3);case"Do":return _.ordinal(S.$D);case"gggg":return S.weekYear();case"GGGG":return S.isoWeekYear();case"wo":return _.ordinal(S.week(),"W");case"w":case"ww":return k.s(S.week(),m==="w"?1:2,"0");case"W":case"WW":return k.s(S.isoWeek(),m==="W"?1:2,"0");case"k":case"kk":return k.s(String(S.$H===0?24:S.$H),m==="k"?1:2,"0");case"X":return Math.floor(S.$d.getTime()/1e3);case"x":return S.$d.getTime();case"z":return"["+S.offsetName()+"]";case"zzz":return"["+S.offsetName("long")+"]";default:return m}});return b.bind(this)(M)}}})})(ma);var Cn=ma.exports;const Mn=Xe(Cn);var pa={exports:{}};(function(s,r){(function(n,a){s.exports=a()})(Je,function(){var n="week",a="year";return function(i,b,g){var S=b.prototype;S.week=function(_){if(_===void 0&&(_=null),_!==null)return this.add(7*(_-this.week()),"day");var k=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var M=g(this).startOf(a).add(1,a).date(k),m=g(this).endOf(n);if(M.isBefore(m))return 1}var f=g(this).startOf(a).date(k).startOf(n).subtract(1,"millisecond"),v=this.diff(f,n,!0);return v<0?g(this).startOf("week").week():Math.ceil(v)},S.weeks=function(_){return _===void 0&&(_=null),this.week(_)}}})})(pa);var Pn=pa.exports;const Tn=Xe(Pn);var va={exports:{}};(function(s,r){(function(n,a){s.exports=a()})(Je,function(){return function(n,a){a.prototype.weekYear=function(){var i=this.month(),b=this.week(),g=this.year();return b===1&&i===11?g+1:i===0&&b>=52?g-1:g}}})})(va);var Vn=va.exports;const $n=Xe(Vn);var ha={exports:{}};(function(s,r){(function(n,a){s.exports=a()})(Je,function(){return function(n,a,i){a.prototype.dayOfYear=function(b){var g=Math.round((i(this).startOf("day")-i(this).startOf("year"))/864e5)+1;return b==null?g:this.add(b-g,"day")}}})})(ha);var On=ha.exports;const xn=Xe(On);var ba={exports:{}};(function(s,r){(function(n,a){s.exports=a()})(Je,function(){return function(n,a){a.prototype.isSameOrAfter=function(i,b){return this.isSame(i,b)||this.isAfter(i,b)}}})})(ba);var In=ba.exports;const Yn=Xe(In);var ya={exports:{}};(function(s,r){(function(n,a){s.exports=a()})(Je,function(){return function(n,a){a.prototype.isSameOrBefore=function(i,b){return this.isSame(i,b)||this.isBefore(i,b)}}})})(ya);var Rn=ya.exports;const En=Xe(Rn),Et=Symbol(),An=ke({...ca,type:{type:ne(String),default:"date"}}),Nn=["date","dates","year","month","week","range"],At=ke({disabledDate:{type:ne(Function)},date:{type:ne(Object),required:!0},minDate:{type:ne(Object)},maxDate:{type:ne(Object)},parsedValue:{type:ne([Object,Array])},rangeState:{type:ne(Object),default:()=>({endDate:null,selecting:!1})}}),ga=ke({type:{type:ne(String),required:!0,values:tn}}),ka=ke({unlinkPanels:Boolean,parsedValue:{type:ne(Array)}}),wa=s=>({type:String,values:Nn,default:s}),Fn=ke({...ga,parsedValue:{type:ne([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),Ln=ke({...At,cellClassName:{type:ne(Function)},showWeekNumber:Boolean,selectionMode:wa("date")}),Bn=["changerange","pick","select"],Ot=s=>{if(!ye(s))return!1;const[r,n]=s;return z.isDayjs(r)&&z.isDayjs(n)&&r.isSameOrBefore(n)},Da=(s,{lang:r,unit:n,unlinkPanels:a})=>{let i;if(ye(s)){let[b,g]=s.map(S=>z(S).locale(r));return a||(g=b.add(1,n)),[b,g]}else s?i=z(s):i=z();return i=i.locale(r),[i,i.add(1,n)]},Un=(s,r,{columnIndexOffset:n,startDate:a,nextEndDate:i,now:b,unit:g,relativeDateGetter:S,setCellMetadata:_,setRowMetadata:k})=>{for(let M=0;M<s.row;M++){const m=r[M];for(let f=0;f<s.column;f++){let v=m[f+n];v||(v={row:M,column:f,type:"normal",inRange:!1,start:!1,end:!1});const p=M*s.column+f,o=S(p);v.dayjs=o,v.date=o.toDate(),v.timestamp=o.valueOf(),v.type="normal",v.inRange=!!(a&&o.isSameOrAfter(a,g)&&i&&o.isSameOrBefore(i,g))||!!(a&&o.isSameOrBefore(a,g)&&i&&o.isSameOrAfter(i,g)),a!=null&&a.isSameOrAfter(i)?(v.start=!!i&&o.isSame(i,g),v.end=a&&o.isSame(a,g)):(v.start=!!a&&o.isSame(a,g),v.end=!!i&&o.isSame(i,g)),o.isSame(b,g)&&(v.type="today"),_==null||_(v,{rowIndex:M,columnIndex:f}),m[f+n]=v}k==null||k(m)}},xt=(s="")=>["normal","today"].includes(s),Kn=(s,r)=>{const{lang:n}=Re(),a=q(),i=q(),b=q(),g=q(),S=q([[],[],[],[],[],[]]);let _=!1;const k=s.date.$locale().weekStart||7,M=s.date.locale("en").localeData().weekdaysShort().map(l=>l.toLowerCase()),m=R(()=>k>3?7-k:-k),f=R(()=>{const l=s.date.startOf("month");return l.subtract(l.day()||7,"day")}),v=R(()=>M.concat(M).slice(k,k+7)),p=R(()=>Za(e(T)).some(l=>l.isCurrent)),o=R(()=>{const l=s.date.startOf("month"),d=l.day()||7,w=l.daysInMonth(),V=l.subtract(1,"month").daysInMonth();return{startOfMonthDay:d,dateCountOfMonth:w,dateCountOfLastMonth:V}}),h=R(()=>s.selectionMode==="dates"?at(s.parsedValue):[]),y=(l,{count:d,rowIndex:w,columnIndex:V})=>{const{startOfMonthDay:j,dateCountOfMonth:Q,dateCountOfLastMonth:le}=e(o),ue=e(m);if(w>=0&&w<=1){const ie=j+ue<0?7+j+ue:j+ue;if(V+w*7>=ie)return l.text=d,!0;l.text=le-(ie-V%7)+1+w*7,l.type="prev-month"}else return d<=Q?l.text=d:(l.text=d-Q,l.type="next-month"),!0;return!1},u=(l,{columnIndex:d,rowIndex:w},V)=>{const{disabledDate:j,cellClassName:Q}=s,le=e(h),ue=y(l,{count:V,rowIndex:w,columnIndex:d}),ie=l.dayjs.toDate();return l.selected=le.find(Se=>Se.valueOf()===l.dayjs.valueOf()),l.isSelected=!!l.selected,l.isCurrent=N(l),l.disabled=j==null?void 0:j(ie),l.customClass=Q==null?void 0:Q(ie),ue},L=l=>{if(s.selectionMode==="week"){const[d,w]=s.showWeekNumber?[1,7]:[0,6],V=F(l[d+1]);l[d].inRange=V,l[d].start=V,l[w].inRange=V,l[w].end=V}},T=R(()=>{const{minDate:l,maxDate:d,rangeState:w,showWeekNumber:V}=s,j=e(m),Q=e(S),le="day";let ue=1;if(V)for(let ie=0;ie<6;ie++)Q[ie][0]||(Q[ie][0]={type:"week",text:e(f).add(ie*7+1,le).week()});return Un({row:6,column:7},Q,{startDate:l,columnIndexOffset:V?1:0,nextEndDate:w.endDate||d||w.selecting&&l||null,now:z().locale(e(n)).startOf(le),unit:le,relativeDateGetter:ie=>e(f).add(ie-j,le),setCellMetadata:(...ie)=>{u(...ie,ue)&&(ue+=1)},setRowMetadata:L}),Q});Oe(()=>s.date,async()=>{var l;(l=e(a))!=null&&l.contains(document.activeElement)&&(await xe(),await B())});const B=async()=>{var l;return(l=e(i))==null?void 0:l.focus()},N=l=>s.selectionMode==="date"&&xt(l.type)&&$(l,s.parsedValue),$=(l,d)=>d?z(d).locale(e(n)).isSame(s.date.date(Number(l.text)),"day"):!1,O=(l,d)=>{const w=l*7+(d-(s.showWeekNumber?1:0))-e(m);return e(f).add(w,"day")},Y=l=>{var d;if(!s.rangeState.selecting)return;let w=l.target;if(w.tagName==="SPAN"&&(w=(d=w.parentNode)==null?void 0:d.parentNode),w.tagName==="DIV"&&(w=w.parentNode),w.tagName!=="TD")return;const V=w.parentNode.rowIndex-1,j=w.cellIndex;e(T)[V][j].disabled||(V!==e(b)||j!==e(g))&&(b.value=V,g.value=j,r("changerange",{selecting:!0,endDate:O(V,j)}))},J=l=>!e(p)&&(l==null?void 0:l.text)===1&&l.type==="normal"||l.isCurrent,Z=l=>{_||e(p)||s.selectionMode!=="date"||H(l,!0)},ae=l=>{l.target.closest("td")&&(_=!0)},W=l=>{l.target.closest("td")&&(_=!1)},te=l=>{!s.rangeState.selecting||!s.minDate?(r("pick",{minDate:l,maxDate:null}),r("select",!0)):(l>=s.minDate?r("pick",{minDate:s.minDate,maxDate:l}):r("pick",{minDate:l,maxDate:s.minDate}),r("select",!1))},de=l=>{const d=l.week(),w=`${l.year()}w${d}`;r("pick",{year:l.year(),week:d,value:w,date:l.startOf("week")})},he=(l,d)=>{const w=d?at(s.parsedValue).filter(V=>(V==null?void 0:V.valueOf())!==l.valueOf()):at(s.parsedValue).concat([l]);r("pick",w)},H=(l,d=!1)=>{const w=l.target.closest("td");if(!w)return;const V=w.parentNode.rowIndex-1,j=w.cellIndex,Q=e(T)[V][j];if(Q.disabled||Q.type==="week")return;const le=O(V,j);switch(s.selectionMode){case"range":{te(le);break}case"date":{r("pick",le,d);break}case"week":{de(le);break}case"dates":{he(le,!!Q.selected);break}}},F=l=>{if(s.selectionMode!=="week")return!1;let d=s.date.startOf("day");if(l.type==="prev-month"&&(d=d.subtract(1,"month")),l.type==="next-month"&&(d=d.add(1,"month")),d=d.date(Number.parseInt(l.text,10)),s.parsedValue&&!Array.isArray(s.parsedValue)){const w=(s.parsedValue.day()-k+7)%7-1;return s.parsedValue.subtract(w,"day").isSame(d,"day")}return!1};return{WEEKS:v,rows:T,tbodyRef:a,currentCellRef:i,focus:B,isCurrent:N,isWeekActive:F,isSelectedCell:J,handlePickDate:H,handleMouseUp:W,handleMouseDown:ae,handleMouseMove:Y,handleFocus:Z}},Wn=(s,{isCurrent:r,isWeekActive:n})=>{const a=Pe("date-table"),{t:i}=Re(),b=R(()=>[a.b(),{"is-week-mode":s.selectionMode==="week"}]),g=R(()=>i("el.datepicker.dateTablePrompt")),S=R(()=>i("el.datepicker.week"));return{tableKls:b,tableLabel:g,weekLabel:S,getCellClasses:M=>{const m=[];return xt(M.type)&&!M.disabled?(m.push("available"),M.type==="today"&&m.push("today")):m.push(M.type),r(M)&&m.push("current"),M.inRange&&(xt(M.type)||s.selectionMode==="week")&&(m.push("in-range"),M.start&&m.push("start-date"),M.end&&m.push("end-date")),M.disabled&&m.push("disabled"),M.selected&&m.push("selected"),M.customClass&&m.push(M.customClass),m.join(" ")},getRowKls:M=>[a.e("row"),{current:n(M)}],t:i}},zn=ke({cell:{type:ne(Object)}});var Hn=De({name:"ElDatePickerCell",props:zn,setup(s){const r=Pe("date-table-cell"),{slots:n}=Ze(Et);return()=>{const{cell:a}=s;if(n.default){const i=n.default(a).filter(b=>b.patchFlag!==-2&&b.type.toString()!=="Symbol(Comment)");if(i.length)return i}return I("div",{class:r.b()},[I("span",{class:r.e("text")},[a==null?void 0:a.text])])}}});const jn=["aria-label"],Gn={key:0,scope:"col"},qn=["aria-label"],Zn=["aria-current","aria-selected","tabindex"],Jn=De({__name:"basic-date-table",props:Ln,emits:Bn,setup(s,{expose:r,emit:n}){const a=s,{WEEKS:i,rows:b,tbodyRef:g,currentCellRef:S,focus:_,isCurrent:k,isWeekActive:M,isSelectedCell:m,handlePickDate:f,handleMouseUp:v,handleMouseDown:p,handleMouseMove:o,handleFocus:h}=Kn(a,n),{tableLabel:y,tableKls:u,weekLabel:L,getCellClasses:T,getRowKls:B,t:N}=Wn(a,{isCurrent:k,isWeekActive:M});return r({focus:_}),($,O)=>(P(),U("table",{"aria-label":e(y),class:C(e(u)),cellspacing:"0",cellpadding:"0",role:"grid",onClick:O[1]||(O[1]=(...Y)=>e(f)&&e(f)(...Y)),onMousemove:O[2]||(O[2]=(...Y)=>e(o)&&e(o)(...Y)),onMousedown:O[3]||(O[3]=Ne((...Y)=>e(p)&&e(p)(...Y),["prevent"])),onMouseup:O[4]||(O[4]=(...Y)=>e(v)&&e(v)(...Y))},[K("tbody",{ref_key:"tbodyRef",ref:g},[K("tr",null,[$.showWeekNumber?(P(),U("th",Gn,re(e(L)),1)):oe("v-if",!0),(P(!0),U(pe,null,ge(e(i),(Y,J)=>(P(),U("th",{key:J,"aria-label":e(N)("el.datepicker.weeksFull."+Y),scope:"col"},re(e(N)("el.datepicker.weeks."+Y)),9,qn))),128))]),(P(!0),U(pe,null,ge(e(b),(Y,J)=>(P(),U("tr",{key:J,class:C(e(B)(Y[1]))},[(P(!0),U(pe,null,ge(Y,(Z,ae)=>(P(),U("td",{key:`${J}.${ae}`,ref_for:!0,ref:W=>e(m)(Z)&&(S.value=W),class:C(e(T)(Z)),"aria-current":Z.isCurrent?"date":void 0,"aria-selected":Z.isCurrent,tabindex:e(m)(Z)?0:-1,onFocus:O[0]||(O[0]=(...W)=>e(h)&&e(h)(...W))},[I(e(Hn),{cell:Z},null,8,["cell"])],42,Zn))),128))],2))),128))],512)],42,jn))}});var It=Le(Jn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-date-table.vue"]]);const Xn=ke({...At,selectionMode:wa("month")}),Qn=["aria-label"],el=["aria-selected","aria-label","tabindex","onKeydown"],tl={class:"cell"},al=De({__name:"basic-month-table",props:Xn,emits:["changerange","pick","select"],setup(s,{expose:r,emit:n}){const a=s,i=(T,B,N)=>{const $=z().locale(N).startOf("month").month(B).year(T),O=$.daysInMonth();return oa(O).map(Y=>$.add(Y,"day").toDate())},b=Pe("month-table"),{t:g,lang:S}=Re(),_=q(),k=q(),M=q(a.date.locale("en").localeData().monthsShort().map(T=>T.toLowerCase())),m=q([[],[],[]]),f=q(),v=q(),p=R(()=>{var T,B;const N=m.value,$=z().locale(S.value).startOf("month");for(let O=0;O<3;O++){const Y=N[O];for(let J=0;J<4;J++){const Z=Y[J]||(Y[J]={row:O,column:J,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});Z.type="normal";const ae=O*4+J,W=a.date.startOf("year").month(ae),te=a.rangeState.endDate||a.maxDate||a.rangeState.selecting&&a.minDate||null;Z.inRange=!!(a.minDate&&W.isSameOrAfter(a.minDate,"month")&&te&&W.isSameOrBefore(te,"month"))||!!(a.minDate&&W.isSameOrBefore(a.minDate,"month")&&te&&W.isSameOrAfter(te,"month")),(T=a.minDate)!=null&&T.isSameOrAfter(te)?(Z.start=!!(te&&W.isSame(te,"month")),Z.end=a.minDate&&W.isSame(a.minDate,"month")):(Z.start=!!(a.minDate&&W.isSame(a.minDate,"month")),Z.end=!!(te&&W.isSame(te,"month"))),$.isSame(W)&&(Z.type="today"),Z.text=ae,Z.disabled=((B=a.disabledDate)==null?void 0:B.call(a,W.toDate()))||!1}}return N}),o=()=>{var T;(T=k.value)==null||T.focus()},h=T=>{const B={},N=a.date.year(),$=new Date,O=T.text;return B.disabled=a.disabledDate?i(N,O,S.value).every(a.disabledDate):!1,B.current=at(a.parsedValue).findIndex(Y=>z.isDayjs(Y)&&Y.year()===N&&Y.month()===O)>=0,B.today=$.getFullYear()===N&&$.getMonth()===O,T.inRange&&(B["in-range"]=!0,T.start&&(B["start-date"]=!0),T.end&&(B["end-date"]=!0)),B},y=T=>{const B=a.date.year(),N=T.text;return at(a.date).findIndex($=>$.year()===B&&$.month()===N)>=0},u=T=>{var B;if(!a.rangeState.selecting)return;let N=T.target;if(N.tagName==="A"&&(N=(B=N.parentNode)==null?void 0:B.parentNode),N.tagName==="DIV"&&(N=N.parentNode),N.tagName!=="TD")return;const $=N.parentNode.rowIndex,O=N.cellIndex;p.value[$][O].disabled||($!==f.value||O!==v.value)&&(f.value=$,v.value=O,n("changerange",{selecting:!0,endDate:a.date.startOf("year").month($*4+O)}))},L=T=>{var B;const N=(B=T.target)==null?void 0:B.closest("td");if((N==null?void 0:N.tagName)!=="TD"||ea(N,"disabled"))return;const $=N.cellIndex,Y=N.parentNode.rowIndex*4+$,J=a.date.startOf("year").month(Y);a.selectionMode==="range"?a.rangeState.selecting?(a.minDate&&J>=a.minDate?n("pick",{minDate:a.minDate,maxDate:J}):n("pick",{minDate:J,maxDate:a.minDate}),n("select",!1)):(n("pick",{minDate:J,maxDate:null}),n("select",!0)):n("pick",Y)};return Oe(()=>a.date,async()=>{var T,B;(T=_.value)!=null&&T.contains(document.activeElement)&&(await xe(),(B=k.value)==null||B.focus())}),r({focus:o}),(T,B)=>(P(),U("table",{role:"grid","aria-label":e(g)("el.datepicker.monthTablePrompt"),class:C(e(b).b()),onClick:L,onMousemove:u},[K("tbody",{ref_key:"tbodyRef",ref:_},[(P(!0),U(pe,null,ge(e(p),(N,$)=>(P(),U("tr",{key:$},[(P(!0),U(pe,null,ge(N,(O,Y)=>(P(),U("td",{key:Y,ref_for:!0,ref:J=>y(O)&&(k.value=J),class:C(h(O)),"aria-selected":`${y(O)}`,"aria-label":e(g)(`el.datepicker.month${+O.text+1}`),tabindex:y(O)?0:-1,onKeydown:[rt(Ne(L,["prevent","stop"]),["space"]),rt(Ne(L,["prevent","stop"]),["enter"])]},[K("div",null,[K("span",tl,re(e(g)("el.datepicker.months."+M.value[O.text])),1)])],42,el))),128))]))),128))],512)],42,Qn))}});var Yt=Le(al,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-month-table.vue"]]);const{date:nl,disabledDate:ll,parsedValue:sl}=At,ol=ke({date:nl,disabledDate:ll,parsedValue:sl}),rl=["aria-label"],ul=["aria-selected","tabindex","onKeydown"],il={class:"cell"},cl={key:1},dl=De({__name:"basic-year-table",props:ol,emits:["pick"],setup(s,{expose:r,emit:n}){const a=s,i=(o,h)=>{const y=z(String(o)).locale(h).startOf("year"),L=y.endOf("year").dayOfYear();return oa(L).map(T=>y.add(T,"day").toDate())},b=Pe("year-table"),{t:g,lang:S}=Re(),_=q(),k=q(),M=R(()=>Math.floor(a.date.year()/10)*10),m=()=>{var o;(o=k.value)==null||o.focus()},f=o=>{const h={},y=z().locale(S.value);return h.disabled=a.disabledDate?i(o,S.value).every(a.disabledDate):!1,h.current=at(a.parsedValue).findIndex(u=>u.year()===o)>=0,h.today=y.year()===o,h},v=o=>o===M.value&&a.date.year()<M.value&&a.date.year()>M.value+9||at(a.date).findIndex(h=>h.year()===o)>=0,p=o=>{const y=o.target.closest("td");if(y&&y.textContent){if(ea(y,"disabled"))return;const u=y.textContent||y.innerText;n("pick",Number(u))}};return Oe(()=>a.date,async()=>{var o,h;(o=_.value)!=null&&o.contains(document.activeElement)&&(await xe(),(h=k.value)==null||h.focus())}),r({focus:m}),(o,h)=>(P(),U("table",{role:"grid","aria-label":e(g)("el.datepicker.yearTablePrompt"),class:C(e(b).b()),onClick:p},[K("tbody",{ref_key:"tbodyRef",ref:_},[(P(),U(pe,null,ge(3,(y,u)=>K("tr",{key:u},[(P(),U(pe,null,ge(4,(L,T)=>(P(),U(pe,{key:u+"_"+T},[u*4+T<10?(P(),U("td",{key:0,ref_for:!0,ref:B=>v(e(M)+u*4+T)&&(k.value=B),class:C(["available",f(e(M)+u*4+T)]),"aria-selected":`${v(e(M)+u*4+T)}`,tabindex:v(e(M)+u*4+T)?0:-1,onKeydown:[rt(Ne(p,["prevent","stop"]),["space"]),rt(Ne(p,["prevent","stop"]),["enter"])]},[K("span",il,re(e(M)+u*4+T),1)],42,ul)):(P(),U("td",cl))],64))),64))])),64))],512)],10,rl))}});var fl=Le(dl,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-year-table.vue"]]);const ml=["onClick"],pl=["aria-label"],vl=["aria-label"],hl=["aria-label"],bl=["aria-label"],yl=De({__name:"panel-date-pick",props:Fn,emits:["pick","set-picker-option","panel-change"],setup(s,{emit:r}){const n=s,a=(c,E,D)=>!0,i=Pe("picker-panel"),b=Pe("date-picker"),g=Rt(),S=ta(),{t:_,lang:k}=Re(),M=Ze("EP_PICKER_BASE"),m=Ze(Ha),{shortcuts:f,disabledDate:v,cellClassName:p,defaultTime:o}=M.props,h=ut(M.props,"defaultValue"),y=q(),u=q(z().locale(k.value)),L=q(!1);let T=!1;const B=R(()=>z(o).locale(k.value)),N=R(()=>u.value.month()),$=R(()=>u.value.year()),O=q([]),Y=q(null),J=q(null),Z=c=>O.value.length>0?a(c,O.value,n.format||"HH:mm:ss"):!0,ae=c=>o&&!Me.value&&!L.value&&!T?B.value.year(c.year()).month(c.month()).date(c.date()):ue.value?c.millisecond(0):c.startOf("day"),W=(c,...E)=>{if(!c)r("pick",c,...E);else if(ye(c)){const D=c.map(ae);r("pick",D,...E)}else r("pick",ae(c),...E);Y.value=null,J.value=null,L.value=!1,T=!1},te=(c,E)=>{if(d.value==="date"){c=c;let D=n.parsedValue?n.parsedValue.year(c.year()).month(c.month()).date(c.date()):c;Z(D)||(D=O.value[0][0].year(c.year()).month(c.month()).date(c.date())),u.value=D,W(D,ue.value||E)}else d.value==="week"?W(c.date):d.value==="dates"&&W(c,!0)},de=c=>{const E=c?"add":"subtract";u.value=u.value[E](1,"month"),Ge("month")},he=c=>{const E=u.value,D=c?"add":"subtract";u.value=H.value==="year"?E[D](10,"year"):E[D](1,"year"),Ge("year")},H=q("date"),F=R(()=>{const c=_("el.datepicker.year");if(H.value==="year"){const E=Math.floor($.value/10)*10;return c?`${E} ${c} - ${E+9} ${c}`:`${E} - ${E+9}`}return`${$.value} ${c}`}),l=c=>{const E=mt(c.value)?c.value():c.value;if(E){T=!0,W(z(E).locale(k.value));return}c.onClick&&c.onClick({attrs:g,slots:S,emit:r})},d=R(()=>{const{type:c}=n;return["week","month","year","dates"].includes(c)?c:"date"}),w=R(()=>d.value==="date"?H.value:d.value),V=R(()=>!!f.length),j=async c=>{u.value=u.value.startOf("month").month(c),d.value==="month"?W(u.value,!1):(H.value="date",["month","year","date","week"].includes(d.value)&&(W(u.value,!0),await xe(),je())),Ge("month")},Q=async c=>{d.value==="year"?(u.value=u.value.startOf("year").year(c),W(u.value,!1)):(u.value=u.value.year(c),H.value="month",["month","year","date","week"].includes(d.value)&&(W(u.value,!0),await xe(),je())),Ge("year")},le=async c=>{H.value=c,await xe(),je()},ue=R(()=>n.type==="datetime"||n.type==="datetimerange"),ie=R(()=>ue.value||d.value==="dates"),Se=R(()=>v?n.parsedValue?ye(n.parsedValue)?v(n.parsedValue[0].toDate()):v(n.parsedValue.toDate()):!0:!1),_e=()=>{if(d.value==="dates")W(n.parsedValue);else{let c=n.parsedValue;if(!c){const E=z(o).locale(k.value),D=He();c=E.year(D.year()).month(D.month()).date(D.date())}u.value=c,W(c)}},Ee=R(()=>v?v(z().locale(k.value).toDate()):!1),Te=()=>{const E=z().locale(k.value).toDate();L.value=!0,(!v||!v(E))&&Z(E)&&(u.value=z().locale(k.value),W(u.value))},ve=R(()=>ua(n.format)),Ce=R(()=>ra(n.format)),Me=R(()=>{if(J.value)return J.value;if(!(!n.parsedValue&&!h.value))return(n.parsedValue||u.value).format(ve.value)}),$e=R(()=>{if(Y.value)return Y.value;if(!(!n.parsedValue&&!h.value))return(n.parsedValue||u.value).format(Ce.value)}),we=q(!1),Ke=()=>{we.value=!0},nt=()=>{we.value=!1},Ve=c=>({hour:c.hour(),minute:c.minute(),second:c.second(),year:c.year(),month:c.month(),date:c.date()}),ee=(c,E,D)=>{const{hour:A,minute:t,second:x}=Ve(c),X=n.parsedValue?n.parsedValue.hour(A).minute(t).second(x):c;u.value=X,W(u.value,!0),D||(we.value=E)},Qe=c=>{const E=z(c,ve.value).locale(k.value);if(E.isValid()&&Z(E)){const{year:D,month:A,date:t}=Ve(u.value);u.value=E.year(D).month(A).date(t),J.value=null,we.value=!1,W(u.value,!0)}},We=c=>{const E=z(c,Ce.value).locale(k.value);if(E.isValid()){if(v&&v(E.toDate()))return;const{hour:D,minute:A,second:t}=Ve(u.value);u.value=E.hour(D).minute(A).second(t),Y.value=null,W(u.value,!0)}},ze=c=>z.isDayjs(c)&&c.isValid()&&(v?!v(c.toDate()):!0),Be=c=>d.value==="dates"?c.map(E=>E.format(n.format)):c.format(n.format),et=c=>z(c,n.format).locale(k.value),He=()=>{const c=z(h.value).locale(k.value);if(!h.value){const E=B.value;return z().hour(E.hour()).minute(E.minute()).second(E.second()).locale(k.value)}return c},je=async()=>{var c;["week","month","year","date"].includes(d.value)&&((c=y.value)==null||c.focus(),d.value==="week"&&tt(be.down))},it=c=>{const{code:E}=c;[be.up,be.down,be.left,be.right,be.home,be.end,be.pageUp,be.pageDown].includes(E)&&(tt(E),c.stopPropagation(),c.preventDefault()),[be.enter,be.space,be.numpadEnter].includes(E)&&Y.value===null&&J.value===null&&(c.preventDefault(),W(u.value,!1))},tt=c=>{var E;const{up:D,down:A,left:t,right:x,home:X,end:ce,pageUp:Ie,pageDown:_a}=be,Ca={year:{[D]:-4,[A]:4,[t]:-1,[x]:1,offset:(se,Ae)=>se.setFullYear(se.getFullYear()+Ae)},month:{[D]:-4,[A]:4,[t]:-1,[x]:1,offset:(se,Ae)=>se.setMonth(se.getMonth()+Ae)},week:{[D]:-1,[A]:1,[t]:-1,[x]:1,offset:(se,Ae)=>se.setDate(se.getDate()+Ae*7)},date:{[D]:-7,[A]:7,[t]:-1,[x]:1,[X]:se=>-se.getDay(),[ce]:se=>-se.getDay()+6,[Ie]:se=>-new Date(se.getFullYear(),se.getMonth(),0).getDate(),[_a]:se=>new Date(se.getFullYear(),se.getMonth()+1,0).getDate(),offset:(se,Ae)=>se.setDate(se.getDate()+Ae)}},ct=u.value.toDate();for(;Math.abs(u.value.diff(ct,"year",!0))<1;){const se=Ca[w.value];if(!se)return;if(se.offset(ct,mt(se[c])?se[c](ct):(E=se[c])!=null?E:0),v&&v(ct))break;const Ae=z(ct).locale(k.value);u.value=Ae,r("pick",Ae,!0);break}},Ge=c=>{r("panel-change",u.value.toDate(),c,H.value)};return Oe(()=>d.value,c=>{if(["month","year"].includes(c)){H.value=c;return}H.value="date"},{immediate:!0}),Oe(()=>H.value,()=>{m==null||m.updatePopper()}),Oe(()=>h.value,c=>{c&&(u.value=He())},{immediate:!0}),Oe(()=>n.parsedValue,c=>{if(c){if(d.value==="dates"||Array.isArray(c))return;u.value=c}else u.value=He()},{immediate:!0}),r("set-picker-option",["isValidValue",ze]),r("set-picker-option",["formatToString",Be]),r("set-picker-option",["parseUserInput",et]),r("set-picker-option",["handleFocusPicker",je]),(c,E)=>(P(),U("div",{class:C([e(i).b(),e(b).b(),{"has-sidebar":c.$slots.sidebar||e(V),"has-time":e(ue)}])},[K("div",{class:C(e(i).e("body-wrapper"))},[ft(c.$slots,"sidebar",{class:C(e(i).e("sidebar"))}),e(V)?(P(),U("div",{key:0,class:C(e(i).e("sidebar"))},[(P(!0),U(pe,null,ge(e(f),(D,A)=>(P(),U("button",{key:A,type:"button",class:C(e(i).e("shortcut")),onClick:t=>l(D)},re(D.text),11,ml))),128))],2)):oe("v-if",!0),K("div",{class:C(e(i).e("body"))},[e(ue)?(P(),U("div",{key:0,class:C(e(b).e("time-header"))},[K("span",{class:C(e(b).e("editor-wrap"))},[I(e(qe),{placeholder:e(_)("el.datepicker.selectDate"),"model-value":e($e),size:"small","validate-event":!1,onInput:E[0]||(E[0]=D=>Y.value=D),onChange:We},null,8,["placeholder","model-value"])],2),Ye((P(),U("span",{class:C(e(b).e("editor-wrap"))},[I(e(qe),{placeholder:e(_)("el.datepicker.selectTime"),"model-value":e(Me),size:"small","validate-event":!1,onFocus:Ke,onInput:E[1]||(E[1]=D=>J.value=D),onChange:Qe},null,8,["placeholder","model-value"]),I(e($t),{visible:we.value,format:e(ve),"parsed-value":u.value,onPick:ee},null,8,["visible","format","parsed-value"])],2)),[[e(Tt),nt]])],2)):oe("v-if",!0),Ye(K("div",{class:C([e(b).e("header"),(H.value==="year"||H.value==="month")&&e(b).e("header--bordered")])},[K("span",{class:C(e(b).e("prev-btn"))},[K("button",{type:"button","aria-label":e(_)("el.datepicker.prevYear"),class:C(["d-arrow-left",e(i).e("icon-btn")]),onClick:E[2]||(E[2]=D=>he(!1))},[I(e(me),null,{default:G(()=>[I(e(pt))]),_:1})],10,pl),Ye(K("button",{type:"button","aria-label":e(_)("el.datepicker.prevMonth"),class:C([e(i).e("icon-btn"),"arrow-left"]),onClick:E[3]||(E[3]=D=>de(!1))},[I(e(me),null,{default:G(()=>[I(e(Pt))]),_:1})],10,vl),[[lt,H.value==="date"]])],2),K("span",{role:"button",class:C(e(b).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:E[4]||(E[4]=rt(D=>le("year"),["enter"])),onClick:E[5]||(E[5]=D=>le("year"))},re(e(F)),35),Ye(K("span",{role:"button","aria-live":"polite",tabindex:"0",class:C([e(b).e("header-label"),{active:H.value==="month"}]),onKeydown:E[6]||(E[6]=rt(D=>le("month"),["enter"])),onClick:E[7]||(E[7]=D=>le("month"))},re(e(_)(`el.datepicker.month${e(N)+1}`)),35),[[lt,H.value==="date"]]),K("span",{class:C(e(b).e("next-btn"))},[Ye(K("button",{type:"button","aria-label":e(_)("el.datepicker.nextMonth"),class:C([e(i).e("icon-btn"),"arrow-right"]),onClick:E[8]||(E[8]=D=>de(!0))},[I(e(me),null,{default:G(()=>[I(e(gt))]),_:1})],10,hl),[[lt,H.value==="date"]]),K("button",{type:"button","aria-label":e(_)("el.datepicker.nextYear"),class:C([e(i).e("icon-btn"),"d-arrow-right"]),onClick:E[9]||(E[9]=D=>he(!0))},[I(e(me),null,{default:G(()=>[I(e(vt))]),_:1})],10,bl)],2)],2),[[lt,H.value!=="time"]]),K("div",{class:C(e(i).e("content")),onKeydown:it},[H.value==="date"?(P(),fe(It,{key:0,ref_key:"currentViewRef",ref:y,"selection-mode":e(d),date:u.value,"parsed-value":c.parsedValue,"disabled-date":e(v),"cell-class-name":e(p),onPick:te},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):oe("v-if",!0),H.value==="year"?(P(),fe(fl,{key:1,ref_key:"currentViewRef",ref:y,date:u.value,"disabled-date":e(v),"parsed-value":c.parsedValue,onPick:Q},null,8,["date","disabled-date","parsed-value"])):oe("v-if",!0),H.value==="month"?(P(),fe(Yt,{key:2,ref_key:"currentViewRef",ref:y,date:u.value,"parsed-value":c.parsedValue,"disabled-date":e(v),onPick:j},null,8,["date","parsed-value","disabled-date"])):oe("v-if",!0)],34)],2)],2),Ye(K("div",{class:C(e(i).e("footer"))},[Ye(I(e(ht),{text:"",size:"small",class:C(e(i).e("link-btn")),disabled:e(Ee),onClick:Te},{default:G(()=>[Fe(re(e(_)("el.datepicker.now")),1)]),_:1},8,["class","disabled"]),[[lt,e(d)!=="dates"]]),I(e(ht),{plain:"",size:"small",class:C(e(i).e("link-btn")),disabled:e(Se),onClick:_e},{default:G(()=>[Fe(re(e(_)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2),[[lt,e(ie)&&H.value==="date"]])],2))}});var gl=Le(yl,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-pick.vue"]]);const kl=ke({...ga,...ka}),wl=s=>{const{emit:r}=aa(),n=Rt(),a=ta();return b=>{const g=mt(b.value)?b.value():b.value;if(g){r("pick",[z(g[0]).locale(s.value),z(g[1]).locale(s.value)]);return}b.onClick&&b.onClick({attrs:n,slots:a,emit:r})}},Sa=(s,{defaultValue:r,leftDate:n,rightDate:a,unit:i,onParsedValueChanged:b})=>{const{emit:g}=aa(),{pickerNs:S}=Ze(Et),_=Pe("date-range-picker"),{t:k,lang:M}=Re(),m=wl(M),f=q(),v=q(),p=q({endDate:null,selecting:!1}),o=L=>{p.value=L},h=(L=!1)=>{const T=e(f),B=e(v);Ot([T,B])&&g("pick",[T,B],L)},y=L=>{p.value.selecting=L,L||(p.value.endDate=null)},u=()=>{const[L,T]=Da(e(r),{lang:e(M),unit:i,unlinkPanels:s.unlinkPanels});f.value=void 0,v.value=void 0,n.value=L,a.value=T};return Oe(r,L=>{L&&u()},{immediate:!0}),Oe(()=>s.parsedValue,L=>{if(ye(L)&&L.length===2){const[T,B]=L;f.value=T,n.value=T,v.value=B,b(e(f),e(v))}else u()},{immediate:!0}),{minDate:f,maxDate:v,rangeState:p,lang:M,ppNs:S,drpNs:_,handleChangeRange:o,handleRangeConfirm:h,handleShortcutClick:m,onSelect:y,t:k}},Dl=["onClick"],Sl=["aria-label"],_l=["aria-label"],Cl=["disabled","aria-label"],Ml=["disabled","aria-label"],Pl=["disabled","aria-label"],Tl=["disabled","aria-label"],Vl=["aria-label"],$l=["aria-label"],bt="month",Ol=De({__name:"panel-date-range",props:kl,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(s,{emit:r}){const n=s,a=Ze("EP_PICKER_BASE"),{disabledDate:i,cellClassName:b,format:g,defaultTime:S,clearable:_}=a.props,k=ut(a.props,"shortcuts"),M=ut(a.props,"defaultValue"),{lang:m}=Re(),f=q(z().locale(m.value)),v=q(z().locale(m.value).add(1,bt)),{minDate:p,maxDate:o,rangeState:h,ppNs:y,drpNs:u,handleChangeRange:L,handleRangeConfirm:T,handleShortcutClick:B,onSelect:N,t:$}=Sa(n,{defaultValue:M,leftDate:f,rightDate:v,unit:bt,onParsedValueChanged:E}),O=q({min:null,max:null}),Y=q({min:null,max:null}),J=R(()=>`${f.value.year()} ${$("el.datepicker.year")} ${$(`el.datepicker.month${f.value.month()+1}`)}`),Z=R(()=>`${v.value.year()} ${$("el.datepicker.year")} ${$(`el.datepicker.month${v.value.month()+1}`)}`),ae=R(()=>f.value.year()),W=R(()=>f.value.month()),te=R(()=>v.value.year()),de=R(()=>v.value.month()),he=R(()=>!!k.value.length),H=R(()=>O.value.min!==null?O.value.min:p.value?p.value.format(V.value):""),F=R(()=>O.value.max!==null?O.value.max:o.value||p.value?(o.value||p.value).format(V.value):""),l=R(()=>Y.value.min!==null?Y.value.min:p.value?p.value.format(w.value):""),d=R(()=>Y.value.max!==null?Y.value.max:o.value||p.value?(o.value||p.value).format(w.value):""),w=R(()=>ua(g)),V=R(()=>ra(g)),j=D=>Ot(D)&&(i?!i(D[0].toDate())&&!i(D[1].toDate()):!0),Q=()=>{f.value=f.value.subtract(1,"year"),n.unlinkPanels||(v.value=f.value.add(1,"month")),ve("year")},le=()=>{f.value=f.value.subtract(1,"month"),n.unlinkPanels||(v.value=f.value.add(1,"month")),ve("month")},ue=()=>{n.unlinkPanels?v.value=v.value.add(1,"year"):(f.value=f.value.add(1,"year"),v.value=f.value.add(1,"month")),ve("year")},ie=()=>{n.unlinkPanels?v.value=v.value.add(1,"month"):(f.value=f.value.add(1,"month"),v.value=f.value.add(1,"month")),ve("month")},Se=()=>{f.value=f.value.add(1,"year"),ve("year")},_e=()=>{f.value=f.value.add(1,"month"),ve("month")},Ee=()=>{v.value=v.value.subtract(1,"year"),ve("year")},Te=()=>{v.value=v.value.subtract(1,"month"),ve("month")},ve=D=>{r("panel-change",[f.value.toDate(),v.value.toDate()],D)},Ce=R(()=>{const D=(W.value+1)%12,A=W.value+1>=12?1:0;return n.unlinkPanels&&new Date(ae.value+A,D)<new Date(te.value,de.value)}),Me=R(()=>n.unlinkPanels&&te.value*12+de.value-(ae.value*12+W.value+1)>=12),$e=R(()=>!(p.value&&o.value&&!h.value.selecting&&Ot([p.value,o.value]))),we=R(()=>n.type==="datetime"||n.type==="datetimerange"),Ke=(D,A)=>{if(D)return S?z(S[A]||S).locale(m.value).year(D.year()).month(D.month()).date(D.date()):D},nt=(D,A=!0)=>{const t=D.minDate,x=D.maxDate,X=Ke(t,0),ce=Ke(x,1);o.value===ce&&p.value===X||(r("calendar-change",[t.toDate(),x&&x.toDate()]),o.value=ce,p.value=X,!(!A||we.value)&&T())},Ve=q(!1),ee=q(!1),Qe=()=>{Ve.value=!1},We=()=>{ee.value=!1},ze=(D,A)=>{O.value[A]=D;const t=z(D,V.value).locale(m.value);if(t.isValid()){if(i&&i(t.toDate()))return;A==="min"?(f.value=t,p.value=(p.value||f.value).year(t.year()).month(t.month()).date(t.date()),!n.unlinkPanels&&(!o.value||o.value.isBefore(p.value))&&(v.value=t.add(1,"month"),o.value=p.value.add(1,"month"))):(v.value=t,o.value=(o.value||v.value).year(t.year()).month(t.month()).date(t.date()),!n.unlinkPanels&&(!p.value||p.value.isAfter(o.value))&&(f.value=t.subtract(1,"month"),p.value=o.value.subtract(1,"month")))}},Be=(D,A)=>{O.value[A]=null},et=(D,A)=>{Y.value[A]=D;const t=z(D,w.value).locale(m.value);t.isValid()&&(A==="min"?(Ve.value=!0,p.value=(p.value||f.value).hour(t.hour()).minute(t.minute()).second(t.second()),(!o.value||o.value.isBefore(p.value))&&(o.value=p.value)):(ee.value=!0,o.value=(o.value||v.value).hour(t.hour()).minute(t.minute()).second(t.second()),v.value=o.value,o.value&&o.value.isBefore(p.value)&&(p.value=o.value)))},He=(D,A)=>{Y.value[A]=null,A==="min"?(f.value=p.value,Ve.value=!1):(v.value=o.value,ee.value=!1)},je=(D,A,t)=>{Y.value.min||(D&&(f.value=D,p.value=(p.value||f.value).hour(D.hour()).minute(D.minute()).second(D.second())),t||(Ve.value=A),(!o.value||o.value.isBefore(p.value))&&(o.value=p.value,v.value=D))},it=(D,A,t)=>{Y.value.max||(D&&(v.value=D,o.value=(o.value||v.value).hour(D.hour()).minute(D.minute()).second(D.second())),t||(ee.value=A),o.value&&o.value.isBefore(p.value)&&(p.value=o.value))},tt=()=>{f.value=Da(e(M),{lang:e(m),unit:"month",unlinkPanels:n.unlinkPanels})[0],v.value=f.value.add(1,"month"),r("pick",null)},Ge=D=>ye(D)?D.map(A=>A.format(g)):D.format(g),c=D=>ye(D)?D.map(A=>z(A,g).locale(m.value)):z(D,g).locale(m.value);function E(D,A){if(n.unlinkPanels&&A){const t=(D==null?void 0:D.year())||0,x=(D==null?void 0:D.month())||0,X=A.year(),ce=A.month();v.value=t===X&&x===ce?A.add(1,bt):A}else v.value=f.value.add(1,bt),A&&(v.value=v.value.hour(A.hour()).minute(A.minute()).second(A.second()))}return r("set-picker-option",["isValidValue",j]),r("set-picker-option",["parseUserInput",c]),r("set-picker-option",["formatToString",Ge]),r("set-picker-option",["handleClear",tt]),(D,A)=>(P(),U("div",{class:C([e(y).b(),e(u).b(),{"has-sidebar":D.$slots.sidebar||e(he),"has-time":e(we)}])},[K("div",{class:C(e(y).e("body-wrapper"))},[ft(D.$slots,"sidebar",{class:C(e(y).e("sidebar"))}),e(he)?(P(),U("div",{key:0,class:C(e(y).e("sidebar"))},[(P(!0),U(pe,null,ge(e(k),(t,x)=>(P(),U("button",{key:x,type:"button",class:C(e(y).e("shortcut")),onClick:X=>e(B)(t)},re(t.text),11,Dl))),128))],2)):oe("v-if",!0),K("div",{class:C(e(y).e("body"))},[e(we)?(P(),U("div",{key:0,class:C(e(u).e("time-header"))},[K("span",{class:C(e(u).e("editors-wrap"))},[K("span",{class:C(e(u).e("time-picker-wrap"))},[I(e(qe),{size:"small",disabled:e(h).selecting,placeholder:e($)("el.datepicker.startDate"),class:C(e(u).e("editor")),"model-value":e(H),"validate-event":!1,onInput:A[0]||(A[0]=t=>ze(t,"min")),onChange:A[1]||(A[1]=t=>Be(t,"min"))},null,8,["disabled","placeholder","class","model-value"])],2),Ye((P(),U("span",{class:C(e(u).e("time-picker-wrap"))},[I(e(qe),{size:"small",class:C(e(u).e("editor")),disabled:e(h).selecting,placeholder:e($)("el.datepicker.startTime"),"model-value":e(l),"validate-event":!1,onFocus:A[2]||(A[2]=t=>Ve.value=!0),onInput:A[3]||(A[3]=t=>et(t,"min")),onChange:A[4]||(A[4]=t=>He(t,"min"))},null,8,["class","disabled","placeholder","model-value"]),I(e($t),{visible:Ve.value,format:e(w),"datetime-role":"start","parsed-value":f.value,onPick:je},null,8,["visible","format","parsed-value"])],2)),[[e(Tt),Qe]])],2),K("span",null,[I(e(me),null,{default:G(()=>[I(e(gt))]),_:1})]),K("span",{class:C([e(u).e("editors-wrap"),"is-right"])},[K("span",{class:C(e(u).e("time-picker-wrap"))},[I(e(qe),{size:"small",class:C(e(u).e("editor")),disabled:e(h).selecting,placeholder:e($)("el.datepicker.endDate"),"model-value":e(F),readonly:!e(p),"validate-event":!1,onInput:A[5]||(A[5]=t=>ze(t,"max")),onChange:A[6]||(A[6]=t=>Be(t,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"])],2),Ye((P(),U("span",{class:C(e(u).e("time-picker-wrap"))},[I(e(qe),{size:"small",class:C(e(u).e("editor")),disabled:e(h).selecting,placeholder:e($)("el.datepicker.endTime"),"model-value":e(d),readonly:!e(p),"validate-event":!1,onFocus:A[7]||(A[7]=t=>e(p)&&(ee.value=!0)),onInput:A[8]||(A[8]=t=>et(t,"max")),onChange:A[9]||(A[9]=t=>He(t,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"]),I(e($t),{"datetime-role":"end",visible:ee.value,format:e(w),"parsed-value":v.value,onPick:it},null,8,["visible","format","parsed-value"])],2)),[[e(Tt),We]])],2)],2)):oe("v-if",!0),K("div",{class:C([[e(y).e("content"),e(u).e("content")],"is-left"])},[K("div",{class:C(e(u).e("header"))},[K("button",{type:"button",class:C([e(y).e("icon-btn"),"d-arrow-left"]),"aria-label":e($)("el.datepicker.prevYear"),onClick:Q},[I(e(me),null,{default:G(()=>[I(e(pt))]),_:1})],10,Sl),K("button",{type:"button",class:C([e(y).e("icon-btn"),"arrow-left"]),"aria-label":e($)("el.datepicker.prevMonth"),onClick:le},[I(e(me),null,{default:G(()=>[I(e(Pt))]),_:1})],10,_l),D.unlinkPanels?(P(),U("button",{key:0,type:"button",disabled:!e(Me),class:C([[e(y).e("icon-btn"),{"is-disabled":!e(Me)}],"d-arrow-right"]),"aria-label":e($)("el.datepicker.nextYear"),onClick:Se},[I(e(me),null,{default:G(()=>[I(e(vt))]),_:1})],10,Cl)):oe("v-if",!0),D.unlinkPanels?(P(),U("button",{key:1,type:"button",disabled:!e(Ce),class:C([[e(y).e("icon-btn"),{"is-disabled":!e(Ce)}],"arrow-right"]),"aria-label":e($)("el.datepicker.nextMonth"),onClick:_e},[I(e(me),null,{default:G(()=>[I(e(gt))]),_:1})],10,Ml)):oe("v-if",!0),K("div",null,re(e(J)),1)],2),I(It,{"selection-mode":"range",date:f.value,"min-date":e(p),"max-date":e(o),"range-state":e(h),"disabled-date":e(i),"cell-class-name":e(b),onChangerange:e(L),onPick:nt,onSelect:e(N)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),K("div",{class:C([[e(y).e("content"),e(u).e("content")],"is-right"])},[K("div",{class:C(e(u).e("header"))},[D.unlinkPanels?(P(),U("button",{key:0,type:"button",disabled:!e(Me),class:C([[e(y).e("icon-btn"),{"is-disabled":!e(Me)}],"d-arrow-left"]),"aria-label":e($)("el.datepicker.prevYear"),onClick:Ee},[I(e(me),null,{default:G(()=>[I(e(pt))]),_:1})],10,Pl)):oe("v-if",!0),D.unlinkPanels?(P(),U("button",{key:1,type:"button",disabled:!e(Ce),class:C([[e(y).e("icon-btn"),{"is-disabled":!e(Ce)}],"arrow-left"]),"aria-label":e($)("el.datepicker.prevMonth"),onClick:Te},[I(e(me),null,{default:G(()=>[I(e(Pt))]),_:1})],10,Tl)):oe("v-if",!0),K("button",{type:"button","aria-label":e($)("el.datepicker.nextYear"),class:C([e(y).e("icon-btn"),"d-arrow-right"]),onClick:ue},[I(e(me),null,{default:G(()=>[I(e(vt))]),_:1})],10,Vl),K("button",{type:"button",class:C([e(y).e("icon-btn"),"arrow-right"]),"aria-label":e($)("el.datepicker.nextMonth"),onClick:ie},[I(e(me),null,{default:G(()=>[I(e(gt))]),_:1})],10,$l),K("div",null,re(e(Z)),1)],2),I(It,{"selection-mode":"range",date:v.value,"min-date":e(p),"max-date":e(o),"range-state":e(h),"disabled-date":e(i),"cell-class-name":e(b),onChangerange:e(L),onPick:nt,onSelect:e(N)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),e(we)?(P(),U("div",{key:0,class:C(e(y).e("footer"))},[e(_)?(P(),fe(e(ht),{key:0,text:"",size:"small",class:C(e(y).e("link-btn")),onClick:tt},{default:G(()=>[Fe(re(e($)("el.datepicker.clear")),1)]),_:1},8,["class"])):oe("v-if",!0),I(e(ht),{plain:"",size:"small",class:C(e(y).e("link-btn")),disabled:e($e),onClick:A[10]||(A[10]=t=>e(T)(!1))},{default:G(()=>[Fe(re(e($)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2)):oe("v-if",!0)],2))}});var xl=Le(Ol,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-range.vue"]]);const Il=ke({...ka}),Yl=["pick","set-picker-option","calendar-change"],Rl=({unlinkPanels:s,leftDate:r,rightDate:n})=>{const{t:a}=Re(),i=()=>{r.value=r.value.subtract(1,"year"),s.value||(n.value=n.value.subtract(1,"year"))},b=()=>{s.value||(r.value=r.value.add(1,"year")),n.value=n.value.add(1,"year")},g=()=>{r.value=r.value.add(1,"year")},S=()=>{n.value=n.value.subtract(1,"year")},_=R(()=>`${r.value.year()} ${a("el.datepicker.year")}`),k=R(()=>`${n.value.year()} ${a("el.datepicker.year")}`),M=R(()=>r.value.year()),m=R(()=>n.value.year()===r.value.year()?r.value.year()+1:n.value.year());return{leftPrevYear:i,rightNextYear:b,leftNextYear:g,rightPrevYear:S,leftLabel:_,rightLabel:k,leftYear:M,rightYear:m}},El=["onClick"],Al=["disabled"],Nl=["disabled"],yt="year",Fl=De({name:"DatePickerMonthRange"}),Ll=De({...Fl,props:Il,emits:Yl,setup(s,{emit:r}){const n=s,{lang:a}=Re(),i=Ze("EP_PICKER_BASE"),{shortcuts:b,disabledDate:g,format:S}=i.props,_=ut(i.props,"defaultValue"),k=q(z().locale(a.value)),M=q(z().locale(a.value).add(1,yt)),{minDate:m,maxDate:f,rangeState:v,ppNs:p,drpNs:o,handleChangeRange:h,handleRangeConfirm:y,handleShortcutClick:u,onSelect:L}=Sa(n,{defaultValue:_,leftDate:k,rightDate:M,unit:yt,onParsedValueChanged:he}),T=R(()=>!!b.length),{leftPrevYear:B,rightNextYear:N,leftNextYear:$,rightPrevYear:O,leftLabel:Y,rightLabel:J,leftYear:Z,rightYear:ae}=Rl({unlinkPanels:ut(n,"unlinkPanels"),leftDate:k,rightDate:M}),W=R(()=>n.unlinkPanels&&ae.value>Z.value+1),te=(H,F=!0)=>{const l=H.minDate,d=H.maxDate;f.value===d&&m.value===l||(r("calendar-change",[l.toDate(),d&&d.toDate()]),f.value=d,m.value=l,F&&y())},de=H=>H.map(F=>F.format(S));function he(H,F){if(n.unlinkPanels&&F){const l=(H==null?void 0:H.year())||0,d=F.year();M.value=l===d?F.add(1,yt):F}else M.value=k.value.add(1,yt)}return r("set-picker-option",["formatToString",de]),(H,F)=>(P(),U("div",{class:C([e(p).b(),e(o).b(),{"has-sidebar":!!H.$slots.sidebar||e(T)}])},[K("div",{class:C(e(p).e("body-wrapper"))},[ft(H.$slots,"sidebar",{class:C(e(p).e("sidebar"))}),e(T)?(P(),U("div",{key:0,class:C(e(p).e("sidebar"))},[(P(!0),U(pe,null,ge(e(b),(l,d)=>(P(),U("button",{key:d,type:"button",class:C(e(p).e("shortcut")),onClick:w=>e(u)(l)},re(l.text),11,El))),128))],2)):oe("v-if",!0),K("div",{class:C(e(p).e("body"))},[K("div",{class:C([[e(p).e("content"),e(o).e("content")],"is-left"])},[K("div",{class:C(e(o).e("header"))},[K("button",{type:"button",class:C([e(p).e("icon-btn"),"d-arrow-left"]),onClick:F[0]||(F[0]=(...l)=>e(B)&&e(B)(...l))},[I(e(me),null,{default:G(()=>[I(e(pt))]),_:1})],2),H.unlinkPanels?(P(),U("button",{key:0,type:"button",disabled:!e(W),class:C([[e(p).e("icon-btn"),{[e(p).is("disabled")]:!e(W)}],"d-arrow-right"]),onClick:F[1]||(F[1]=(...l)=>e($)&&e($)(...l))},[I(e(me),null,{default:G(()=>[I(e(vt))]),_:1})],10,Al)):oe("v-if",!0),K("div",null,re(e(Y)),1)],2),I(Yt,{"selection-mode":"range",date:k.value,"min-date":e(m),"max-date":e(f),"range-state":e(v),"disabled-date":e(g),onChangerange:e(h),onPick:te,onSelect:e(L)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),K("div",{class:C([[e(p).e("content"),e(o).e("content")],"is-right"])},[K("div",{class:C(e(o).e("header"))},[H.unlinkPanels?(P(),U("button",{key:0,type:"button",disabled:!e(W),class:C([[e(p).e("icon-btn"),{"is-disabled":!e(W)}],"d-arrow-left"]),onClick:F[2]||(F[2]=(...l)=>e(O)&&e(O)(...l))},[I(e(me),null,{default:G(()=>[I(e(pt))]),_:1})],10,Nl)):oe("v-if",!0),K("button",{type:"button",class:C([e(p).e("icon-btn"),"d-arrow-right"]),onClick:F[3]||(F[3]=(...l)=>e(N)&&e(N)(...l))},[I(e(me),null,{default:G(()=>[I(e(vt))]),_:1})],2),K("div",null,re(e(J)),1)],2),I(Yt,{"selection-mode":"range",date:M.value,"min-date":e(m),"max-date":e(f),"range-state":e(v),"disabled-date":e(g),onChangerange:e(h),onPick:te,onSelect:e(L)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var Bl=Le(Ll,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-month-range.vue"]]);const Ul=function(s){switch(s){case"daterange":case"datetimerange":return xl;case"monthrange":return Bl;default:return gl}};z.extend(_n);z.extend(Mn);z.extend(sa);z.extend(Tn);z.extend($n);z.extend(xn);z.extend(Yn);z.extend(En);var Kl=De({name:"ElDatePicker",install:null,props:An,emits:["update:modelValue"],setup(s,{expose:r,emit:n,slots:a}){const i=Pe("picker-panel");Mt("ElPopperOptions",na(ut(s,"popperOptions"))),Mt(Et,{slots:a,pickerNs:i});const b=q();r({focus:(_=!0)=>{var k;(k=b.value)==null||k.focus(_)},handleOpen:()=>{var _;(_=b.value)==null||_.handleOpen()},handleClose:()=>{var _;(_=b.value)==null||_.handleClose()}});const S=_=>{n("update:modelValue",_)};return()=>{var _;const k=(_=s.format)!=null?_:nn[s.type]||st,M=Ul(s.type);return I(cn,Qt(s,{format:k,type:s.type,ref:b,"onUpdate:modelValue":S}),{default:m=>I(M,m,null),"range-separator":a["range-separator"]})}}});const kt=Kl;kt.install=s=>{s.component(kt.name,kt)};const Wl=kt,zl=ke({format:{type:String,default:"HH:mm"},modelValue:String,disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:String,default:"light"},clearable:{type:Boolean,default:!0},size:Jt,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:String,maxTime:String,name:String,prefixIcon:{type:ne([String,Object]),default:()=>Xt},clearIcon:{type:ne([String,Object]),default:()=>Zt}}),Ue=s=>{const r=(s||"").split(":");if(r.length>=2){let n=Number.parseInt(r[0],10);const a=Number.parseInt(r[1],10),i=s.toUpperCase();return i.includes("AM")&&n===12?n=0:i.includes("PM")&&n!==12&&(n+=12),{hours:n,minutes:a}}return null},Ct=(s,r)=>{const n=Ue(s);if(!n)return-1;const a=Ue(r);if(!a)return-1;const i=n.minutes+n.hours*60,b=a.minutes+a.hours*60;return i===b?0:i>b?1:-1},Gt=s=>`${s}`.padStart(2,"0"),ot=s=>`${Gt(s.hours)}:${Gt(s.minutes)}`,Hl=(s,r)=>{const n=Ue(s);if(!n)return"";const a=Ue(r);if(!a)return"";const i={hours:n.hours,minutes:n.minutes};return i.minutes+=a.minutes,i.hours+=a.hours,i.hours+=Math.floor(i.minutes/60),i.minutes=i.minutes%60,ot(i)},jl=De({name:"ElTimeSelect"}),Gl=De({...jl,props:zl,emits:["change","blur","focus","update:modelValue"],setup(s,{expose:r}){const n=s;z.extend(sa);const{Option:a}=Vt,i=Pe("input"),b=q(),g=Qa(),S=R(()=>n.modelValue),_=R(()=>{const h=Ue(n.start);return h?ot(h):null}),k=R(()=>{const h=Ue(n.end);return h?ot(h):null}),M=R(()=>{const h=Ue(n.step);return h?ot(h):null}),m=R(()=>{const h=Ue(n.minTime||"");return h?ot(h):null}),f=R(()=>{const h=Ue(n.maxTime||"");return h?ot(h):null}),v=R(()=>{const h=[];if(n.start&&n.end&&n.step){let y=_.value,u;for(;y&&k.value&&Ct(y,k.value)<=0;)u=z(y,"HH:mm").format(n.format),h.push({value:u,disabled:Ct(y,m.value||"-1:-1")<=0||Ct(y,f.value||"100:100")>=0}),y=Hl(y,M.value)}return h});return r({blur:()=>{var h,y;(y=(h=b.value)==null?void 0:h.blur)==null||y.call(h)},focus:()=>{var h,y;(y=(h=b.value)==null?void 0:h.focus)==null||y.call(h)}}),(h,y)=>(P(),fe(e(Vt),{ref_key:"select",ref:b,"model-value":e(S),disabled:e(g),clearable:h.clearable,"clear-icon":h.clearIcon,size:h.size,effect:h.effect,placeholder:h.placeholder,"default-first-option":"",filterable:h.editable,"onUpdate:modelValue":y[0]||(y[0]=u=>h.$emit("update:modelValue",u)),onChange:y[1]||(y[1]=u=>h.$emit("change",u)),onBlur:y[2]||(y[2]=u=>h.$emit("blur",u)),onFocus:y[3]||(y[3]=u=>h.$emit("focus",u))},{prefix:G(()=>[h.prefixIcon?(P(),fe(e(me),{key:0,class:C(e(i).e("prefix-icon"))},{default:G(()=>[(P(),fe(dt(h.prefixIcon)))]),_:1},8,["class"])):oe("v-if",!0)]),default:G(()=>[(P(!0),U(pe,null,ge(e(v),u=>(P(),fe(e(a),{key:u.value,label:u.value,value:u.value,disabled:u.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable"]))}});var wt=Le(Gl,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-select/src/time-select.vue"]]);wt.install=s=>{s.component(wt.name,wt)};const ql=wt,Zl=ql;const Jl={class:"app-container"},Xl={class:"operation-button"},Ql={class:"footer"},es=De({__name:"index",setup(s){const r=q(),n=na({formData:[{title:"",comment:"",startDate:"",startTime:"",endDate:"",endTime:""}],eventList:["月末战货","古战场","公会战","剧情复刻","神灭战","四象降临","勇气之地","巴布塔","转世外传"]}),{formData:a,eventList:i}=Ra(n),{copy:b}=Ea();async function g(){const M=JSON.parse(JSON.stringify(a.value));M.forEach(m=>{m.start=`${z(m.startDate).format("YYYY-MM-DD")} ${m.startTime}`,m.end=`${z(m.endDate).format("YYYY-MM-DD")} ${m.endTime}`,delete m.startDate,delete m.startTime,delete m.endDate,delete m.endTime}),await b(JSON.stringify(M,null,2)),qa.success("已复制到剪贴板")}function S(M){a.value.splice(M+1,0,{title:"",comment:"",startDate:"",startTime:"",endDate:"",endTime:""})}function _(M){a.value.splice(M,1),a.value.length===0&&(a.value=[{title:"",comment:"",startDate:"",startTime:"",endDate:"",endTime:""}])}function k(){r.value.resetFields(),a.value=[{title:"",comment:"",startDate:"",startTime:"",endDate:"",endTime:""}]}return(M,m)=>{const f=Ga,v=Vt,p=Ba,o=Ka,h=qe,y=ht,u=Wl,L=Zl,T=Wa,B=Ua,N=Fa;return P(),U("div",Jl,[I(N,{class:"box-card",header:"日程生成"},{default:G(()=>[I(B,{ref_key:"formEl",ref:r,model:e(a),"label-width":"80px"},{default:G(()=>[(P(!0),U(pe,null,ge(e(a),($,O)=>(P(),fe(T,{key:O},{default:G(()=>[I(o,{span:8},{default:G(()=>[I(p,{label:`活动${O+1}`},{default:G(()=>[I(v,{modelValue:$.title,"onUpdate:modelValue":Y=>$.title=Y,filterable:"","allow-create":""},{default:G(()=>[(P(!0),U(pe,null,ge(e(i),Y=>(P(),fe(f,{key:Y,value:Y},null,8,["value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label"])]),_:2},1024),I(o,{span:12},{default:G(()=>[I(p,{label:"备注"},{default:G(()=>[I(h,{modelValue:$.comment,"onUpdate:modelValue":Y=>$.comment=Y},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),I(o,{span:4},{default:G(()=>[K("div",Xl,[I(y,{type:"success",icon:e(Aa),circle:"",onClick:Y=>S(O)},null,8,["icon","onClick"]),I(y,{type:"danger",icon:e(Na),circle:"",onClick:Y=>_(O)},null,8,["icon","onClick"])])]),_:2},1024),I(o,{span:12},{default:G(()=>[I(p,{label:"开始时间"},{default:G(()=>[I(u,{modelValue:$.startDate,"onUpdate:modelValue":Y=>$.startDate=Y,type:"date",style:{width:"150px"}},null,8,["modelValue","onUpdate:modelValue"]),I(L,{modelValue:$.startTime,"onUpdate:modelValue":Y=>$.startTime=Y,start:"00:00",step:"01:00",end:"23:00",style:{width:"110px","margin-left":"10px"},placeholder:" "},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),I(o,{span:12},{default:G(()=>[I(p,{label:"结束时间"},{default:G(()=>[I(u,{modelValue:$.endDate,"onUpdate:modelValue":Y=>$.endDate=Y,type:"date",style:{width:"150px"}},null,8,["modelValue","onUpdate:modelValue"]),I(L,{modelValue:$.endTime,"onUpdate:modelValue":Y=>$.endTime=Y,start:"04:59",step:"01:00",end:"23:59",style:{width:"110px","margin-left":"10px"},placeholder:" "},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["model"]),K("div",Ql,[I(y,{type:"primary",onClick:g},{default:G(()=>[Fe(" 生成 ")]),_:1}),I(y,{type:"warning",onClick:k},{default:G(()=>[Fe(" 重置 ")]),_:1})])]),_:1})])}}});const Cs=La(es,[["__scopeId","data-v-1743f36a"]]);export{Cs as default};
