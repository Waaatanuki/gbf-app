import{G as ee,aE as k,H as ae,aI as w,au as N,am as _,d as U,N as te,f,i as S,aM as ie,Q as O,R as oe,a2 as ne,o as i,c as m,b as T,e as a,W as v,a9 as le,p as u,w as h,Z as V,Y as y,g as d,t as B,a as E,aF as se,_ as R,v as re,X as ce,a0 as ue,x as de,ch as G,at as ve,ao as me,al as pe,a4 as H,ad as L,ak as P}from"./index-DQvV8JhW.js";import{_ as fe}from"./SelectBullets.vue_vue_type_script_setup_true_lang-CPCz6DEe.js";import{_ as he}from"./ViewResult.vue_vue_type_style_index_0_lang-CnQZ1sC5.js";import{i as ye}from"./validator-DXcpg057.js";import{U as A,C as z,I as D}from"./event-BB_Ol6Sd.js";import{u as be,a as Ve,c as Ie,b as ge}from"./use-form-item-CDSy7G5v.js";import"./el-button-xtAkNnnG.js";import"./index-B6ruFiKe.js";import"./el-popper-BVpoe3IK.js";import"./aria-BUADUvnR.js";import"./constants-DCiU3_yk.js";import"./focus-trap-l9HWN9FK.js";import"./el-tab-pane-DRZAcZ_i.js";import"./typescript-Bp3YSIOJ.js";import"./strings-D6H5K_mI.js";import"./vnode-CNOFF1C8.js";import"./file-BqIJQYyv.js";import"./el-badge-BCESiJyy.js";import"./el-message-CSUjrPR5.js";import"./castArray-BVhpeBxA.js";import"./refs-D9fdQVF6.js";import"./el-table-column-BrFmaEKb.js";import"./flatten-DjgBPaJP.js";import"./_Uint8Array-DQJVZihF.js";import"./index-D5TAuUNa.js";import"./isEqual-DvEPJO_D.js";import"./debounce-D93ggjiz.js";import"./el-checkbox-CBDwME9G.js";import"./_initCloneObject-D6S15g3z.js";import"./el-tooltip-l0sNRNKZ.js";/* empty css               */const ke=ee({modelValue:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},size:{type:String,validator:ye},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},inactiveActionIcon:{type:k},activeActionIcon:{type:k},activeIcon:{type:k},inactiveIcon:{type:k},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:ae(Function)},id:String,tabindex:{type:[String,Number]},label:{type:String,default:void 0}}),we={[A]:l=>w(l)||N(l)||_(l),[z]:l=>w(l)||N(l)||_(l),[D]:l=>w(l)||N(l)||_(l)},Se=["onClick"],Te=["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"],Ee=["aria-hidden"],Ce=["aria-hidden"],Ne=["aria-hidden"],W="ElSwitch",_e=U({name:W}),Be=U({..._e,props:ke,emits:we,setup(l,{expose:p,emit:s}){const o=l,{formItem:c}=be(),C=Ve(),t=te("switch"),{inputId:Q}=Ie(o,{formItemContext:c}),I=ge(f(()=>o.loading)),$=S(o.modelValue!==!1),b=S(),X=S(),Y=f(()=>[t.b(),t.m(C.value),t.is("disabled",I.value),t.is("checked",n.value)]),Z=f(()=>[t.e("label"),t.em("label","left"),t.is("active",!n.value)]),j=f(()=>[t.e("label"),t.em("label","right"),t.is("active",n.value)]),q=f(()=>({width:ie(o.width)}));O(()=>o.modelValue,()=>{$.value=!0});const F=f(()=>$.value?o.modelValue:!1),n=f(()=>F.value===o.activeValue);[o.activeValue,o.inactiveValue].includes(F.value)||(s(A,o.inactiveValue),s(z,o.inactiveValue),s(D,o.inactiveValue)),O(n,e=>{var r;b.value.checked=e,o.validateEvent&&((r=c==null?void 0:c.validate)==null||r.call(c,"change").catch(x=>oe()))});const g=()=>{const e=n.value?o.inactiveValue:o.activeValue;s(A,e),s(z,e),s(D,e),de(()=>{b.value.checked=n.value})},K=()=>{if(I.value)return;const{beforeChange:e}=o;if(!e){g();return}const r=e();[G(r),w(r)].includes(!0)||ve(W,"beforeChange must return type `Promise<boolean>` or `boolean`"),G(r)?r.then(M=>{M&&g()}).catch(M=>{}):r&&g()},J=()=>{var e,r;(r=(e=b.value)==null?void 0:e.focus)==null||r.call(e)};return ne(()=>{b.value.checked=n.value}),p({focus:J,checked:n}),(e,r)=>(i(),m("div",{class:v(a(Y)),onClick:ce(K,["prevent"])},[T("input",{id:a(Q),ref_key:"input",ref:b,class:v(a(t).e("input")),type:"checkbox",role:"switch","aria-checked":a(n),"aria-disabled":a(I),"aria-label":e.label,name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:a(I),tabindex:e.tabindex,onChange:g,onKeydown:le(K,["enter"])},null,42,Te),!e.inlinePrompt&&(e.inactiveIcon||e.inactiveText)?(i(),m("span",{key:0,class:v(a(Z))},[e.inactiveIcon?(i(),u(a(y),{key:0},{default:h(()=>[(i(),u(V(e.inactiveIcon)))]),_:1})):d("v-if",!0),!e.inactiveIcon&&e.inactiveText?(i(),m("span",{key:1,"aria-hidden":a(n)},B(e.inactiveText),9,Ee)):d("v-if",!0)],2)):d("v-if",!0),T("span",{ref_key:"core",ref:X,class:v(a(t).e("core")),style:re(a(q))},[e.inlinePrompt?(i(),m("div",{key:0,class:v(a(t).e("inner"))},[e.activeIcon||e.inactiveIcon?(i(),u(a(y),{key:0,class:v(a(t).is("icon"))},{default:h(()=>[(i(),u(V(a(n)?e.activeIcon:e.inactiveIcon)))]),_:1},8,["class"])):e.activeText||e.inactiveText?(i(),m("span",{key:1,class:v(a(t).is("text")),"aria-hidden":!a(n)},B(a(n)?e.activeText:e.inactiveText),11,Ce)):d("v-if",!0)],2)):d("v-if",!0),T("div",{class:v(a(t).e("action"))},[e.loading?(i(),u(a(y),{key:0,class:v(a(t).is("loading"))},{default:h(()=>[E(a(se))]),_:1},8,["class"])):a(n)?R(e.$slots,"active-action",{key:1},()=>[e.activeActionIcon?(i(),u(a(y),{key:0},{default:h(()=>[(i(),u(V(e.activeActionIcon)))]),_:1})):d("v-if",!0)]):a(n)?d("v-if",!0):R(e.$slots,"inactive-action",{key:2},()=>[e.inactiveActionIcon?(i(),u(a(y),{key:0},{default:h(()=>[(i(),u(V(e.inactiveActionIcon)))]),_:1})):d("v-if",!0)])],2)],6),!e.inlinePrompt&&(e.activeIcon||e.activeText)?(i(),m("span",{key:1,class:v(a(j))},[e.activeIcon?(i(),u(a(y),{key:0},{default:h(()=>[(i(),u(V(e.activeIcon)))]),_:1})):d("v-if",!0),!e.activeIcon&&e.activeText?(i(),m("span",{key:1,"aria-hidden":!a(n)},B(e.activeText),9,Ne)):d("v-if",!0)],2)):d("v-if",!0)],10,Se))}});var Pe=ue(Be,[["__file","switch.vue"]]);const Ae=me(Pe),ze={relative:""},De={class:"absolute bottom-1 right-2 z-50"},va=U({__name:"index",setup(l){const p=S("result"),s=pe("selectedBullet",[[],[],[],[],[],[]]);return(o,c)=>{const C=Ae;return i(),m("div",ze,[H(E(fe,{modelValue:a(s),"onUpdate:modelValue":c[0]||(c[0]=t=>P(s)?s.value=t:null)},null,8,["modelValue"]),[[L,a(p)==="select"]]),H(E(he,{modelValue:a(s),"onUpdate:modelValue":c[1]||(c[1]=t=>P(s)?s.value=t:null)},null,8,["modelValue"]),[[L,a(p)==="result"]]),T("div",De,[E(C,{modelValue:a(p),"onUpdate:modelValue":c[2]||(c[2]=t=>P(p)?p.value=t:null),"inline-prompt":"",style:{"--el-switch-on-color":"#13ce66","--el-switch-off-color":"#ff4949"},"active-text":"查看素材","active-value":"select","inactive-text":"选择子弹","inactive-value":"result"},null,8,["modelValue"])])])}}});export{va as default};
