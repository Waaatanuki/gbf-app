import{N as _,au as J,av as G,aw as j,d as I,a2 as Q,C as q,s as L,o as k,c as X,b as A,L as b,J as m,e,q as Z,a as T,w as h,l as O,a7 as x,a6 as ee,a8 as U,n as H,M as V,ax as oe,aj as se,D as te,g as z,O as ae,G as le,a9 as ne,ay as re,T as ie,ag as de,az as ce,R as ue}from"./index-088e2a39.js";import{d as me,a as fe,b as pe,c as ge,u as ve,E as he,e as be}from"./el-overlay-4d2d9182.js";import{F as ye,E as Ce}from"./focus-trap-2de3d5aa.js";import{c as Ee}from"./refs-99aea260.js";import{u as K}from"./index-13302eec.js";const ke=(i,a,d)=>{let y={offsetX:0,offsetY:0};const l=s=>{const p=s.clientX,E=s.clientY,{offsetX:c,offsetY:g}=y,u=i.value.getBoundingClientRect(),t=u.left,v=u.top,$=u.width,F=u.height,S=document.documentElement.clientWidth,D=document.documentElement.clientHeight,B=-t+c,Y=-v+g,N=S-t-$+c,P=D-v-F+g,M=R=>{const o=Math.min(Math.max(c+R.clientX-p,B),N),r=Math.min(Math.max(g+R.clientY-E,Y),P);y={offsetX:o,offsetY:r},i.value.style.transform=`translate(${j(o)}, ${j(r)})`},n=()=>{document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",n)};document.addEventListener("mousemove",M),document.addEventListener("mouseup",n)},f=()=>{a.value&&i.value&&a.value.addEventListener("mousedown",l)},C=()=>{a.value&&i.value&&a.value.removeEventListener("mousedown",l)};_(()=>{J(()=>{d.value?f():C()})}),G(()=>{C()})},W=Symbol("dialogInjectionKey"),we=["aria-level"],Le=["aria-label"],$e=["id"],De=I({name:"ElDialogContent"}),Me=I({...De,props:me,emits:fe,setup(i){const a=i,{t:d}=Q(),{Close:y}=oe,{dialogRef:l,headerRef:f,bodyId:C,ns:s,style:p}=q(W),{focusTrapRef:E}=q(ye),c=L(()=>[s.b(),s.is("fullscreen",a.fullscreen),s.is("draggable",a.draggable),s.is("align-center",a.alignCenter),{[s.m("center")]:a.center},a.customClass]),g=Ee(E,l),u=L(()=>a.draggable);return ke(l,f,u),(t,v)=>(k(),X("div",{ref:e(g),class:m(e(c)),style:H(e(p)),tabindex:"-1"},[A("header",{ref_key:"headerRef",ref:f,class:m(e(s).e("header"))},[b(t.$slots,"header",{},()=>[A("span",{role:"heading","aria-level":t.ariaLevel,class:m(e(s).e("title"))},Z(t.title),11,we)]),t.showClose?(k(),X("button",{key:0,"aria-label":e(d)("el.dialog.close"),class:m(e(s).e("headerbtn")),type:"button",onClick:v[0]||(v[0]=$=>t.$emit("close"))},[T(e(ee),{class:m(e(s).e("close"))},{default:h(()=>[(k(),O(x(t.closeIcon||e(y))))]),_:1},8,["class"])],10,Le)):U("v-if",!0)],2),A("div",{id:e(C),class:m(e(s).e("body"))},[b(t.$slots,"default")],10,$e),t.$slots.footer?(k(),X("footer",{key:0,class:m(e(s).e("footer"))},[b(t.$slots,"footer")],2)):U("v-if",!0)],6))}});var Re=V(Me,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const Ae=["aria-label","aria-labelledby","aria-describedby"],Te=I({name:"ElDialog",inheritAttrs:!1}),Ie=I({...Te,props:pe,emits:ge,setup(i,{expose:a}){const d=i,y=se();K({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},L(()=>!!y.title)),K({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},L(()=>!!d.customClass));const l=te("dialog"),f=z(),C=z(),s=z(),{visible:p,titleId:E,bodyId:c,style:g,overlayDialogStyle:u,rendered:t,zIndex:v,afterEnter:$,afterLeave:F,beforeLeave:S,handleClose:D,onModalClick:B,onOpenAutoFocus:Y,onCloseAutoFocus:N,onCloseRequested:P,onFocusoutPrevented:M}=ve(d,f);ae(W,{dialogRef:f,headerRef:C,bodyId:c,ns:l,rendered:t,style:g});const n=be(B),R=L(()=>d.draggable&&!d.fullscreen);return a({visible:p,dialogContentRef:s}),(o,r)=>(k(),O(ce,{to:"body",disabled:!o.appendToBody},[T(de,{name:"dialog-fade",onAfterEnter:e($),onAfterLeave:e(F),onBeforeLeave:e(S),persisted:""},{default:h(()=>[le(T(e(he),{"custom-mask-event":"",mask:o.modal,"overlay-class":o.modalClass,"z-index":e(v)},{default:h(()=>[A("div",{role:"dialog","aria-modal":"true","aria-label":o.title||void 0,"aria-labelledby":o.title?void 0:e(E),"aria-describedby":e(c),class:m(`${e(l).namespace.value}-overlay-dialog`),style:H(e(u)),onClick:r[0]||(r[0]=(...w)=>e(n).onClick&&e(n).onClick(...w)),onMousedown:r[1]||(r[1]=(...w)=>e(n).onMousedown&&e(n).onMousedown(...w)),onMouseup:r[2]||(r[2]=(...w)=>e(n).onMouseup&&e(n).onMouseup(...w))},[T(e(Ce),{loop:"",trapped:e(p),"focus-start-el":"container",onFocusAfterTrapped:e(Y),onFocusAfterReleased:e(N),onFocusoutPrevented:e(M),onReleaseRequested:e(P)},{default:h(()=>[e(t)?(k(),O(Re,ne({key:0,ref_key:"dialogContentRef",ref:s},o.$attrs,{"custom-class":o.customClass,center:o.center,"align-center":o.alignCenter,"close-icon":o.closeIcon,draggable:e(R),fullscreen:o.fullscreen,"show-close":o.showClose,title:o.title,"aria-level":o.headerAriaLevel,onClose:e(D)}),re({header:h(()=>[o.$slots.title?b(o.$slots,"title",{key:1}):b(o.$slots,"header",{key:0,close:e(D),titleId:e(E),titleClass:e(l).e("title")})]),default:h(()=>[b(o.$slots,"default")]),_:2},[o.$slots.footer?{name:"footer",fn:h(()=>[b(o.$slots,"footer")])}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","aria-level","onClose"])):U("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,Ae)]),_:3},8,["mask","overlay-class","z-index"]),[[ie,e(p)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var Fe=V(Ie,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const Xe=ue(Fe);export{Xe as E};
